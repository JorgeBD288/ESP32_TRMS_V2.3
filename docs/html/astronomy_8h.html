<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32_TRMS_V2.0: Referencia del archivo lib/TFT_eSPI/examples/Sprite/Orrery/astronomy.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP32_TRMS_V2.0
   </div>
   <div id="projectbrief">Control TRMS con ESP32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Buscar',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('astronomy_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Cargando...</div>
<div class="SRStatus" id="Searching">Buscando...</div>
<div class="SRStatus" id="NoMatches">Nada coincide</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Referencia del archivo astronomy.h</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
</div>
<p><a href="astronomy_8h_source.html">Ir al código fuente de este archivo.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Estructuras de datos</h2></td></tr>
<tr class="memitem:astro_5Fangle_5Fresult_5Ft" id="r_astro_5Fangle_5Fresult_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An angular value expressed in degrees.  <a href="structastro__angle__result__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fapsis_5Ft" id="r_astro_5Fapsis_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An apsis event: pericenter (closest approach) or apocenter (farthest distance).  <a href="structastro__apsis__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fconstellation_5Ft" id="r_astro_5Fconstellation_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__constellation__t.html">astro_constellation_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports the constellation that a given celestial point lies within.  <a href="structastro__constellation__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Feclipse_5Fevent_5Ft" id="r_astro_5Feclipse_5Fevent_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__eclipse__event__t.html">astro_eclipse_event_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds a time and the observed altitude of the Sun at that time.  <a href="structastro__eclipse__event__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fecliptic_5Ft" id="r_astro_5Fecliptic_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__ecliptic__t.html">astro_ecliptic_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ecliptic angular and Cartesian coordinates.  <a href="structastro__ecliptic__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Felongation_5Ft" id="r_astro_5Felongation_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__elongation__t.html">astro_elongation_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains information about the visibility of a celestial body at a given date and time. See <a class="el" href="astronomy_8c.html#a00bfd7542d6ca36be8603ce9185fd83a" title="Determines visibility of a celestial body relative to the Sun, as seen from the Earth.">Astronomy_Elongation</a> for more detailed information about the members of this structure. See also <a class="el" href="astronomy_8c.html#a8a55a0edb77f90977ce3b11fe4346599" title="Finds a date and time when Mercury or Venus reaches its maximum angle from the Sun as seen from the E...">Astronomy_SearchMaxElongation</a> for how to search for maximum elongation events.  <a href="structastro__elongation__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fequatorial_5Ft" id="r_astro_5Fequatorial_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__equatorial__t.html">astro_equatorial_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equatorial angular coordinates.  <a href="structastro__equatorial__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Ffunc_5Fresult_5Ft" id="r_astro_5Ffunc_5Fresult_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__func__result__t.html">astro_func_result_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A real value returned by a function whose ascending root is to be found.  <a href="structastro__func__result__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fglobal_5Fsolar_5Feclipse_5Ft" id="r_astro_5Fglobal_5Fsolar_5Feclipse_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__global__solar__eclipse__t.html">astro_global_solar_eclipse_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports the time and geographic location of the peak of a solar eclipse.  <a href="structastro__global__solar__eclipse__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fhorizon_5Ft" id="r_astro_5Fhorizon_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__horizon__t.html">astro_horizon_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Coordinates of a celestial body as seen by a topocentric observer.  <a href="structastro__horizon__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fhour_5Fangle_5Ft" id="r_astro_5Fhour_5Fangle_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__hour__angle__t.html">astro_hour_angle_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a celestial body crossing a specific hour angle.  <a href="structastro__hour__angle__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fillum_5Ft" id="r_astro_5Fillum_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__illum__t.html">astro_illum_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about the brightness and illuminated shape of a celestial body.  <a href="structastro__illum__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Flocal_5Fsolar_5Feclipse_5Ft" id="r_astro_5Flocal_5Fsolar_5Feclipse_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__local__solar__eclipse__t.html">astro_local_solar_eclipse_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a solar eclipse as seen by an observer at a given time and geographic location.  <a href="structastro__local__solar__eclipse__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Flunar_5Feclipse_5Ft" id="r_astro_5Flunar_5Feclipse_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__lunar__eclipse__t.html">astro_lunar_eclipse_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a lunar eclipse.  <a href="structastro__lunar__eclipse__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fmoon_5Fquarter_5Ft" id="r_astro_5Fmoon_5Fquarter_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A lunar quarter event (new moon, first quarter, full moon, or third quarter) along with its date and time.  <a href="structastro__moon__quarter__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fobserver_5Ft" id="r_astro_5Fobserver_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The location of an observer on (or near) the surface of the Earth.  <a href="structastro__observer__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Frotation_5Ft" id="r_astro_5Frotation_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains a rotation matrix that can be used to transform one coordinate system to another.  <a href="structastro__rotation__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fsearch_5Fresult_5Ft" id="r_astro_5Fsearch_5Fresult_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The result of a search for an astronomical event.  <a href="structastro__search__result__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fseasons_5Ft" id="r_astro_5Fseasons_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__seasons__t.html">astro_seasons_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dates and times of changes of season for a given calendar year. Call <a class="el" href="astronomy_8c.html#aeac16256031b618481fee2ef6aacee02" title="Finds both equinoxes and both solstices for a given calendar year.">Astronomy_Seasons</a> to calculate this data structure for a given year.  <a href="structastro__seasons__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fspherical_5Ft" id="r_astro_5Fspherical_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__spherical__t.html">astro_spherical_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Spherical coordinates: latitude, longitude, distance.  <a href="structastro__spherical__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Ftime_5Ft" id="r_astro_5Ftime_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__time__t.html">astro_time_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A date and time used for astronomical calculations.  <a href="structastro__time__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Ftransit_5Ft" id="r_astro_5Ftransit_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__transit__t.html">astro_transit_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a transit of Mercury or Venus, as seen from the Earth.  <a href="structastro__transit__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Futc_5Ft" id="r_astro_5Futc_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__utc__t.html">astro_utc_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A calendar date and time expressed in UTC.  <a href="structastro__utc__t.html#details">Más...</a><br /></td></tr>
<tr class="memitem:astro_5Fvector_5Ft" id="r_astro_5Fvector_5Ft"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structastro__vector__t.html">astro_vector_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A 3D Cartesian vector whose components are expressed in Astronomical Units (AU).  <a href="structastro__vector__t.html#details">Más...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
defines</h2></td></tr>
<tr class="memitem:addd9ba1b79de512abcc9bc277a233dca" id="r_addd9ba1b79de512abcc9bc277a233dca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#addd9ba1b79de512abcc9bc277a233dca">MAX_BODY</a>&#160;&#160;&#160;<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462">BODY_SSB</a></td></tr>
<tr class="memitem:a59bcbb5f6896e44dfd79fa63508cfec3" id="r_a59bcbb5f6896e44dfd79fa63508cfec3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59bcbb5f6896e44dfd79fa63508cfec3">MAX_YEAR</a>&#160;&#160;&#160;2200</td></tr>
<tr class="memitem:a19122b2f9c555d57785d4aa3b32984b2" id="r_a19122b2f9c555d57785d4aa3b32984b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19122b2f9c555d57785d4aa3b32984b2">MIN_BODY</a>&#160;&#160;&#160;<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a></td></tr>
<tr class="memitem:a66979cc5bd82220ee4c973b4bcb36f10" id="r_a66979cc5bd82220ee4c973b4bcb36f10"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66979cc5bd82220ee4c973b4bcb36f10">MIN_YEAR</a>&#160;&#160;&#160;1700</td></tr>
<tr class="memitem:a9e50b39673bf3d543f000c5d367fa66b" id="r_a9e50b39673bf3d543f000c5d367fa66b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e50b39673bf3d543f000c5d367fa66b">TIME_TEXT_BYTES</a>&#160;&#160;&#160;25</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
typedefs</h2></td></tr>
<tr class="memitem:af3069d908ec926afb25fdcb72ba779fc" id="r_af3069d908ec926afb25fdcb72ba779fc"><td class="memItemLeft" align="right" valign="top">typedef double(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3069d908ec926afb25fdcb72ba779fc">astro_deltat_func</a>) (double ut)</td></tr>
<tr class="memdesc:af3069d908ec926afb25fdcb72ba779fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to a function that calculates Delta T.  <br /></td></tr>
<tr class="memitem:a4a9f28e7e03615fd48f124d6b1644086" id="r_a4a9f28e7e03615fd48f124d6b1644086"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structastro__func__result__t.html">astro_func_result_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a9f28e7e03615fd48f124d6b1644086">astro_search_func_t</a>) (void *context, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a4a9f28e7e03615fd48f124d6b1644086"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to a function that is to be passed as a callback to <a class="el" href="#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a>.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumeraciones</h2></td></tr>
<tr class="memitem:a3ab2a1a2ef0ecb9093ce1e877c431dc6" id="r_a3ab2a1a2ef0ecb9093ce1e877c431dc6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6">astro_aberration_t</a> { <a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a>
, <a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc">NO_ABERRATION</a>
 }</td></tr>
<tr class="memdesc:a3ab2a1a2ef0ecb9093ce1e877c431dc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aberration calculation options.  <a href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6">Más...</a><br /></td></tr>
<tr class="memitem:a637f68d8e61bfb5f1e49d6a115a05330" id="r_a637f68d8e61bfb5f1e49d6a115a05330"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330">astro_apsis_kind_t</a> { <a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a>
, <a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a>
, <a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330a3e698a82ece643ff6ae813f7dee46bbe">APSIS_INVALID</a>
 }</td></tr>
<tr class="memdesc:a637f68d8e61bfb5f1e49d6a115a05330"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of apsis: pericenter (closest approach) or apocenter (farthest distance).  <a href="#a637f68d8e61bfb5f1e49d6a115a05330">Más...</a><br /></td></tr>
<tr class="memitem:abc11a4185b6fd5086da5ee9d3c7ce928" id="r_abc11a4185b6fd5086da5ee9d3c7ce928"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> { <br />
&#160;&#160;<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a039bc64adbb31933f941a780f11b7ac9">BODY_INVALID</a> = -1
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>
, <br />
&#160;&#160;<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9">BODY_MARS</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a">BODY_JUPITER</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3">BODY_SATURN</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87">BODY_URANUS</a>
, <br />
&#160;&#160;<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250">BODY_NEPTUNE</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa">BODY_PLUTO</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>
, <br />
&#160;&#160;<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245">BODY_EMB</a>
, <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462">BODY_SSB</a>
<br />
 }</td></tr>
<tr class="memdesc:abc11a4185b6fd5086da5ee9d3c7ce928"><td class="mdescLeft">&#160;</td><td class="mdescRight">A celestial body.  <a href="#abc11a4185b6fd5086da5ee9d3c7ce928">Más...</a><br /></td></tr>
<tr class="memitem:a842102856a76a7f456f9fe3264bac94e" id="r_a842102856a76a7f456f9fe3264bac94e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a842102856a76a7f456f9fe3264bac94e">astro_direction_t</a> { <a class="el" href="#a842102856a76a7f456f9fe3264bac94eae3a092326954b9747c124ced8122c4ea">DIRECTION_RISE</a> = +1
, <a class="el" href="#a842102856a76a7f456f9fe3264bac94ead5e08c51ffaf866f6a03b6ef0094aae8">DIRECTION_SET</a> = -1
 }</td></tr>
<tr class="memdesc:a842102856a76a7f456f9fe3264bac94e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects whether to search for a rise time or a set time.  <a href="#a842102856a76a7f456f9fe3264bac94e">Más...</a><br /></td></tr>
<tr class="memitem:a47b549ecf1d701370816c8a2475a5ab0" id="r_a47b549ecf1d701370816c8a2475a5ab0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47b549ecf1d701370816c8a2475a5ab0">astro_eclipse_kind_t</a> { <br />
&#160;&#160;<a class="el" href="#a47b549ecf1d701370816c8a2475a5ab0a2aa1d1944aeef013bbe113625ed2abdb">ECLIPSE_NONE</a>
, <a class="el" href="#a47b549ecf1d701370816c8a2475a5ab0a6c812835ae62ff9ac283f5679d887e99">ECLIPSE_PENUMBRAL</a>
, <a class="el" href="#a47b549ecf1d701370816c8a2475a5ab0ae0bac54c134d87ebb6cf5a0b93a8d693">ECLIPSE_PARTIAL</a>
, <a class="el" href="#a47b549ecf1d701370816c8a2475a5ab0aff8d8c3e1b38d2c8a149e68d009034ba">ECLIPSE_ANNULAR</a>
, <br />
&#160;&#160;<a class="el" href="#a47b549ecf1d701370816c8a2475a5ab0a05cb8c0f98ce41ffe81dda3b65f0c822">ECLIPSE_TOTAL</a>
<br />
 }</td></tr>
<tr class="memdesc:a47b549ecf1d701370816c8a2475a5ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The different kinds of lunar/solar eclipses.  <a href="#a47b549ecf1d701370816c8a2475a5ab0">Más...</a><br /></td></tr>
<tr class="memitem:acfd27b57f62aed3dde359047a35ac00c" id="r_acfd27b57f62aed3dde359047a35ac00c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfd27b57f62aed3dde359047a35ac00c">astro_equator_date_t</a> { <a class="el" href="#acfd27b57f62aed3dde359047a35ac00ca58ecdc09bd205ed7fc148f3318333255">EQUATOR_J2000</a>
, <a class="el" href="#acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03">EQUATOR_OF_DATE</a>
 }</td></tr>
<tr class="memdesc:acfd27b57f62aed3dde359047a35ac00c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects the date for which the Earth's equator is to be used for representing equatorial coordinates.  <a href="#acfd27b57f62aed3dde359047a35ac00c">Más...</a><br /></td></tr>
<tr class="memitem:affbe5c88a5c372b8585d62414b6d03d3" id="r_affbe5c88a5c372b8585d62414b6d03d3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a> { <a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6">REFRACTION_NONE</a>
, <a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a>
, <a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26">REFRACTION_JPLHOR</a>
 }</td></tr>
<tr class="memdesc:affbe5c88a5c372b8585d62414b6d03d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects whether to correct for atmospheric refraction, and if so, how.  <a href="#affbe5c88a5c372b8585d62414b6d03d3">Más...</a><br /></td></tr>
<tr class="memitem:a3605f063314f858dec26db307c4e8214" id="r_a3605f063314f858dec26db307c4e8214"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3605f063314f858dec26db307c4e8214">astro_status_t</a> { <br />
&#160;&#160;<a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214abe1744336f88c4358481b138de994344">ASTRO_NOT_INITIALIZED</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680">ASTRO_NO_CONVERGE</a>
, <br />
&#160;&#160;<a class="el" href="#a3605f063314f858dec26db307c4e8214a444cd7276a045b4cc757312c86ed21a5">ASTRO_BAD_TIME</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214aa6d6b76d4d8cfcf83e889dfd8d70a874">ASTRO_BAD_VECTOR</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a>
, <br />
&#160;&#160;<a class="el" href="#a3605f063314f858dec26db307c4e8214adb7bba8df971053f5d72e4052fd9b637">ASTRO_NO_MOON_QUARTER</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214ac17d6f0981aaa1fe114c6da5d86c60e6">ASTRO_WRONG_MOON_QUARTER</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>
, <br />
&#160;&#160;<a class="el" href="#a3605f063314f858dec26db307c4e8214a712702035b1895cf776b890b3e60dea5">ASTRO_FAIL_APSIS</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743">ASTRO_BUFFER_TOO_SMALL</a>
, <a class="el" href="#a3605f063314f858dec26db307c4e8214a60d6eacf182964cb209c820fd6710717">ASTRO_OUT_OF_MEMORY</a>
<br />
 }</td></tr>
<tr class="memdesc:a3605f063314f858dec26db307c4e8214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates success/failure of an Astronomy Engine function call.  <a href="#a3605f063314f858dec26db307c4e8214">Más...</a><br /></td></tr>
<tr class="memitem:a626cfe02e4ee23bd16944a4b706df3d9" id="r_a626cfe02e4ee23bd16944a4b706df3d9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9">astro_time_format_t</a> { <a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9a059b1be3ddb340fc7e2c6ffa4fc0e6ec">TIME_FORMAT_DAY</a>
, <a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9a0655717469d222872875c0ed0d0f94e2">TIME_FORMAT_MINUTE</a>
, <a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9ad29d40994319a1a795857cb4e1bddfef">TIME_FORMAT_SECOND</a>
, <a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9ac2f67e3e4b0738f7785fc5371a8159b7">TIME_FORMAT_MILLI</a>
 }</td></tr>
<tr class="memdesc:a626cfe02e4ee23bd16944a4b706df3d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects the output format of the function <a class="el" href="#a50957b12cb6796ee46b348ebe0985f4e" title="Formats an astro_time_t value as an ISO 8601 string.">Astronomy_FormatTime</a>.  <a href="#a626cfe02e4ee23bd16944a4b706df3d9">Más...</a><br /></td></tr>
<tr class="memitem:a4a3fd16133cdaed41936a10e8520f9ff" id="r_a4a3fd16133cdaed41936a10e8520f9ff"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a3fd16133cdaed41936a10e8520f9ff">astro_visibility_t</a> { <a class="el" href="#a4a3fd16133cdaed41936a10e8520f9ffa7921f301f9f5e8a841e2734e446f7ac7">VISIBLE_MORNING</a>
, <a class="el" href="#a4a3fd16133cdaed41936a10e8520f9ffad72b44bfab1d83a2458cfa7d59de0033">VISIBLE_EVENING</a>
 }</td></tr>
<tr class="memdesc:a4a3fd16133cdaed41936a10e8520f9ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates whether a body (especially Mercury or Venus) is best seen in the morning or evening.  <a href="#a4a3fd16133cdaed41936a10e8520f9ff">Más...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Funciones</h2></td></tr>
<tr class="memitem:a5f265f92cb2aa607ed9f3d883a31728a" id="r_a5f265f92cb2aa607ed9f3d883a31728a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__time__t.html">astro_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time, double days)</td></tr>
<tr class="memdesc:a5f265f92cb2aa607ed9f3d883a31728a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the sum or difference of an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> with a specified floating point number of days.  <br /></td></tr>
<tr class="memitem:a9c87f5a85b80e27ef80c91b7875c74f7" id="r_a9c87f5a85b80e27ef80c91b7875c74f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c87f5a85b80e27ef80c91b7875c74f7">Astronomy_AngleFromSun</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a9c87f5a85b80e27ef80c91b7875c74f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the angle between the given body and the Sun, as seen from the Earth.  <br /></td></tr>
<tr class="memitem:a56a670ffe40df80867cf3f82c2f2b6e0" id="r_a56a670ffe40df80867cf3f82c2f2b6e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56a670ffe40df80867cf3f82c2f2b6e0">Astronomy_BodyCode</a> (const char *name)</td></tr>
<tr class="memdesc:a56a670ffe40df80867cf3f82c2f2b6e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928" title="A celestial body.">astro_body_t</a> value corresponding to the given English name.  <br /></td></tr>
<tr class="memitem:a814cbefce83c626072463454ca534bc7" id="r_a814cbefce83c626072463454ca534bc7"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a814cbefce83c626072463454ca534bc7">Astronomy_BodyName</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body)</td></tr>
<tr class="memdesc:a814cbefce83c626072463454ca534bc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the name of a celestial body.  <br /></td></tr>
<tr class="memitem:a0563a05b3f05a7694e447c50a2c2c4d2" id="r_a0563a05b3f05a7694e447c50a2c2c4d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0563a05b3f05a7694e447c50a2c2c4d2">Astronomy_CombineRotation</a> (<a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> <a class="el" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>, <a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> b)</td></tr>
<tr class="memdesc:a0563a05b3f05a7694e447c50a2c2c4d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a rotation based on applying one rotation followed by another.  <br /></td></tr>
<tr class="memitem:a7151f75f03afd54f260790eb2692fbbf" id="r_a7151f75f03afd54f260790eb2692fbbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__constellation__t.html">astro_constellation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7151f75f03afd54f260790eb2692fbbf">Astronomy_Constellation</a> (double ra, double dec)</td></tr>
<tr class="memdesc:a7151f75f03afd54f260790eb2692fbbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the constellation that contains the given point in the sky.  <br /></td></tr>
<tr class="memitem:a3c867cf9ecef60bc1c5093d41b7c00f7" id="r_a3c867cf9ecef60bc1c5093d41b7c00f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__time__t.html">astro_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c867cf9ecef60bc1c5093d41b7c00f7">Astronomy_CurrentTime</a> (void)</td></tr>
<tr class="memdesc:a3c867cf9ecef60bc1c5093d41b7c00f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the computer's current date and time in the form of an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a>.  <br /></td></tr>
<tr class="memitem:a49d6510da542fa4ce77c898fefedfb6f" id="r_a49d6510da542fa4ce77c898fefedfb6f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49d6510da542fa4ce77c898fefedfb6f">Astronomy_DeltaT_EspenakMeeus</a> (double ut)</td></tr>
<tr class="memdesc:a49d6510da542fa4ce77c898fefedfb6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default Delta T function used by Astronomy Engine.  <br /></td></tr>
<tr class="memitem:a0154cfe45f4c21430a101ea4c515d3ec" id="r_a0154cfe45f4c21430a101ea4c515d3ec"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0154cfe45f4c21430a101ea4c515d3ec">Astronomy_DeltaT_JplHorizons</a> (double ut)</td></tr>
<tr class="memdesc:a0154cfe45f4c21430a101ea4c515d3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">A Delta T function that approximates the one used by the JPL Horizons tool.  <br /></td></tr>
<tr class="memitem:aa0f1fd70009e4211ae82f28105bb72b9" id="r_aa0f1fd70009e4211ae82f28105bb72b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__ecliptic__t.html">astro_ecliptic_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0f1fd70009e4211ae82f28105bb72b9">Astronomy_Ecliptic</a> (<a class="el" href="structastro__vector__t.html">astro_vector_t</a> equ)</td></tr>
<tr class="memdesc:aa0f1fd70009e4211ae82f28105bb72b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts J2000 equatorial Cartesian coordinates to J2000 ecliptic coordinates.  <br /></td></tr>
<tr class="memitem:a59a36426375cf0171db007d775fdcaa4" id="r_a59a36426375cf0171db007d775fdcaa4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59a36426375cf0171db007d775fdcaa4">Astronomy_EclipticLongitude</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a59a36426375cf0171db007d775fdcaa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates heliocentric ecliptic longitude of a body based on the J2000 equinox.  <br /></td></tr>
<tr class="memitem:a00bfd7542d6ca36be8603ce9185fd83a" id="r_a00bfd7542d6ca36be8603ce9185fd83a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__elongation__t.html">astro_elongation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00bfd7542d6ca36be8603ce9185fd83a">Astronomy_Elongation</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a00bfd7542d6ca36be8603ce9185fd83a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines visibility of a celestial body relative to the Sun, as seen from the Earth.  <br /></td></tr>
<tr class="memitem:aa0bb7ca3d4e511d37cd5e0b5ab437273" id="r_aa0bb7ca3d4e511d37cd5e0b5ab437273"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__equatorial__t.html">astro_equatorial_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0bb7ca3d4e511d37cd5e0b5ab437273">Astronomy_Equator</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> *time, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer, <a class="el" href="#acfd27b57f62aed3dde359047a35ac00c">astro_equator_date_t</a> equdate, <a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6">astro_aberration_t</a> aberration)</td></tr>
<tr class="memdesc:aa0bb7ca3d4e511d37cd5e0b5ab437273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates equatorial coordinates of a celestial body as seen by an observer on the Earth's surface.  <br /></td></tr>
<tr class="memitem:a805df1836dff74734d51b0ec144724e5" id="r_a805df1836dff74734d51b0ec144724e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__equatorial__t.html">astro_equatorial_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a805df1836dff74734d51b0ec144724e5">Astronomy_EquatorFromVector</a> (<a class="el" href="structastro__vector__t.html">astro_vector_t</a> vector)</td></tr>
<tr class="memdesc:a805df1836dff74734d51b0ec144724e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an equatorial vector, calculates equatorial angular coordinates.  <br /></td></tr>
<tr class="memitem:a50957b12cb6796ee46b348ebe0985f4e" id="r_a50957b12cb6796ee46b348ebe0985f4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a3605f063314f858dec26db307c4e8214">astro_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50957b12cb6796ee46b348ebe0985f4e">Astronomy_FormatTime</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9">astro_time_format_t</a> format, char *text, size_t size)</td></tr>
<tr class="memdesc:a50957b12cb6796ee46b348ebe0985f4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value as an ISO 8601 string.  <br /></td></tr>
<tr class="memitem:ab45536d97a777cb7beab7d6814ed7d49" id="r_ab45536d97a777cb7beab7d6814ed7d49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__vector__t.html">astro_vector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab45536d97a777cb7beab7d6814ed7d49">Astronomy_GeoMoon</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:ab45536d97a777cb7beab7d6814ed7d49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the geocentric position of the Moon at a given time.  <br /></td></tr>
<tr class="memitem:a034ac9033b498171f708501d0adcc381" id="r_a034ac9033b498171f708501d0adcc381"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__vector__t.html">astro_vector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a034ac9033b498171f708501d0adcc381">Astronomy_GeoVector</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6">astro_aberration_t</a> aberration)</td></tr>
<tr class="memdesc:a034ac9033b498171f708501d0adcc381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates geocentric Cartesian coordinates of a body in the J2000 equatorial system.  <br /></td></tr>
<tr class="memitem:a1968d4049c663695141340e1747cc5ca" id="r_a1968d4049c663695141340e1747cc5ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__func__result__t.html">astro_func_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1968d4049c663695141340e1747cc5ca">Astronomy_HelioDistance</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a1968d4049c663695141340e1747cc5ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the distance from a body to the Sun at a given time.  <br /></td></tr>
<tr class="memitem:a029bcfa06f5aabc5f8bbfc9e8ce42fbc" id="r_a029bcfa06f5aabc5f8bbfc9e8ce42fbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__vector__t.html">astro_vector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a029bcfa06f5aabc5f8bbfc9e8ce42fbc">Astronomy_HelioVector</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a029bcfa06f5aabc5f8bbfc9e8ce42fbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates heliocentric Cartesian coordinates of a body in the J2000 equatorial system.  <br /></td></tr>
<tr class="memitem:a010c68c33f44cc7a7ad3de40bedcc3b5" id="r_a010c68c33f44cc7a7ad3de40bedcc3b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__horizon__t.html">astro_horizon_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a010c68c33f44cc7a7ad3de40bedcc3b5">Astronomy_Horizon</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> *time, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer, double ra, double dec, <a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a> refraction)</td></tr>
<tr class="memdesc:a010c68c33f44cc7a7ad3de40bedcc3b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the apparent location of a body relative to the local horizon of an observer on the Earth.  <br /></td></tr>
<tr class="memitem:aa0380e1f15614c76e902aa08debaf0b5" id="r_aa0380e1f15614c76e902aa08debaf0b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__spherical__t.html">astro_spherical_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0380e1f15614c76e902aa08debaf0b5">Astronomy_HorizonFromVector</a> (<a class="el" href="structastro__vector__t.html">astro_vector_t</a> vector, <a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a> refraction)</td></tr>
<tr class="memdesc:aa0380e1f15614c76e902aa08debaf0b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts Cartesian coordinates to horizontal coordinates.  <br /></td></tr>
<tr class="memitem:a25bd01696c3a6cf73441364e007fb4f6" id="r_a25bd01696c3a6cf73441364e007fb4f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__illum__t.html">astro_illum_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25bd01696c3a6cf73441364e007fb4f6">Astronomy_Illumination</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a25bd01696c3a6cf73441364e007fb4f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds visual magnitude, phase angle, and other illumination information about a celestial body.  <br /></td></tr>
<tr class="memitem:a67d9869912511c38214ee5a46a346205" id="r_a67d9869912511c38214ee5a46a346205"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67d9869912511c38214ee5a46a346205">Astronomy_InverseRefraction</a> (<a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a> refraction, double bent_altitude)</td></tr>
<tr class="memdesc:a67d9869912511c38214ee5a46a346205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the inverse of an atmospheric refraction angle.  <br /></td></tr>
<tr class="memitem:a3edc238ee17d2639c006950bed61d1b4" id="r_a3edc238ee17d2639c006950bed61d1b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3edc238ee17d2639c006950bed61d1b4">Astronomy_InverseRotation</a> (<a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> <a class="el" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>)</td></tr>
<tr class="memdesc:a3edc238ee17d2639c006950bed61d1b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the inverse of a rotation matrix.  <br /></td></tr>
<tr class="memitem:a032fe0f03d2318de3a15d534474083ca" id="r_a032fe0f03d2318de3a15d534474083ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a032fe0f03d2318de3a15d534474083ca">Astronomy_LongitudeFromSun</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a032fe0f03d2318de3a15d534474083ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a body's ecliptic longitude with respect to the Sun, as seen from the Earth.  <br /></td></tr>
<tr class="memitem:aa7f8314916665a647df682f28d425b3a" id="r_aa7f8314916665a647df682f28d425b3a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__observer__t.html">astro_observer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7f8314916665a647df682f28d425b3a">Astronomy_MakeObserver</a> (double latitude, double longitude, double height)</td></tr>
<tr class="memdesc:aa7f8314916665a647df682f28d425b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an observer object that represents a location on or near the surface of the Earth.  <br /></td></tr>
<tr class="memitem:a7a11e32bba1bcfd2970a7aebc1672a17" id="r_a7a11e32bba1bcfd2970a7aebc1672a17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__time__t.html">astro_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a11e32bba1bcfd2970a7aebc1672a17">Astronomy_MakeTime</a> (int year, int month, int day, int hour, int minute, double second)</td></tr>
<tr class="memdesc:a7a11e32bba1bcfd2970a7aebc1672a17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value from a given calendar date and time.  <br /></td></tr>
<tr class="memitem:ab76d11c320a6cbf0ba27f8884587cc6b" id="r_ab76d11c320a6cbf0ba27f8884587cc6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab76d11c320a6cbf0ba27f8884587cc6b">Astronomy_MoonPhase</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:ab76d11c320a6cbf0ba27f8884587cc6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Moon's phase as an angle from 0 to 360 degrees.  <br /></td></tr>
<tr class="memitem:a71ca6bd3b05448fe0a0fb35460140391" id="r_a71ca6bd3b05448fe0a0fb35460140391"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__global__solar__eclipse__t.html">astro_global_solar_eclipse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71ca6bd3b05448fe0a0fb35460140391">Astronomy_NextGlobalSolarEclipse</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> prevEclipseTime)</td></tr>
<tr class="memdesc:a71ca6bd3b05448fe0a0fb35460140391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the next global solar eclipse in a series.  <br /></td></tr>
<tr class="memitem:af80a1f2856c22f187e324fa1015dbf2d" id="r_af80a1f2856c22f187e324fa1015dbf2d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__local__solar__eclipse__t.html">astro_local_solar_eclipse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af80a1f2856c22f187e324fa1015dbf2d">Astronomy_NextLocalSolarEclipse</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> prevEclipseTime, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer)</td></tr>
<tr class="memdesc:af80a1f2856c22f187e324fa1015dbf2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the next local solar eclipse in a series.  <br /></td></tr>
<tr class="memitem:ad11d7f8389aeb1d50320d4d958a22c73" id="r_ad11d7f8389aeb1d50320d4d958a22c73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad11d7f8389aeb1d50320d4d958a22c73">Astronomy_NextLunarApsis</a> (<a class="el" href="structastro__apsis__t.html">astro_apsis_t</a> apsis)</td></tr>
<tr class="memdesc:ad11d7f8389aeb1d50320d4d958a22c73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the next lunar perigee or apogee event in a series.  <br /></td></tr>
<tr class="memitem:a7f18a085f498a9cb2ea46804961cb9f2" id="r_a7f18a085f498a9cb2ea46804961cb9f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__lunar__eclipse__t.html">astro_lunar_eclipse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f18a085f498a9cb2ea46804961cb9f2">Astronomy_NextLunarEclipse</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> prevEclipseTime)</td></tr>
<tr class="memdesc:a7f18a085f498a9cb2ea46804961cb9f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the next lunar eclipse in a series.  <br /></td></tr>
<tr class="memitem:a8afb350495d15af59c428039676a60c3" id="r_a8afb350495d15af59c428039676a60c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8afb350495d15af59c428039676a60c3">Astronomy_NextMoonQuarter</a> (<a class="el" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a> mq)</td></tr>
<tr class="memdesc:a8afb350495d15af59c428039676a60c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Continues searching for lunar quarters from a previous search.  <br /></td></tr>
<tr class="memitem:a3d003463708889dd98e8ebbd947988d6" id="r_a3d003463708889dd98e8ebbd947988d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d003463708889dd98e8ebbd947988d6">Astronomy_NextPlanetApsis</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__apsis__t.html">astro_apsis_t</a> apsis)</td></tr>
<tr class="memdesc:a3d003463708889dd98e8ebbd947988d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the next planetary perihelion or aphelion event in a series.  <br /></td></tr>
<tr class="memitem:ad11619cc853c67e3b5babba619a4c534" id="r_ad11619cc853c67e3b5babba619a4c534"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__transit__t.html">astro_transit_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad11619cc853c67e3b5babba619a4c534">Astronomy_NextTransit</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> prevTransitTime)</td></tr>
<tr class="memdesc:ad11619cc853c67e3b5babba619a4c534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for another transit of Mercury or Venus.  <br /></td></tr>
<tr class="memitem:a3d5bc08ddb39c401a00a4d731f42c378" id="r_a3d5bc08ddb39c401a00a4d731f42c378"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d5bc08ddb39c401a00a4d731f42c378">Astronomy_Refraction</a> (<a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a> refraction, double altitude)</td></tr>
<tr class="memdesc:a3d5bc08ddb39c401a00a4d731f42c378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the amount of "lift" to an altitude angle caused by atmospheric refraction.  <br /></td></tr>
<tr class="memitem:a9955be67ff58b1e9bfdb0c3d8f2bfd00" id="r_a9955be67ff58b1e9bfdb0c3d8f2bfd00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9955be67ff58b1e9bfdb0c3d8f2bfd00">Astronomy_Reset</a> (void)</td></tr>
<tr class="memdesc:a9955be67ff58b1e9bfdb0c3d8f2bfd00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees up all dynamic memory allocated by Astronomy Engine.  <br /></td></tr>
<tr class="memitem:aa9241bfd058f21fcd131d8175526c9b0" id="r_aa9241bfd058f21fcd131d8175526c9b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__vector__t.html">astro_vector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9241bfd058f21fcd131d8175526c9b0">Astronomy_RotateVector</a> (<a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> <a class="el" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>, <a class="el" href="structastro__vector__t.html">astro_vector_t</a> vector)</td></tr>
<tr class="memdesc:aa9241bfd058f21fcd131d8175526c9b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies a rotation to a vector, yielding a rotated vector.  <br /></td></tr>
<tr class="memitem:a3c7a2003e43e94c3725b6be1cc06ea1f" id="r_a3c7a2003e43e94c3725b6be1cc06ea1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c7a2003e43e94c3725b6be1cc06ea1f">Astronomy_Rotation_ECL_EQD</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a3c7a2003e43e94c3725b6be1cc06ea1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from ecliptic J2000 (ECL) to equatorial of-date (EQD).  <br /></td></tr>
<tr class="memitem:a83402774c411094696cabb54c99ce9df" id="r_a83402774c411094696cabb54c99ce9df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83402774c411094696cabb54c99ce9df">Astronomy_Rotation_ECL_EQJ</a> (void)</td></tr>
<tr class="memdesc:a83402774c411094696cabb54c99ce9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from ecliptic J2000 (ECL) to equatorial J2000 (EQJ).  <br /></td></tr>
<tr class="memitem:a742fa4460a82126b8eeb7155b32cc112" id="r_a742fa4460a82126b8eeb7155b32cc112"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a742fa4460a82126b8eeb7155b32cc112">Astronomy_Rotation_ECL_HOR</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer)</td></tr>
<tr class="memdesc:a742fa4460a82126b8eeb7155b32cc112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from ecliptic J2000 (ECL) to horizontal (HOR).  <br /></td></tr>
<tr class="memitem:ad1a046d131cd6350f7c10c88b2c9a9fe" id="r_ad1a046d131cd6350f7c10c88b2c9a9fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1a046d131cd6350f7c10c88b2c9a9fe">Astronomy_Rotation_EQD_ECL</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:ad1a046d131cd6350f7c10c88b2c9a9fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from equatorial of-date (EQD) to ecliptic J2000 (ECL).  <br /></td></tr>
<tr class="memitem:aabfb5eef2841f5269b861f5c61e0d231" id="r_aabfb5eef2841f5269b861f5c61e0d231"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabfb5eef2841f5269b861f5c61e0d231">Astronomy_Rotation_EQD_EQJ</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:aabfb5eef2841f5269b861f5c61e0d231"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from equatorial of-date (EQD) to equatorial J2000 (EQJ).  <br /></td></tr>
<tr class="memitem:afee1fe9bb55f1ca2054f9f627621c6d6" id="r_afee1fe9bb55f1ca2054f9f627621c6d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afee1fe9bb55f1ca2054f9f627621c6d6">Astronomy_Rotation_EQD_HOR</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer)</td></tr>
<tr class="memdesc:afee1fe9bb55f1ca2054f9f627621c6d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from equatorial of-date (EQD) to horizontal (HOR).  <br /></td></tr>
<tr class="memitem:ae0381acbeed44c51d69900b0792d644d" id="r_ae0381acbeed44c51d69900b0792d644d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0381acbeed44c51d69900b0792d644d">Astronomy_Rotation_EQJ_ECL</a> (void)</td></tr>
<tr class="memdesc:ae0381acbeed44c51d69900b0792d644d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from equatorial J2000 (EQJ) to ecliptic J2000 (ECL).  <br /></td></tr>
<tr class="memitem:a70c3909183a19e1469a1308560be7b5b" id="r_a70c3909183a19e1469a1308560be7b5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70c3909183a19e1469a1308560be7b5b">Astronomy_Rotation_EQJ_EQD</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a70c3909183a19e1469a1308560be7b5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from equatorial J2000 (EQJ) to equatorial of-date (EQD).  <br /></td></tr>
<tr class="memitem:ad883629b504a6e7ceee841741a4e4721" id="r_ad883629b504a6e7ceee841741a4e4721"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad883629b504a6e7ceee841741a4e4721">Astronomy_Rotation_EQJ_HOR</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer)</td></tr>
<tr class="memdesc:ad883629b504a6e7ceee841741a4e4721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from equatorial J2000 (EQJ) to horizontal (HOR).  <br /></td></tr>
<tr class="memitem:a29cf6a1ccd24015db0196664493ff8cc" id="r_a29cf6a1ccd24015db0196664493ff8cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29cf6a1ccd24015db0196664493ff8cc">Astronomy_Rotation_HOR_ECL</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer)</td></tr>
<tr class="memdesc:a29cf6a1ccd24015db0196664493ff8cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from horizontal (HOR) to ecliptic J2000 (ECL).  <br /></td></tr>
<tr class="memitem:a39ddcd70a2b60a4f8ee3c4b991a4ee63" id="r_a39ddcd70a2b60a4f8ee3c4b991a4ee63"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39ddcd70a2b60a4f8ee3c4b991a4ee63">Astronomy_Rotation_HOR_EQD</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer)</td></tr>
<tr class="memdesc:a39ddcd70a2b60a4f8ee3c4b991a4ee63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from horizontal (HOR) to equatorial of-date (EQD).  <br /></td></tr>
<tr class="memitem:abac2ee2890e82d37889bbeeadbb49918" id="r_abac2ee2890e82d37889bbeeadbb49918"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abac2ee2890e82d37889bbeeadbb49918">Astronomy_Rotation_HOR_EQJ</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer)</td></tr>
<tr class="memdesc:abac2ee2890e82d37889bbeeadbb49918"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a rotation matrix from horizontal (HOR) to J2000 equatorial (EQJ).  <br /></td></tr>
<tr class="memitem:acfc7b56d0aa2c81c6a10dc6af1748596" id="r_acfc7b56d0aa2c81c6a10dc6af1748596"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a> (<a class="el" href="#a4a9f28e7e03615fd48f124d6b1644086">astro_search_func_t</a> func, void *context, <a class="el" href="structastro__time__t.html">astro_time_t</a> t1, <a class="el" href="structastro__time__t.html">astro_time_t</a> t2, double dt_tolerance_seconds)</td></tr>
<tr class="memdesc:acfc7b56d0aa2c81c6a10dc6af1748596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a time at which a function's value increases through zero.  <br /></td></tr>
<tr class="memitem:ac1506481ab4a41d67b5e3db3ba0f4d61" id="r_ac1506481ab4a41d67b5e3db3ba0f4d61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__global__solar__eclipse__t.html">astro_global_solar_eclipse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1506481ab4a41d67b5e3db3ba0f4d61">Astronomy_SearchGlobalSolarEclipse</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:ac1506481ab4a41d67b5e3db3ba0f4d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a solar eclipse visible anywhere on the Earth's surface.  <br /></td></tr>
<tr class="memitem:a94cf56d7d9a86137c4b78d12cde159de" id="r_a94cf56d7d9a86137c4b78d12cde159de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__hour__angle__t.html">astro_hour_angle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94cf56d7d9a86137c4b78d12cde159de">Astronomy_SearchHourAngle</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer, double hourAngle, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:a94cf56d7d9a86137c4b78d12cde159de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the time when a celestial body reaches a specified hour angle as seen by an observer on the Earth.  <br /></td></tr>
<tr class="memitem:ab4b7afe904907d32ec6f4bb0fa0150e1" id="r_ab4b7afe904907d32ec6f4bb0fa0150e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__local__solar__eclipse__t.html">astro_local_solar_eclipse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4b7afe904907d32ec6f4bb0fa0150e1">Astronomy_SearchLocalSolarEclipse</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> startTime, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer)</td></tr>
<tr class="memdesc:ab4b7afe904907d32ec6f4bb0fa0150e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a solar eclipse visible at a specific location on the Earth's surface.  <br /></td></tr>
<tr class="memitem:ac7f2980f796f36f7c2b657efa494f9a5" id="r_ac7f2980f796f36f7c2b657efa494f9a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7f2980f796f36f7c2b657efa494f9a5">Astronomy_SearchLunarApsis</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:ac7f2980f796f36f7c2b657efa494f9a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the date and time of the Moon's closest distance (perigee) or farthest distance (apogee) with respect to the Earth.  <br /></td></tr>
<tr class="memitem:abd507e53fe2f3dd32ae125825dcd0310" id="r_abd507e53fe2f3dd32ae125825dcd0310"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__lunar__eclipse__t.html">astro_lunar_eclipse_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd507e53fe2f3dd32ae125825dcd0310">Astronomy_SearchLunarEclipse</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:abd507e53fe2f3dd32ae125825dcd0310"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for a lunar eclipse.  <br /></td></tr>
<tr class="memitem:a8a55a0edb77f90977ce3b11fe4346599" id="r_a8a55a0edb77f90977ce3b11fe4346599"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__elongation__t.html">astro_elongation_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a55a0edb77f90977ce3b11fe4346599">Astronomy_SearchMaxElongation</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:a8a55a0edb77f90977ce3b11fe4346599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds a date and time when Mercury or Venus reaches its maximum angle from the Sun as seen from the Earth.  <br /></td></tr>
<tr class="memitem:a65b684108b11b56f4ec1f550f6a722ed" id="r_a65b684108b11b56f4ec1f550f6a722ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65b684108b11b56f4ec1f550f6a722ed">Astronomy_SearchMoonPhase</a> (double targetLon, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime, double limitDays)</td></tr>
<tr class="memdesc:a65b684108b11b56f4ec1f550f6a722ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the time that the Moon reaches a specified phase.  <br /></td></tr>
<tr class="memitem:a6b711ffea7ca8c3fda84e8b852afbfcc" id="r_a6b711ffea7ca8c3fda84e8b852afbfcc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b711ffea7ca8c3fda84e8b852afbfcc">Astronomy_SearchMoonQuarter</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:a6b711ffea7ca8c3fda84e8b852afbfcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the first lunar quarter after the specified date and time.  <br /></td></tr>
<tr class="memitem:ac6f6e5cf8c1ada04175fbecb7db0570e" id="r_ac6f6e5cf8c1ada04175fbecb7db0570e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__illum__t.html">astro_illum_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6f6e5cf8c1ada04175fbecb7db0570e">Astronomy_SearchPeakMagnitude</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:ac6f6e5cf8c1ada04175fbecb7db0570e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the date and time Venus will next appear brightest as seen from the Earth.  <br /></td></tr>
<tr class="memitem:a1feb036341314870753afb2e3f1ebe36" id="r_a1feb036341314870753afb2e3f1ebe36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1feb036341314870753afb2e3f1ebe36">Astronomy_SearchPlanetApsis</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:a1feb036341314870753afb2e3f1ebe36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the date and time of a planet's perihelion (closest approach to the Sun) or aphelion (farthest distance from the Sun) after a given time.  <br /></td></tr>
<tr class="memitem:a00dac3feb188bfabf94e0b81cfa7aa84" id="r_a00dac3feb188bfabf94e0b81cfa7aa84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00dac3feb188bfabf94e0b81cfa7aa84">Astronomy_SearchRelativeLongitude</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, double targetRelLon, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:a00dac3feb188bfabf94e0b81cfa7aa84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the time when the Earth and another planet are separated by a specified angle in ecliptic longitude, as seen from the Sun.  <br /></td></tr>
<tr class="memitem:a647a1a81f1a046f1dacf851483802e4a" id="r_a647a1a81f1a046f1dacf851483802e4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a647a1a81f1a046f1dacf851483802e4a">Astronomy_SearchRiseSet</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__observer__t.html">astro_observer_t</a> observer, <a class="el" href="#a842102856a76a7f456f9fe3264bac94e">astro_direction_t</a> direction, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime, double limitDays)</td></tr>
<tr class="memdesc:a647a1a81f1a046f1dacf851483802e4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the next time a celestial body rises or sets as seen by an observer on the Earth.  <br /></td></tr>
<tr class="memitem:a807a135aa2a8e27b6ea0f630215199c2" id="r_a807a135aa2a8e27b6ea0f630215199c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a807a135aa2a8e27b6ea0f630215199c2">Astronomy_SearchSunLongitude</a> (double targetLon, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime, double limitDays)</td></tr>
<tr class="memdesc:a807a135aa2a8e27b6ea0f630215199c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the time when the Sun reaches an apparent ecliptic longitude as seen from the Earth.  <br /></td></tr>
<tr class="memitem:ace4b472e4915aa96929952091053473c" id="r_ace4b472e4915aa96929952091053473c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__transit__t.html">astro_transit_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace4b472e4915aa96929952091053473c">Astronomy_SearchTransit</a> (<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> body, <a class="el" href="structastro__time__t.html">astro_time_t</a> startTime)</td></tr>
<tr class="memdesc:ace4b472e4915aa96929952091053473c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for the first transit of Mercury or Venus after a given date.  <br /></td></tr>
<tr class="memitem:aeac16256031b618481fee2ef6aacee02" id="r_aeac16256031b618481fee2ef6aacee02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__seasons__t.html">astro_seasons_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeac16256031b618481fee2ef6aacee02">Astronomy_Seasons</a> (int year)</td></tr>
<tr class="memdesc:aeac16256031b618481fee2ef6aacee02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds both equinoxes and both solstices for a given calendar year.  <br /></td></tr>
<tr class="memitem:a4c9f93bd4cab3763b736c4af4f998c51" id="r_a4c9f93bd4cab3763b736c4af4f998c51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c9f93bd4cab3763b736c4af4f998c51">Astronomy_SetDeltaTFunction</a> (<a class="el" href="#af3069d908ec926afb25fdcb72ba779fc">astro_deltat_func</a> func)</td></tr>
<tr class="memdesc:a4c9f93bd4cab3763b736c4af4f998c51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the function Astronomy Engine uses to calculate Delta T.  <br /></td></tr>
<tr class="memitem:a8ab761ac6b4efbf5ac97c99a8a13ceca" id="r_a8ab761ac6b4efbf5ac97c99a8a13ceca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__spherical__t.html">astro_spherical_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ab761ac6b4efbf5ac97c99a8a13ceca">Astronomy_SphereFromVector</a> (<a class="el" href="structastro__vector__t.html">astro_vector_t</a> vector)</td></tr>
<tr class="memdesc:a8ab761ac6b4efbf5ac97c99a8a13ceca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts Cartesian coordinates to spherical coordinates.  <br /></td></tr>
<tr class="memitem:a7faf7b5f5022eac77258e6802cf74a6e" id="r_a7faf7b5f5022eac77258e6802cf74a6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__ecliptic__t.html">astro_ecliptic_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7faf7b5f5022eac77258e6802cf74a6e">Astronomy_SunPosition</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a7faf7b5f5022eac77258e6802cf74a6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates geocentric ecliptic coordinates for the Sun.  <br /></td></tr>
<tr class="memitem:a6604474b568bbd210622c62912782cbf" id="r_a6604474b568bbd210622c62912782cbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__time__t.html">astro_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6604474b568bbd210622c62912782cbf">Astronomy_TimeFromDays</a> (double ut)</td></tr>
<tr class="memdesc:a6604474b568bbd210622c62912782cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a J2000 day value to an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value.  <br /></td></tr>
<tr class="memitem:aba93625eb29cc56a024979ce51fe054b" id="r_aba93625eb29cc56a024979ce51fe054b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__time__t.html">astro_time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba93625eb29cc56a024979ce51fe054b">Astronomy_TimeFromUtc</a> (<a class="el" href="structastro__utc__t.html">astro_utc_t</a> <a class="el" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>)</td></tr>
<tr class="memdesc:aba93625eb29cc56a024979ce51fe054b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value from a given calendar date and time.  <br /></td></tr>
<tr class="memitem:a6eb50592d9ecf9175c335d23b451a0fe" id="r_a6eb50592d9ecf9175c335d23b451a0fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__utc__t.html">astro_utc_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6eb50592d9ecf9175c335d23b451a0fe">Astronomy_UtcFromTime</a> (<a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a6eb50592d9ecf9175c335d23b451a0fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the calendar year, month, day, and time from an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value.  <br /></td></tr>
<tr class="memitem:a0041e26b315bf28f71bc67622d39bdaa" id="r_a0041e26b315bf28f71bc67622d39bdaa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__vector__t.html">astro_vector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0041e26b315bf28f71bc67622d39bdaa">Astronomy_VectorFromEquator</a> (<a class="el" href="structastro__equatorial__t.html">astro_equatorial_t</a> equ, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a0041e26b315bf28f71bc67622d39bdaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given angular equatorial coordinates in <span class="tt">equ</span>, calculates equatorial vector.  <br /></td></tr>
<tr class="memitem:a247b0adb5b52ba78730ccf75e167db38" id="r_a247b0adb5b52ba78730ccf75e167db38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__vector__t.html">astro_vector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a247b0adb5b52ba78730ccf75e167db38">Astronomy_VectorFromHorizon</a> (<a class="el" href="structastro__spherical__t.html">astro_spherical_t</a> sphere, <a class="el" href="structastro__time__t.html">astro_time_t</a> time, <a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a> refraction)</td></tr>
<tr class="memdesc:a247b0adb5b52ba78730ccf75e167db38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given apparent angular horizontal coordinates in <span class="tt">sphere</span>, calculate horizontal vector.  <br /></td></tr>
<tr class="memitem:a3b6e808d49c15ebd0601941d170cc628" id="r_a3b6e808d49c15ebd0601941d170cc628"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structastro__vector__t.html">astro_vector_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b6e808d49c15ebd0601941d170cc628">Astronomy_VectorFromSphere</a> (<a class="el" href="structastro__spherical__t.html">astro_spherical_t</a> sphere, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td></tr>
<tr class="memdesc:a3b6e808d49c15ebd0601941d170cc628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts spherical coordinates to Cartesian coordinates.  <br /></td></tr>
<tr class="memitem:aee2ee032e87ca30739a4381ea67958c2" id="r_aee2ee032e87ca30739a4381ea67958c2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee2ee032e87ca30739a4381ea67958c2">Astronomy_VectorLength</a> (<a class="el" href="structastro__vector__t.html">astro_vector_t</a> vector)</td></tr>
<tr class="memdesc:aee2ee032e87ca30739a4381ea67958c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the length of the given vector.  <br /></td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Documentación de «define»</h2>
<a id="addd9ba1b79de512abcc9bc277a233dca" name="addd9ba1b79de512abcc9bc277a233dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addd9ba1b79de512abcc9bc277a233dca">&#9670;&#160;</a></span>MAX_BODY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_BODY&#160;&#160;&#160;<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462">BODY_SSB</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum valid <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928" title="A celestial body.">astro_body_t</a> value; useful for iteration. </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00223">223</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l05049">Astronomy_SearchHourAngle()</a>.</p>

</div>
</div>
<a id="a59bcbb5f6896e44dfd79fa63508cfec3" name="a59bcbb5f6896e44dfd79fa63508cfec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59bcbb5f6896e44dfd79fa63508cfec3">&#9670;&#160;</a></span>MAX_YEAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_YEAR&#160;&#160;&#160;2200</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Maximum year value supported by Astronomy Engine. </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00226">226</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>

</div>
</div>
<a id="a19122b2f9c555d57785d4aa3b32984b2" name="a19122b2f9c555d57785d4aa3b32984b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19122b2f9c555d57785d4aa3b32984b2">&#9670;&#160;</a></span>MIN_BODY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_BODY&#160;&#160;&#160;<a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Minimum valid <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928" title="A celestial body.">astro_body_t</a> value; useful for iteration. </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00222">222</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>

</div>
</div>
<a id="a66979cc5bd82220ee4c973b4bcb36f10" name="a66979cc5bd82220ee4c973b4bcb36f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66979cc5bd82220ee4c973b4bcb36f10">&#9670;&#160;</a></span>MIN_YEAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_YEAR&#160;&#160;&#160;1700</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Minimum year value supported by Astronomy Engine. </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00225">225</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>

</div>
</div>
<a id="a9e50b39673bf3d543f000c5d367fa66b" name="a9e50b39673bf3d543f000c5d367fa66b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e50b39673bf3d543f000c5d367fa66b">&#9670;&#160;</a></span>TIME_TEXT_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIME_TEXT_BYTES&#160;&#160;&#160;25</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The smallest number of characters that is always large enough for <a class="el" href="#a50957b12cb6796ee46b348ebe0985f4e" title="Formats an astro_time_t value as an ISO 8601 string.">Astronomy_FormatTime</a>. </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00781">781</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>

</div>
</div>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Documentación de «typedef»</h2>
<a id="af3069d908ec926afb25fdcb72ba779fc" name="af3069d908ec926afb25fdcb72ba779fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3069d908ec926afb25fdcb72ba779fc">&#9670;&#160;</a></span>astro_deltat_func</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef double(* astro_deltat_func) (double ut)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to a function that calculates Delta T. </p>
<p>Delta T is the discrepancy between times measured using an atomic clock and times based on observations of the Earth's rotation, which is gradually slowing down over time. Delta T = TT - UT, where TT = Terrestrial Time, based on atomic time, and UT = Universal Time, civil time based on the Earth's rotation. Astronomy Engine defaults to using a Delta T function defined by Espenak and Meeus in their "Five Millennium Canon of Solar Eclipses". See: <a href="https://eclipse.gsfc.nasa.gov/SEhelp/deltatpoly2004.html">https://eclipse.gsfc.nasa.gov/SEhelp/deltatpoly2004.html</a> </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00403">403</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>

</div>
</div>
<a id="a4a9f28e7e03615fd48f124d6b1644086" name="a4a9f28e7e03615fd48f124d6b1644086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9f28e7e03615fd48f124d6b1644086">&#9670;&#160;</a></span>astro_search_func_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structastro__func__result__t.html">astro_func_result_t</a>(* astro_search_func_t) (void *context, <a class="el" href="structastro__time__t.html">astro_time_t</a> time)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A pointer to a function that is to be passed as a callback to <a class="el" href="#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a>. </p>
<p>The function <a class="el" href="#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a> numerically solves for the time that a given event occurs. An event is defined as the time when an arbitrary function transitions between having a negative value and a non-negative value. This transition is called an <em>ascending root</em>.</p>
<p>The type <a class="el" href="#a4a9f28e7e03615fd48f124d6b1644086" title="A pointer to a function that is to be passed as a callback to Astronomy_Search.">astro_search_func_t</a> represents such a callback function that accepts a custom <span class="tt">context</span> pointer and an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> representing the time to probe. The function returns an <a class="el" href="structastro__func__result__t.html" title="A real value returned by a function whose ascending root is to be found.">astro_func_result_t</a> that contains either a real number in <span class="tt">value</span> or an error code in <span class="tt">status</span> that aborts the search.</p>
<p>The <span class="tt">context</span> points to some data whose type varies depending on the callback function. It can contain any auxiliary parameters (other than time) needed to evaluate the function. For example, a function may pertain to a specific celestial body, in which case <span class="tt">context</span> may point to a value of type <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928" title="A celestial body.">astro_body_t</a>. The <span class="tt">context</span> parameter is supplied by the caller of <a class="el" href="#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a>, which passes it along to every call to the callback function. If the caller of <span class="tt"><a class="el" href="#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a></span> knows that the callback function does not need a context, it is safe to pass <span class="tt">NULL</span> as the context pointer. </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00389">389</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>

</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Documentación de enumeraciones</h2>
<a id="a3ab2a1a2ef0ecb9093ce1e877c431dc6" name="a3ab2a1a2ef0ecb9093ce1e877c431dc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6">&#9670;&#160;</a></span>astro_aberration_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6">astro_aberration_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aberration calculation options. </p>
<p><a href="https://en.wikipedia.org/wiki/Aberration_of_light">Aberration</a> is an effect causing the apparent direction of an observed body to be shifted due to transverse movement of the Earth with respect to the rays of light coming from that body. This angular correction can be anywhere from 0 to about 20 arcseconds, depending on the position of the observed body relative to the instantaneous velocity vector of the Earth.</p>
<p>Some Astronomy Engine functions allow optional correction for aberration by passing in a value of this enumerated type.</p>
<p>Aberration correction is useful to improve accuracy of coordinates of apparent locations of bodies seen from the Earth. However, because aberration affects not only the observed body (such as a planet) but the surrounding stars, aberration may be unhelpful (for example) for determining exactly when a planet crosses from one constellation to another. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026" name="a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026"></a>ABERRATION&#160;</td><td class="fielddoc"><p>Request correction for aberration. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc" name="a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc"></a>NO_ABERRATION&#160;</td><td class="fielddoc"><p>Do not correct for aberration. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00705">705</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  706</span>{</div>
<div class="line"><span class="lineno">  707</span>    <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a>,     <span class="comment">/**&lt; Request correction for aberration. */</span></div>
<div class="line"><span class="lineno">  708</span>    <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc">NO_ABERRATION</a>   <span class="comment">/**&lt; Do not correct for aberration. */</span></div>
<div class="line"><span class="lineno">  709</span>}</div>
<div class="ttc" id="aastronomy_8h_html_a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc"><div class="ttname"><a href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc">NO_ABERRATION</a></div><div class="ttdeci">@ NO_ABERRATION</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00708">astronomy.h:708</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026"><div class="ttname"><a href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a></div><div class="ttdeci">@ ABERRATION</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00707">astronomy.h:707</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a637f68d8e61bfb5f1e49d6a115a05330" name="a637f68d8e61bfb5f1e49d6a115a05330"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a637f68d8e61bfb5f1e49d6a115a05330">&#9670;&#160;</a></span>astro_apsis_kind_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330">astro_apsis_kind_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The type of apsis: pericenter (closest approach) or apocenter (farthest distance). </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d" name="a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d"></a>APSIS_PERICENTER&#160;</td><td class="fielddoc"><p>The body is at its closest approach to the object it orbits. </p>
</td></tr>
<tr><td class="fieldname"><a id="a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a" name="a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a"></a>APSIS_APOCENTER&#160;</td><td class="fielddoc"><p>The body is at its farthest distance from the object it orbits. </p>
</td></tr>
<tr><td class="fieldname"><a id="a637f68d8e61bfb5f1e49d6a115a05330a3e698a82ece643ff6ae813f7dee46bbe" name="a637f68d8e61bfb5f1e49d6a115a05330a3e698a82ece643ff6ae813f7dee46bbe"></a>APSIS_INVALID&#160;</td><td class="fielddoc"><p>Undefined or invalid apsis. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00470">470</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  471</span>{</div>
<div class="line"><span class="lineno">  472</span>    <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a>,   <span class="comment">/**&lt; The body is at its closest approach to the object it orbits. */</span></div>
<div class="line"><span class="lineno">  473</span>    <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a>,    <span class="comment">/**&lt; The body is at its farthest distance from the object it orbits. */</span></div>
<div class="line"><span class="lineno">  474</span>    <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a3e698a82ece643ff6ae813f7dee46bbe">APSIS_INVALID</a>       <span class="comment">/**&lt; Undefined or invalid apsis. */</span></div>
<div class="line"><span class="lineno">  475</span>}</div>
<div class="ttc" id="aastronomy_8h_html_a637f68d8e61bfb5f1e49d6a115a05330a3e698a82ece643ff6ae813f7dee46bbe"><div class="ttname"><a href="#a637f68d8e61bfb5f1e49d6a115a05330a3e698a82ece643ff6ae813f7dee46bbe">APSIS_INVALID</a></div><div class="ttdeci">@ APSIS_INVALID</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00474">astronomy.h:474</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d"><div class="ttname"><a href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a></div><div class="ttdeci">@ APSIS_PERICENTER</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00472">astronomy.h:472</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a"><div class="ttname"><a href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a></div><div class="ttdeci">@ APSIS_APOCENTER</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00473">astronomy.h:473</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc11a4185b6fd5086da5ee9d3c7ce928" name="abc11a4185b6fd5086da5ee9d3c7ce928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928">&#9670;&#160;</a></span>astro_body_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A celestial body. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a039bc64adbb31933f941a780f11b7ac9" name="abc11a4185b6fd5086da5ee9d3c7ce928a039bc64adbb31933f941a780f11b7ac9"></a>BODY_INVALID&#160;</td><td class="fielddoc"><p>An invalid or undefined celestial body. </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960" name="abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960"></a>BODY_MERCURY&#160;</td><td class="fielddoc"><p>Mercury </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4" name="abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4"></a>BODY_VENUS&#160;</td><td class="fielddoc"><p>Venus </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297" name="abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297"></a>BODY_EARTH&#160;</td><td class="fielddoc"><p>Earth </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9" name="abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9"></a>BODY_MARS&#160;</td><td class="fielddoc"><p>Mars </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a" name="abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a"></a>BODY_JUPITER&#160;</td><td class="fielddoc"><p>Jupiter </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3" name="abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3"></a>BODY_SATURN&#160;</td><td class="fielddoc"><p>Saturn </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87" name="abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87"></a>BODY_URANUS&#160;</td><td class="fielddoc"><p>Uranus </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250" name="abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250"></a>BODY_NEPTUNE&#160;</td><td class="fielddoc"><p>Neptune </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa" name="abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa"></a>BODY_PLUTO&#160;</td><td class="fielddoc"><p>Pluto </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf" name="abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf"></a>BODY_SUN&#160;</td><td class="fielddoc"><p>Sun </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae" name="abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae"></a>BODY_MOON&#160;</td><td class="fielddoc"><p>Moon </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245" name="abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245"></a>BODY_EMB&#160;</td><td class="fielddoc"><p>Earth/Moon Barycenter </p>
</td></tr>
<tr><td class="fieldname"><a id="abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462" name="abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462"></a>BODY_SSB&#160;</td><td class="fielddoc"><p>Solar System Barycenter </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00203">203</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  204</span>{</div>
<div class="line"><span class="lineno">  205</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a039bc64adbb31933f941a780f11b7ac9">BODY_INVALID</a> = -1,      <span class="comment">/**&lt; An invalid or undefined celestial body. */</span></div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a>,           <span class="comment">/**&lt; Mercury */</span></div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>,             <span class="comment">/**&lt; Venus */</span></div>
<div class="line"><span class="lineno">  208</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>,             <span class="comment">/**&lt; Earth */</span></div>
<div class="line"><span class="lineno">  209</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9">BODY_MARS</a>,              <span class="comment">/**&lt; Mars */</span></div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a">BODY_JUPITER</a>,           <span class="comment">/**&lt; Jupiter */</span></div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3">BODY_SATURN</a>,            <span class="comment">/**&lt; Saturn */</span></div>
<div class="line"><span class="lineno">  212</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87">BODY_URANUS</a>,            <span class="comment">/**&lt; Uranus */</span></div>
<div class="line"><span class="lineno">  213</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250">BODY_NEPTUNE</a>,           <span class="comment">/**&lt; Neptune */</span></div>
<div class="line"><span class="lineno">  214</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa">BODY_PLUTO</a>,             <span class="comment">/**&lt; Pluto */</span></div>
<div class="line"><span class="lineno">  215</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>,               <span class="comment">/**&lt; Sun */</span></div>
<div class="line"><span class="lineno">  216</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>,              <span class="comment">/**&lt; Moon */</span></div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245">BODY_EMB</a>,               <span class="comment">/**&lt; Earth/Moon Barycenter */</span></div>
<div class="line"><span class="lineno">  218</span>    <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462">BODY_SSB</a>                <span class="comment">/**&lt; Solar System Barycenter */</span></div>
<div class="line"><span class="lineno">  219</span>}</div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a039bc64adbb31933f941a780f11b7ac9"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a039bc64adbb31933f941a780f11b7ac9">BODY_INVALID</a></div><div class="ttdeci">@ BODY_INVALID</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00205">astronomy.h:205</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a></div><div class="ttdeci">@ BODY_SUN</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00215">astronomy.h:215</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a></div><div class="ttdeci">@ BODY_MOON</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00216">astronomy.h:216</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462">BODY_SSB</a></div><div class="ttdeci">@ BODY_SSB</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00218">astronomy.h:218</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245">BODY_EMB</a></div><div class="ttdeci">@ BODY_EMB</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00217">astronomy.h:217</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3">BODY_SATURN</a></div><div class="ttdeci">@ BODY_SATURN</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00211">astronomy.h:211</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a></div><div class="ttdeci">@ BODY_EARTH</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00208">astronomy.h:208</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9">BODY_MARS</a></div><div class="ttdeci">@ BODY_MARS</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00209">astronomy.h:209</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250">BODY_NEPTUNE</a></div><div class="ttdeci">@ BODY_NEPTUNE</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00213">astronomy.h:213</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa">BODY_PLUTO</a></div><div class="ttdeci">@ BODY_PLUTO</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00214">astronomy.h:214</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a">BODY_JUPITER</a></div><div class="ttdeci">@ BODY_JUPITER</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00210">astronomy.h:210</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a></div><div class="ttdeci">@ BODY_MERCURY</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00206">astronomy.h:206</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a></div><div class="ttdeci">@ BODY_VENUS</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00207">astronomy.h:207</a></div></div>
<div class="ttc" id="aastronomy_8h_html_abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87"><div class="ttname"><a href="#abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87">BODY_URANUS</a></div><div class="ttdeci">@ BODY_URANUS</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00212">astronomy.h:212</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a842102856a76a7f456f9fe3264bac94e" name="a842102856a76a7f456f9fe3264bac94e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a842102856a76a7f456f9fe3264bac94e">&#9670;&#160;</a></span>astro_direction_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a842102856a76a7f456f9fe3264bac94e">astro_direction_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects whether to search for a rise time or a set time. </p>
<p>The <a class="el" href="#a647a1a81f1a046f1dacf851483802e4a" title="Searches for the next time a celestial body rises or sets as seen by an observer on the Earth.">Astronomy_SearchRiseSet</a> function finds the rise or set time of a body depending on the value of its <span class="tt">direction</span> parameter. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="a842102856a76a7f456f9fe3264bac94eae3a092326954b9747c124ced8122c4ea" name="a842102856a76a7f456f9fe3264bac94eae3a092326954b9747c124ced8122c4ea"></a>DIRECTION_RISE&#160;</td><td class="fielddoc"><p>Search for the time a body begins to rise above the horizon. </p>
</td></tr>
<tr><td class="fieldname"><a id="a842102856a76a7f456f9fe3264bac94ead5e08c51ffaf866f6a03b6ef0094aae8" name="a842102856a76a7f456f9fe3264bac94ead5e08c51ffaf866f6a03b6ef0094aae8"></a>DIRECTION_SET&#160;</td><td class="fielddoc"><p>Search for the time a body finishes sinking below the horizon. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00741">741</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  742</span>{</div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_enumvalue" href="#a842102856a76a7f456f9fe3264bac94eae3a092326954b9747c124ced8122c4ea">DIRECTION_RISE</a> = +1,    <span class="comment">/**&lt; Search for the time a body begins to rise above the horizon. */</span></div>
<div class="line"><span class="lineno">  744</span>    <a class="code hl_enumvalue" href="#a842102856a76a7f456f9fe3264bac94ead5e08c51ffaf866f6a03b6ef0094aae8">DIRECTION_SET</a>  = -1,    <span class="comment">/**&lt; Search for the time a body finishes sinking below the horizon. */</span></div>
<div class="line"><span class="lineno">  745</span>}</div>
<div class="ttc" id="aastronomy_8h_html_a842102856a76a7f456f9fe3264bac94ead5e08c51ffaf866f6a03b6ef0094aae8"><div class="ttname"><a href="#a842102856a76a7f456f9fe3264bac94ead5e08c51ffaf866f6a03b6ef0094aae8">DIRECTION_SET</a></div><div class="ttdeci">@ DIRECTION_SET</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00744">astronomy.h:744</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a842102856a76a7f456f9fe3264bac94eae3a092326954b9747c124ced8122c4ea"><div class="ttname"><a href="#a842102856a76a7f456f9fe3264bac94eae3a092326954b9747c124ced8122c4ea">DIRECTION_RISE</a></div><div class="ttdeci">@ DIRECTION_RISE</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00743">astronomy.h:743</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a47b549ecf1d701370816c8a2475a5ab0" name="a47b549ecf1d701370816c8a2475a5ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47b549ecf1d701370816c8a2475a5ab0">&#9670;&#160;</a></span>astro_eclipse_kind_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a47b549ecf1d701370816c8a2475a5ab0">astro_eclipse_kind_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The different kinds of lunar/solar eclipses. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="a47b549ecf1d701370816c8a2475a5ab0a2aa1d1944aeef013bbe113625ed2abdb" name="a47b549ecf1d701370816c8a2475a5ab0a2aa1d1944aeef013bbe113625ed2abdb"></a>ECLIPSE_NONE&#160;</td><td class="fielddoc"><p>No eclipse found. </p>
</td></tr>
<tr><td class="fieldname"><a id="a47b549ecf1d701370816c8a2475a5ab0a6c812835ae62ff9ac283f5679d887e99" name="a47b549ecf1d701370816c8a2475a5ab0a6c812835ae62ff9ac283f5679d887e99"></a>ECLIPSE_PENUMBRAL&#160;</td><td class="fielddoc"><p>A penumbral lunar eclipse. (Never used for a solar eclipse.) </p>
</td></tr>
<tr><td class="fieldname"><a id="a47b549ecf1d701370816c8a2475a5ab0ae0bac54c134d87ebb6cf5a0b93a8d693" name="a47b549ecf1d701370816c8a2475a5ab0ae0bac54c134d87ebb6cf5a0b93a8d693"></a>ECLIPSE_PARTIAL&#160;</td><td class="fielddoc"><p>A partial lunar/solar eclipse. </p>
</td></tr>
<tr><td class="fieldname"><a id="a47b549ecf1d701370816c8a2475a5ab0aff8d8c3e1b38d2c8a149e68d009034ba" name="a47b549ecf1d701370816c8a2475a5ab0aff8d8c3e1b38d2c8a149e68d009034ba"></a>ECLIPSE_ANNULAR&#160;</td><td class="fielddoc"><p>An annular solar eclipse. (Never used for a lunar eclipse.) </p>
</td></tr>
<tr><td class="fieldname"><a id="a47b549ecf1d701370816c8a2475a5ab0a05cb8c0f98ce41ffe81dda3b65f0c822" name="a47b549ecf1d701370816c8a2475a5ab0a05cb8c0f98ce41ffe81dda3b65f0c822"></a>ECLIPSE_TOTAL&#160;</td><td class="fielddoc"><p>A total lunar/solar eclipse. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00506">506</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  507</span>{</div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_enumvalue" href="#a47b549ecf1d701370816c8a2475a5ab0a2aa1d1944aeef013bbe113625ed2abdb">ECLIPSE_NONE</a>,       <span class="comment">/**&lt; No eclipse found. */</span></div>
<div class="line"><span class="lineno">  509</span>    <a class="code hl_enumvalue" href="#a47b549ecf1d701370816c8a2475a5ab0a6c812835ae62ff9ac283f5679d887e99">ECLIPSE_PENUMBRAL</a>,  <span class="comment">/**&lt; A penumbral lunar eclipse. (Never used for a solar eclipse.) */</span></div>
<div class="line"><span class="lineno">  510</span>    <a class="code hl_enumvalue" href="#a47b549ecf1d701370816c8a2475a5ab0ae0bac54c134d87ebb6cf5a0b93a8d693">ECLIPSE_PARTIAL</a>,    <span class="comment">/**&lt; A partial lunar/solar eclipse. */</span></div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_enumvalue" href="#a47b549ecf1d701370816c8a2475a5ab0aff8d8c3e1b38d2c8a149e68d009034ba">ECLIPSE_ANNULAR</a>,    <span class="comment">/**&lt; An annular solar eclipse. (Never used for a lunar eclipse.) */</span></div>
<div class="line"><span class="lineno">  512</span>    <a class="code hl_enumvalue" href="#a47b549ecf1d701370816c8a2475a5ab0a05cb8c0f98ce41ffe81dda3b65f0c822">ECLIPSE_TOTAL</a>       <span class="comment">/**&lt; A total lunar/solar eclipse. */</span></div>
<div class="line"><span class="lineno">  513</span>}</div>
<div class="ttc" id="aastronomy_8h_html_a47b549ecf1d701370816c8a2475a5ab0a05cb8c0f98ce41ffe81dda3b65f0c822"><div class="ttname"><a href="#a47b549ecf1d701370816c8a2475a5ab0a05cb8c0f98ce41ffe81dda3b65f0c822">ECLIPSE_TOTAL</a></div><div class="ttdeci">@ ECLIPSE_TOTAL</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00512">astronomy.h:512</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a47b549ecf1d701370816c8a2475a5ab0a2aa1d1944aeef013bbe113625ed2abdb"><div class="ttname"><a href="#a47b549ecf1d701370816c8a2475a5ab0a2aa1d1944aeef013bbe113625ed2abdb">ECLIPSE_NONE</a></div><div class="ttdeci">@ ECLIPSE_NONE</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00508">astronomy.h:508</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a47b549ecf1d701370816c8a2475a5ab0a6c812835ae62ff9ac283f5679d887e99"><div class="ttname"><a href="#a47b549ecf1d701370816c8a2475a5ab0a6c812835ae62ff9ac283f5679d887e99">ECLIPSE_PENUMBRAL</a></div><div class="ttdeci">@ ECLIPSE_PENUMBRAL</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00509">astronomy.h:509</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a47b549ecf1d701370816c8a2475a5ab0ae0bac54c134d87ebb6cf5a0b93a8d693"><div class="ttname"><a href="#a47b549ecf1d701370816c8a2475a5ab0ae0bac54c134d87ebb6cf5a0b93a8d693">ECLIPSE_PARTIAL</a></div><div class="ttdeci">@ ECLIPSE_PARTIAL</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00510">astronomy.h:510</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a47b549ecf1d701370816c8a2475a5ab0aff8d8c3e1b38d2c8a149e68d009034ba"><div class="ttname"><a href="#a47b549ecf1d701370816c8a2475a5ab0aff8d8c3e1b38d2c8a149e68d009034ba">ECLIPSE_ANNULAR</a></div><div class="ttdeci">@ ECLIPSE_ANNULAR</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00511">astronomy.h:511</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acfd27b57f62aed3dde359047a35ac00c" name="acfd27b57f62aed3dde359047a35ac00c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfd27b57f62aed3dde359047a35ac00c">&#9670;&#160;</a></span>astro_equator_date_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#acfd27b57f62aed3dde359047a35ac00c">astro_equator_date_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects the date for which the Earth's equator is to be used for representing equatorial coordinates. </p>
<p>The Earth's equator is not always in the same plane due to precession and nutation.</p>
<p>Sometimes it is useful to have a fixed plane of reference for equatorial coordinates across different calendar dates. In these cases, a fixed <em>epoch</em>, or reference time, is helpful. Astronomy Engine provides the J2000 epoch for such cases. This refers to the plane of the Earth's orbit as it was on noon UTC on 1 January 2000.</p>
<p>For some other purposes, it is more helpful to represent coordinates using the Earth's equator exactly as it is on that date. For example, when calculating rise/set times or horizontal coordinates, it is most accurate to use the orientation of the Earth's equator at that same date and time. For these uses, Astronomy Engine allows <em>of-date</em> calculations. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="acfd27b57f62aed3dde359047a35ac00ca58ecdc09bd205ed7fc148f3318333255" name="acfd27b57f62aed3dde359047a35ac00ca58ecdc09bd205ed7fc148f3318333255"></a>EQUATOR_J2000&#160;</td><td class="fielddoc"><p>Represent equatorial coordinates in the J2000 epoch. </p>
</td></tr>
<tr><td class="fieldname"><a id="acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03" name="acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03"></a>EQUATOR_OF_DATE&#160;</td><td class="fielddoc"><p>Represent equatorial coordinates using the Earth's equator at the given date and time. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00728">728</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  729</span>{</div>
<div class="line"><span class="lineno">  730</span>    <a class="code hl_enumvalue" href="#acfd27b57f62aed3dde359047a35ac00ca58ecdc09bd205ed7fc148f3318333255">EQUATOR_J2000</a>,      <span class="comment">/**&lt; Represent equatorial coordinates in the J2000 epoch. */</span></div>
<div class="line"><span class="lineno">  731</span>    <a class="code hl_enumvalue" href="#acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03">EQUATOR_OF_DATE</a>     <span class="comment">/**&lt; Represent equatorial coordinates using the Earth&#39;s equator at the given date and time. */</span></div>
<div class="line"><span class="lineno">  732</span>}</div>
<div class="ttc" id="aastronomy_8h_html_acfd27b57f62aed3dde359047a35ac00ca58ecdc09bd205ed7fc148f3318333255"><div class="ttname"><a href="#acfd27b57f62aed3dde359047a35ac00ca58ecdc09bd205ed7fc148f3318333255">EQUATOR_J2000</a></div><div class="ttdeci">@ EQUATOR_J2000</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00730">astronomy.h:730</a></div></div>
<div class="ttc" id="aastronomy_8h_html_acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03"><div class="ttname"><a href="#acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03">EQUATOR_OF_DATE</a></div><div class="ttdeci">@ EQUATOR_OF_DATE</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00731">astronomy.h:731</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="affbe5c88a5c372b8585d62414b6d03d3" name="affbe5c88a5c372b8585d62414b6d03d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affbe5c88a5c372b8585d62414b6d03d3">&#9670;&#160;</a></span>astro_refraction_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects whether to correct for atmospheric refraction, and if so, how. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6" name="affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6"></a>REFRACTION_NONE&#160;</td><td class="fielddoc"><p>No atmospheric refraction correction (airless). </p>
</td></tr>
<tr><td class="fieldname"><a id="affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73" name="affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73"></a>REFRACTION_NORMAL&#160;</td><td class="fielddoc"><p>Recommended correction for standard atmospheric refraction. </p>
</td></tr>
<tr><td class="fieldname"><a id="affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26" name="affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26"></a>REFRACTION_JPLHOR&#160;</td><td class="fielddoc"><p>Used only for compatibility testing with JPL Horizons online tool. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00306">306</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  307</span>{</div>
<div class="line"><span class="lineno">  308</span>    <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6">REFRACTION_NONE</a>,    <span class="comment">/**&lt; No atmospheric refraction correction (airless). */</span></div>
<div class="line"><span class="lineno">  309</span>    <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a>,  <span class="comment">/**&lt; Recommended correction for standard atmospheric refraction. */</span></div>
<div class="line"><span class="lineno">  310</span>    <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26">REFRACTION_JPLHOR</a>   <span class="comment">/**&lt; Used only for compatibility testing with JPL Horizons online tool. */</span></div>
<div class="line"><span class="lineno">  311</span>}</div>
<div class="ttc" id="aastronomy_8h_html_affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73"><div class="ttname"><a href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a></div><div class="ttdeci">@ REFRACTION_NORMAL</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00309">astronomy.h:309</a></div></div>
<div class="ttc" id="aastronomy_8h_html_affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26"><div class="ttname"><a href="#affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26">REFRACTION_JPLHOR</a></div><div class="ttdeci">@ REFRACTION_JPLHOR</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00310">astronomy.h:310</a></div></div>
<div class="ttc" id="aastronomy_8h_html_affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6"><div class="ttname"><a href="#affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6">REFRACTION_NONE</a></div><div class="ttdeci">@ REFRACTION_NONE</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00308">astronomy.h:308</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3605f063314f858dec26db307c4e8214" name="a3605f063314f858dec26db307c4e8214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3605f063314f858dec26db307c4e8214">&#9670;&#160;</a></span>astro_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a3605f063314f858dec26db307c4e8214">astro_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates success/failure of an Astronomy Engine function call. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939" name="a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939"></a>ASTRO_SUCCESS&#160;</td><td class="fielddoc"><p>The operation was successful. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214abe1744336f88c4358481b138de994344" name="a3605f063314f858dec26db307c4e8214abe1744336f88c4358481b138de994344"></a>ASTRO_NOT_INITIALIZED&#160;</td><td class="fielddoc"><p>A placeholder that can be used for data that is not yet initialized. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c" name="a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c"></a>ASTRO_INVALID_BODY&#160;</td><td class="fielddoc"><p>The celestial body was not valid. Different sets of bodies are supported depending on the function. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680" name="a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680"></a>ASTRO_NO_CONVERGE&#160;</td><td class="fielddoc"><p>A numeric solver failed to converge. This should not happen unless there is a bug in Astronomy Engine. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214a444cd7276a045b4cc757312c86ed21a5" name="a3605f063314f858dec26db307c4e8214a444cd7276a045b4cc757312c86ed21a5"></a>ASTRO_BAD_TIME&#160;</td><td class="fielddoc"><p>The provided date/time is outside the range allowed by this function. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214aa6d6b76d4d8cfcf83e889dfd8d70a874" name="a3605f063314f858dec26db307c4e8214aa6d6b76d4d8cfcf83e889dfd8d70a874"></a>ASTRO_BAD_VECTOR&#160;</td><td class="fielddoc"><p>Vector magnitude is too small to be normalized into a unit vector. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea" name="a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea"></a>ASTRO_SEARCH_FAILURE&#160;</td><td class="fielddoc"><p>Search was not able to find an ascending root crossing of the function in the specified time interval. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505" name="a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505"></a>ASTRO_EARTH_NOT_ALLOWED&#160;</td><td class="fielddoc"><p>The Earth cannot be treated as a celestial body seen from an observer on the Earth itself. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214adb7bba8df971053f5d72e4052fd9b637" name="a3605f063314f858dec26db307c4e8214adb7bba8df971053f5d72e4052fd9b637"></a>ASTRO_NO_MOON_QUARTER&#160;</td><td class="fielddoc"><p>No lunar quarter occurs inside the specified time range. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214ac17d6f0981aaa1fe114c6da5d86c60e6" name="a3605f063314f858dec26db307c4e8214ac17d6f0981aaa1fe114c6da5d86c60e6"></a>ASTRO_WRONG_MOON_QUARTER&#160;</td><td class="fielddoc"><p>Internal error: Astronomy_NextMoonQuarter found the wrong moon quarter. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863" name="a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863"></a>ASTRO_INTERNAL_ERROR&#160;</td><td class="fielddoc"><p>A self-check failed inside the code somewhere, indicating a bug needs to be fixed. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7" name="a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7"></a>ASTRO_INVALID_PARAMETER&#160;</td><td class="fielddoc"><p>A parameter value passed to a function was not valid. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214a712702035b1895cf776b890b3e60dea5" name="a3605f063314f858dec26db307c4e8214a712702035b1895cf776b890b3e60dea5"></a>ASTRO_FAIL_APSIS&#160;</td><td class="fielddoc"><p>Special-case logic for finding Neptune/Pluto apsis failed. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743" name="a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743"></a>ASTRO_BUFFER_TOO_SMALL&#160;</td><td class="fielddoc"><p>A provided buffer's size is too small to receive the requested data. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3605f063314f858dec26db307c4e8214a60d6eacf182964cb209c820fd6710717" name="a3605f063314f858dec26db307c4e8214a60d6eacf182964cb209c820fd6710717"></a>ASTRO_OUT_OF_MEMORY&#160;</td><td class="fielddoc"><p>An attempt to allocate memory failed. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00042">42</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>{</div>
<div class="line"><span class="lineno">   44</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>,                  <span class="comment">/**&lt; The operation was successful. */</span></div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abe1744336f88c4358481b138de994344">ASTRO_NOT_INITIALIZED</a>,          <span class="comment">/**&lt; A placeholder that can be used for data that is not yet initialized. */</span></div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>,             <span class="comment">/**&lt; The celestial body was not valid. Different sets of bodies are supported depending on the function. */</span></div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680">ASTRO_NO_CONVERGE</a>,              <span class="comment">/**&lt; A numeric solver failed to converge. This should not happen unless there is a bug in Astronomy Engine. */</span></div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a444cd7276a045b4cc757312c86ed21a5">ASTRO_BAD_TIME</a>,                 <span class="comment">/**&lt; The provided date/time is outside the range allowed by this function. */</span></div>
<div class="line"><span class="lineno">   49</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aa6d6b76d4d8cfcf83e889dfd8d70a874">ASTRO_BAD_VECTOR</a>,               <span class="comment">/**&lt; Vector magnitude is too small to be normalized into a unit vector. */</span></div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>,           <span class="comment">/**&lt; Search was not able to find an ascending root crossing of the function in the specified time interval. */</span></div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a>,        <span class="comment">/**&lt; The Earth cannot be treated as a celestial body seen from an observer on the Earth itself. */</span></div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214adb7bba8df971053f5d72e4052fd9b637">ASTRO_NO_MOON_QUARTER</a>,          <span class="comment">/**&lt; No lunar quarter occurs inside the specified time range. */</span></div>
<div class="line"><span class="lineno">   53</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ac17d6f0981aaa1fe114c6da5d86c60e6">ASTRO_WRONG_MOON_QUARTER</a>,       <span class="comment">/**&lt; Internal error: Astronomy_NextMoonQuarter found the wrong moon quarter. */</span></div>
<div class="line"><span class="lineno">   54</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>,           <span class="comment">/**&lt; A self-check failed inside the code somewhere, indicating a bug needs to be fixed. */</span></div>
<div class="line"><span class="lineno">   55</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>,        <span class="comment">/**&lt; A parameter value passed to a function was not valid. */</span></div>
<div class="line"><span class="lineno">   56</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a712702035b1895cf776b890b3e60dea5">ASTRO_FAIL_APSIS</a>,               <span class="comment">/**&lt; Special-case logic for finding Neptune/Pluto apsis failed. */</span></div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743">ASTRO_BUFFER_TOO_SMALL</a>,         <span class="comment">/**&lt; A provided buffer&#39;s size is too small to receive the requested data. */</span></div>
<div class="line"><span class="lineno">   58</span>    <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a60d6eacf182964cb209c820fd6710717">ASTRO_OUT_OF_MEMORY</a>             <span class="comment">/**&lt; An attempt to allocate memory failed. */</span></div>
<div class="line"><span class="lineno">   59</span>}</div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214a444cd7276a045b4cc757312c86ed21a5"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214a444cd7276a045b4cc757312c86ed21a5">ASTRO_BAD_TIME</a></div><div class="ttdeci">@ ASTRO_BAD_TIME</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00048">astronomy.h:48</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743">ASTRO_BUFFER_TOO_SMALL</a></div><div class="ttdeci">@ ASTRO_BUFFER_TOO_SMALL</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00057">astronomy.h:57</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214a60d6eacf182964cb209c820fd6710717"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214a60d6eacf182964cb209c820fd6710717">ASTRO_OUT_OF_MEMORY</a></div><div class="ttdeci">@ ASTRO_OUT_OF_MEMORY</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00058">astronomy.h:58</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214a712702035b1895cf776b890b3e60dea5"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214a712702035b1895cf776b890b3e60dea5">ASTRO_FAIL_APSIS</a></div><div class="ttdeci">@ ASTRO_FAIL_APSIS</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00056">astronomy.h:56</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a></div><div class="ttdeci">@ ASTRO_EARTH_NOT_ALLOWED</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00051">astronomy.h:51</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214aa6d6b76d4d8cfcf83e889dfd8d70a874"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214aa6d6b76d4d8cfcf83e889dfd8d70a874">ASTRO_BAD_VECTOR</a></div><div class="ttdeci">@ ASTRO_BAD_VECTOR</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00049">astronomy.h:49</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214abe1744336f88c4358481b138de994344"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214abe1744336f88c4358481b138de994344">ASTRO_NOT_INITIALIZED</a></div><div class="ttdeci">@ ASTRO_NOT_INITIALIZED</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00045">astronomy.h:45</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a></div><div class="ttdeci">@ ASTRO_INVALID_PARAMETER</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00055">astronomy.h:55</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214ac17d6f0981aaa1fe114c6da5d86c60e6"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214ac17d6f0981aaa1fe114c6da5d86c60e6">ASTRO_WRONG_MOON_QUARTER</a></div><div class="ttdeci">@ ASTRO_WRONG_MOON_QUARTER</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00053">astronomy.h:53</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a></div><div class="ttdeci">@ ASTRO_INVALID_BODY</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00046">astronomy.h:46</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></div><div class="ttdeci">@ ASTRO_SUCCESS</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00044">astronomy.h:44</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a></div><div class="ttdeci">@ ASTRO_INTERNAL_ERROR</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00054">astronomy.h:54</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214adb7bba8df971053f5d72e4052fd9b637"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214adb7bba8df971053f5d72e4052fd9b637">ASTRO_NO_MOON_QUARTER</a></div><div class="ttdeci">@ ASTRO_NO_MOON_QUARTER</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00052">astronomy.h:52</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a></div><div class="ttdeci">@ ASTRO_SEARCH_FAILURE</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00050">astronomy.h:50</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680">ASTRO_NO_CONVERGE</a></div><div class="ttdeci">@ ASTRO_NO_CONVERGE</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00047">astronomy.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a626cfe02e4ee23bd16944a4b706df3d9" name="a626cfe02e4ee23bd16944a4b706df3d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626cfe02e4ee23bd16944a4b706df3d9">&#9670;&#160;</a></span>astro_time_format_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9">astro_time_format_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects the output format of the function <a class="el" href="#a50957b12cb6796ee46b348ebe0985f4e" title="Formats an astro_time_t value as an ISO 8601 string.">Astronomy_FormatTime</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="a626cfe02e4ee23bd16944a4b706df3d9a059b1be3ddb340fc7e2c6ffa4fc0e6ec" name="a626cfe02e4ee23bd16944a4b706df3d9a059b1be3ddb340fc7e2c6ffa4fc0e6ec"></a>TIME_FORMAT_DAY&#160;</td><td class="fielddoc"><p>Truncate to UTC calendar date only, e.g. <span class="tt">2020-12-31</span>. Buffer size must be at least 11 characters. </p>
</td></tr>
<tr><td class="fieldname"><a id="a626cfe02e4ee23bd16944a4b706df3d9a0655717469d222872875c0ed0d0f94e2" name="a626cfe02e4ee23bd16944a4b706df3d9a0655717469d222872875c0ed0d0f94e2"></a>TIME_FORMAT_MINUTE&#160;</td><td class="fielddoc"><p>Round to nearest UTC minute, e.g. <span class="tt">2020-12-31T15:47Z</span>. Buffer size must be at least 18 characters. </p>
</td></tr>
<tr><td class="fieldname"><a id="a626cfe02e4ee23bd16944a4b706df3d9ad29d40994319a1a795857cb4e1bddfef" name="a626cfe02e4ee23bd16944a4b706df3d9ad29d40994319a1a795857cb4e1bddfef"></a>TIME_FORMAT_SECOND&#160;</td><td class="fielddoc"><p>Round to nearest UTC second, e.g. <span class="tt">2020-12-31T15:47:32Z</span>. Buffer size must be at least 21 characters. </p>
</td></tr>
<tr><td class="fieldname"><a id="a626cfe02e4ee23bd16944a4b706df3d9ac2f67e3e4b0738f7785fc5371a8159b7" name="a626cfe02e4ee23bd16944a4b706df3d9ac2f67e3e4b0738f7785fc5371a8159b7"></a>TIME_FORMAT_MILLI&#160;</td><td class="fielddoc"><p>Round to nearest UTC millisecond, e.g. <span class="tt">2020-12-31T15:47:32.397Z</span>. Buffer size must be at least 25 characters. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00772">772</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  773</span>{</div>
<div class="line"><span class="lineno">  774</span>    <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9a059b1be3ddb340fc7e2c6ffa4fc0e6ec">TIME_FORMAT_DAY</a>,    <span class="comment">/**&lt; Truncate to UTC calendar date only, e.g. `2020-12-31`. Buffer size must be at least 11 characters. */</span></div>
<div class="line"><span class="lineno">  775</span>    <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9a0655717469d222872875c0ed0d0f94e2">TIME_FORMAT_MINUTE</a>, <span class="comment">/**&lt; Round to nearest UTC minute, e.g. `2020-12-31T15:47Z`. Buffer size must be at least 18 characters. */</span></div>
<div class="line"><span class="lineno">  776</span>    <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9ad29d40994319a1a795857cb4e1bddfef">TIME_FORMAT_SECOND</a>, <span class="comment">/**&lt; Round to nearest UTC second, e.g. `2020-12-31T15:47:32Z`. Buffer size must be at least 21 characters. */</span></div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9ac2f67e3e4b0738f7785fc5371a8159b7">TIME_FORMAT_MILLI</a>   <span class="comment">/**&lt; Round to nearest UTC millisecond, e.g. `2020-12-31T15:47:32.397Z`. Buffer size must be at least 25 characters. */</span></div>
<div class="line"><span class="lineno">  778</span>}</div>
<div class="ttc" id="aastronomy_8h_html_a626cfe02e4ee23bd16944a4b706df3d9a059b1be3ddb340fc7e2c6ffa4fc0e6ec"><div class="ttname"><a href="#a626cfe02e4ee23bd16944a4b706df3d9a059b1be3ddb340fc7e2c6ffa4fc0e6ec">TIME_FORMAT_DAY</a></div><div class="ttdeci">@ TIME_FORMAT_DAY</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00774">astronomy.h:774</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a626cfe02e4ee23bd16944a4b706df3d9a0655717469d222872875c0ed0d0f94e2"><div class="ttname"><a href="#a626cfe02e4ee23bd16944a4b706df3d9a0655717469d222872875c0ed0d0f94e2">TIME_FORMAT_MINUTE</a></div><div class="ttdeci">@ TIME_FORMAT_MINUTE</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00775">astronomy.h:775</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a626cfe02e4ee23bd16944a4b706df3d9ac2f67e3e4b0738f7785fc5371a8159b7"><div class="ttname"><a href="#a626cfe02e4ee23bd16944a4b706df3d9ac2f67e3e4b0738f7785fc5371a8159b7">TIME_FORMAT_MILLI</a></div><div class="ttdeci">@ TIME_FORMAT_MILLI</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00777">astronomy.h:777</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a626cfe02e4ee23bd16944a4b706df3d9ad29d40994319a1a795857cb4e1bddfef"><div class="ttname"><a href="#a626cfe02e4ee23bd16944a4b706df3d9ad29d40994319a1a795857cb4e1bddfef">TIME_FORMAT_SECOND</a></div><div class="ttdeci">@ TIME_FORMAT_SECOND</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00776">astronomy.h:776</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a3fd16133cdaed41936a10e8520f9ff" name="a4a3fd16133cdaed41936a10e8520f9ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a3fd16133cdaed41936a10e8520f9ff">&#9670;&#160;</a></span>astro_visibility_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a4a3fd16133cdaed41936a10e8520f9ff">astro_visibility_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates whether a body (especially Mercury or Venus) is best seen in the morning or evening. </p>
<table class="fieldtable">
<tr><th colspan="2">Valores de enumeraciones</th></tr><tr><td class="fieldname"><a id="a4a3fd16133cdaed41936a10e8520f9ffa7921f301f9f5e8a841e2734e446f7ac7" name="a4a3fd16133cdaed41936a10e8520f9ffa7921f301f9f5e8a841e2734e446f7ac7"></a>VISIBLE_MORNING&#160;</td><td class="fielddoc"><p>The body is best visible in the morning, before sunrise. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4a3fd16133cdaed41936a10e8520f9ffad72b44bfab1d83a2458cfa7d59de0033" name="a4a3fd16133cdaed41936a10e8520f9ffad72b44bfab1d83a2458cfa7d59de0033"></a>VISIBLE_EVENING&#160;</td><td class="fielddoc"><p>The body is best visible in the evening, after sunset. </p>
</td></tr>
</table>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8h_source.html#l00413">413</a> del archivo <a class="el" href="astronomy_8h_source.html">astronomy.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  414</span>{</div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_enumvalue" href="#a4a3fd16133cdaed41936a10e8520f9ffa7921f301f9f5e8a841e2734e446f7ac7">VISIBLE_MORNING</a>,    <span class="comment">/**&lt; The body is best visible in the morning, before sunrise. */</span></div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_enumvalue" href="#a4a3fd16133cdaed41936a10e8520f9ffad72b44bfab1d83a2458cfa7d59de0033">VISIBLE_EVENING</a>     <span class="comment">/**&lt; The body is best visible in the evening, after sunset. */</span></div>
<div class="line"><span class="lineno">  417</span>}</div>
<div class="ttc" id="aastronomy_8h_html_a4a3fd16133cdaed41936a10e8520f9ffa7921f301f9f5e8a841e2734e446f7ac7"><div class="ttname"><a href="#a4a3fd16133cdaed41936a10e8520f9ffa7921f301f9f5e8a841e2734e446f7ac7">VISIBLE_MORNING</a></div><div class="ttdeci">@ VISIBLE_MORNING</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00415">astronomy.h:415</a></div></div>
<div class="ttc" id="aastronomy_8h_html_a4a3fd16133cdaed41936a10e8520f9ffad72b44bfab1d83a2458cfa7d59de0033"><div class="ttname"><a href="#a4a3fd16133cdaed41936a10e8520f9ffad72b44bfab1d83a2458cfa7d59de0033">VISIBLE_EVENING</a></div><div class="ttdeci">@ VISIBLE_EVENING</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00416">astronomy.h:416</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Documentación de funciones</h2>
<a id="a5f265f92cb2aa607ed9f3d883a31728a" name="a5f265f92cb2aa607ed9f3d883a31728a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f265f92cb2aa607ed9f3d883a31728a">&#9670;&#160;</a></span>Astronomy_AddDays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__time__t.html">astro_time_t</a> Astronomy_AddDays </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>days</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the sum or difference of an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> with a specified floating point number of days. </p>
<p>Sometimes we need to adjust a given <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value by a certain amount of time. This function adds the given real number of days in <span class="tt">days</span> to the date and time in <span class="tt">time</span>.</p>
<p>More precisely, the result's Universal Time field <span class="tt">ut</span> is exactly adjusted by <span class="tt">days</span> and the Terrestrial Time field <span class="tt">tt</span> is adjusted correctly for the resulting UTC date and time, according to the historical and predictive Delta-T model provided by the <a href="http://maia.usno.navy.mil/ser7/">United States Naval Observatory</a>.</p>
<p>The value stored in <span class="tt">time</span> will not be modified; it is passed by value.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>A date and time for which to calculate an adjusted date and time. </td></tr>
    <tr><td class="paramname">days</td><td>A floating point number of days by which to adjust <span class="tt">time</span>. May be negative, 0, or positive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A date and time that is conceptually equal to <span class="tt">time + days</span>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00814">814</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  815</span>{</div>
<div class="line"><span class="lineno">  816</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  817</span><span class="comment">        This is slightly wrong, but the error is tiny.</span></div>
<div class="line"><span class="lineno">  818</span><span class="comment">        We really should be adding to TT, not to UT.</span></div>
<div class="line"><span class="lineno">  819</span><span class="comment">        But using TT would require creating an inverse function for DeltaT,</span></div>
<div class="line"><span class="lineno">  820</span><span class="comment">        which would be quite a bit of extra calculation.</span></div>
<div class="line"><span class="lineno">  821</span><span class="comment">        I estimate the error is in practice on the order of 10^(-7)</span></div>
<div class="line"><span class="lineno">  822</span><span class="comment">        times the value of &#39;days&#39;.</span></div>
<div class="line"><span class="lineno">  823</span><span class="comment">        This is based on a typical drift of 1 second per year between UT and TT.</span></div>
<div class="line"><span class="lineno">  824</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  825</span> </div>
<div class="line"><span class="lineno">  826</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> sum;</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>    sum.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> = time.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> + days;</div>
<div class="line"><span class="lineno">  829</span>    sum.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> = TerrestrialTime(sum.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>);</div>
<div class="line"><span class="lineno">  830</span>    sum.<a class="code hl_variable" href="structastro__time__t.html#a5143fb2fa0c35eef45a919e8709684d5">eps</a> = sum.<a class="code hl_variable" href="structastro__time__t.html#a1daf4ea6e4bc7991cc9a204645eac5e8">psi</a> = NAN;</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">return</span> sum;</div>
<div class="line"><span class="lineno">  833</span>}</div>
<div class="ttc" id="astructastro__time__t_html"><div class="ttname"><a href="structastro__time__t.html">astro_time_t</a></div><div class="ttdoc">A date and time used for astronomical calculations.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00093">astronomy.h:94</a></div></div>
<div class="ttc" id="astructastro__time__t_html_a0874edc886a134a3a09ed3c1e4c41d24"><div class="ttname"><a href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">astro_time_t::ut</a></div><div class="ttdeci">double ut</div><div class="ttdoc">UT1/UTC number of days since noon on January 1, 2000.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00121">astronomy.h:121</a></div></div>
<div class="ttc" id="astructastro__time__t_html_a1daf4ea6e4bc7991cc9a204645eac5e8"><div class="ttname"><a href="structastro__time__t.html#a1daf4ea6e4bc7991cc9a204645eac5e8">astro_time_t::psi</a></div><div class="ttdeci">double psi</div><div class="ttdoc">For internal use only. Used to optimize Earth tilt calculations.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00142">astronomy.h:142</a></div></div>
<div class="ttc" id="astructastro__time__t_html_a5143fb2fa0c35eef45a919e8709684d5"><div class="ttname"><a href="structastro__time__t.html#a5143fb2fa0c35eef45a919e8709684d5">astro_time_t::eps</a></div><div class="ttdeci">double eps</div><div class="ttdoc">For internal use only. Used to optimize Earth tilt calculations.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00147">astronomy.h:147</a></div></div>
<div class="ttc" id="astructastro__time__t_html_a7efe42a250b382ca1052fd4ae5da4d8d"><div class="ttname"><a href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">astro_time_t::tt</a></div><div class="ttdeci">double tt</div><div class="ttdoc">Terrestrial Time days since noon on January 1, 2000.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00137">astronomy.h:137</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00147">astro_time_t::eps</a>, <a class="el" href="astronomy_8h_source.html#l00142">astro_time_t::psi</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a> y <a class="el" href="astronomy_8h_source.html#l00121">astro_time_t::ut</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l03520">Astronomy_GeoVector()</a>, <a class="el" href="astronomy_8c_source.html#l08260">Astronomy_NextGlobalSolarEclipse()</a>, <a class="el" href="astronomy_8c_source.html#l08625">Astronomy_NextLocalSolarEclipse()</a>, <a class="el" href="astronomy_8c_source.html#l05872">Astronomy_NextLunarApsis()</a>, <a class="el" href="astronomy_8c_source.html#l08033">Astronomy_NextLunarEclipse()</a>, <a class="el" href="astronomy_8c_source.html#l04852">Astronomy_NextMoonQuarter()</a>, <a class="el" href="astronomy_8c_source.html#l06218">Astronomy_NextPlanetApsis()</a>, <a class="el" href="astronomy_8c_source.html#l08788">Astronomy_NextTransit()</a>, <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>, <a class="el" href="astronomy_8c_source.html#l08197">Astronomy_SearchGlobalSolarEclipse()</a>, <a class="el" href="astronomy_8c_source.html#l05049">Astronomy_SearchHourAngle()</a>, <a class="el" href="astronomy_8c_source.html#l08552">Astronomy_SearchLocalSolarEclipse()</a>, <a class="el" href="astronomy_8c_source.html#l05778">Astronomy_SearchLunarApsis()</a>, <a class="el" href="astronomy_8c_source.html#l07945">Astronomy_SearchLunarEclipse()</a>, <a class="el" href="astronomy_8c_source.html#l04486">Astronomy_SearchMaxElongation()</a>, <a class="el" href="astronomy_8c_source.html#l04755">Astronomy_SearchMoonPhase()</a>, <a class="el" href="astronomy_8c_source.html#l05611">Astronomy_SearchPeakMagnitude()</a>, <a class="el" href="astronomy_8c_source.html#l06110">Astronomy_SearchPlanetApsis()</a>, <a class="el" href="astronomy_8c_source.html#l04940">Astronomy_SearchRelativeLongitude()</a>, <a class="el" href="astronomy_8c_source.html#l04014">Astronomy_SearchSunLongitude()</a>, <a class="el" href="astronomy_8c_source.html#l08688">Astronomy_SearchTransit()</a> y <a class="el" href="astronomy_8c_source.html#l03838">Astronomy_SunPosition()</a>.</p>

</div>
</div>
<a id="a9c87f5a85b80e27ef80c91b7875c74f7" name="a9c87f5a85b80e27ef80c91b7875c74f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c87f5a85b80e27ef80c91b7875c74f7">&#9670;&#160;</a></span>Astronomy_AngleFromSun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a> Astronomy_AngleFromSun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the angle between the given body and the Sun, as seen from the Earth. </p>
<p>This function calculates the angular separation between the given body and the Sun, as seen from the center of the Earth. This angle is helpful for determining how easy it is to see the body away from the glare of the Sun.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The celestial body whose angle from the Sun is to be measured. Not allowed to be <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a></span>.</td></tr>
    <tr><td class="paramname">time</td><td>The time at which the observation is made.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the returned structure contains <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> in the <span class="tt">status</span> field and <span class="tt">angle</span> holds the angle in degrees between the Sun and the specified body as seen from the center of the Earth. If an error occurs, the <span class="tt">status</span> field contains a value other than <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> that indicates the error condition. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04356">4356</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4357</span>{</div>
<div class="line"><span class="lineno"> 4358</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> sv, bv;</div>
<div class="line"><span class="lineno"> 4359</span> </div>
<div class="line"><span class="lineno"> 4360</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>)</div>
<div class="line"><span class="lineno"> 4361</span>        <span class="keywordflow">return</span> AngleError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a>);</div>
<div class="line"><span class="lineno"> 4362</span> </div>
<div class="line"><span class="lineno"> 4363</span>    sv = <a class="code hl_function" href="astronomy_8c.html#a034ac9033b498171f708501d0adcc381">Astronomy_GeoVector</a>(<a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>, time, <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a>);</div>
<div class="line"><span class="lineno"> 4364</span>    <span class="keywordflow">if</span> (sv.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4365</span>        <span class="keywordflow">return</span> AngleError(sv.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 4366</span> </div>
<div class="line"><span class="lineno"> 4367</span>    bv = <a class="code hl_function" href="astronomy_8c.html#a034ac9033b498171f708501d0adcc381">Astronomy_GeoVector</a>(body, time, <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a>);</div>
<div class="line"><span class="lineno"> 4368</span>    <span class="keywordflow">if</span> (bv.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4369</span>        <span class="keywordflow">return</span> AngleError(bv.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 4370</span> </div>
<div class="line"><span class="lineno"> 4371</span>    <span class="keywordflow">return</span> AngleBetween(sv, bv);</div>
<div class="line"><span class="lineno"> 4372</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a034ac9033b498171f708501d0adcc381"><div class="ttname"><a href="astronomy_8c.html#a034ac9033b498171f708501d0adcc381">Astronomy_GeoVector</a></div><div class="ttdeci">astro_vector_t Astronomy_GeoVector(astro_body_t body, astro_time_t time, astro_aberration_t aberration)</div><div class="ttdoc">Calculates geocentric Cartesian coordinates of a body in the J2000 equatorial system.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l03520">astronomy.c:3520</a></div></div>
<div class="ttc" id="astructastro__vector__t_html"><div class="ttname"><a href="structastro__vector__t.html">astro_vector_t</a></div><div class="ttdoc">A 3D Cartesian vector whose components are expressed in Astronomical Units (AU).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00168">astronomy.h:169</a></div></div>
<div class="ttc" id="astructastro__vector__t_html_a56282eb2bcf0dce0170952f9d1aa8b3c"><div class="ttname"><a href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">astro_vector_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00170">astronomy.h:170</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00707">ABERRATION</a>, <a class="el" href="astronomy_8h_source.html#l00051">ASTRO_EARTH_NOT_ALLOWED</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l03520">Astronomy_GeoVector()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a> y <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l04405">Astronomy_Elongation()</a> y <a class="el" href="astronomy_8c_source.html#l08688">Astronomy_SearchTransit()</a>.</p>

</div>
</div>
<a id="a56a670ffe40df80867cf3f82c2f2b6e0" name="a56a670ffe40df80867cf3f82c2f2b6e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56a670ffe40df80867cf3f82c2f2b6e0">&#9670;&#160;</a></span>Astronomy_BodyCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a> Astronomy_BodyCode </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928" title="A celestial body.">astro_body_t</a> value corresponding to the given English name. </p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>One of the following strings: Sun, Moon, Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune, Pluto, EMB, SSB. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If <span class="tt">name</span> is one of the listed strings (case-sensitive), the returned value is the corresponding <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928" title="A celestial body.">astro_body_t</a> value, otherwise it is <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a039bc64adbb31933f941a780f11b7ac9">BODY_INVALID</a></span>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00274">274</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  275</span>{</div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">if</span> (name != NULL)</div>
<div class="line"><span class="lineno">  277</span>    {</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Mercury&quot;</span>))   <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a>;</div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Venus&quot;</span>))     <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>;</div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Earth&quot;</span>))     <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>;</div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Mars&quot;</span>))      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9">BODY_MARS</a>;</div>
<div class="line"><span class="lineno">  282</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Jupiter&quot;</span>))   <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a">BODY_JUPITER</a>;</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Saturn&quot;</span>))    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3">BODY_SATURN</a>;</div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Uranus&quot;</span>))    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87">BODY_URANUS</a>;</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Neptune&quot;</span>))   <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250">BODY_NEPTUNE</a>;</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Pluto&quot;</span>))     <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa">BODY_PLUTO</a>;</div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Sun&quot;</span>))       <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>;</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;Moon&quot;</span>))      <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>;</div>
<div class="line"><span class="lineno">  289</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;EMB&quot;</span>))       <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245">BODY_EMB</a>;</div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">if</span> (!strcmp(name, <span class="stringliteral">&quot;SSB&quot;</span>))       <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462">BODY_SSB</a>;</div>
<div class="line"><span class="lineno">  291</span>    }</div>
<div class="line"><span class="lineno">  292</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a039bc64adbb31933f941a780f11b7ac9">BODY_INVALID</a>;</div>
<div class="line"><span class="lineno">  293</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00217">BODY_EMB</a>, <a class="el" href="astronomy_8h_source.html#l00205">BODY_INVALID</a>, <a class="el" href="astronomy_8h_source.html#l00210">BODY_JUPITER</a>, <a class="el" href="astronomy_8h_source.html#l00209">BODY_MARS</a>, <a class="el" href="astronomy_8h_source.html#l00206">BODY_MERCURY</a>, <a class="el" href="astronomy_8h_source.html#l00216">BODY_MOON</a>, <a class="el" href="astronomy_8h_source.html#l00213">BODY_NEPTUNE</a>, <a class="el" href="astronomy_8h_source.html#l00214">BODY_PLUTO</a>, <a class="el" href="astronomy_8h_source.html#l00211">BODY_SATURN</a>, <a class="el" href="astronomy_8h_source.html#l00218">BODY_SSB</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00212">BODY_URANUS</a> y <a class="el" href="astronomy_8h_source.html#l00207">BODY_VENUS</a>.</p>

</div>
</div>
<a id="a814cbefce83c626072463454ca534bc7" name="a814cbefce83c626072463454ca534bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a814cbefce83c626072463454ca534bc7">&#9670;&#160;</a></span>Astronomy_BodyName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * Astronomy_BodyName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the name of a celestial body. </p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The celestial body whose name is to be found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The English-language name of the celestial body, or "" if the body is not valid. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00248">248</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  249</span>{</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">switch</span> (body)</div>
<div class="line"><span class="lineno">  251</span>    {</div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;Mercury&quot;</span>;</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Venus&quot;</span>;</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Earth&quot;</span>;</div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9">BODY_MARS</a>:     <span class="keywordflow">return</span> <span class="stringliteral">&quot;Mars&quot;</span>;</div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a">BODY_JUPITER</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;Jupiter&quot;</span>;</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3">BODY_SATURN</a>:   <span class="keywordflow">return</span> <span class="stringliteral">&quot;Saturn&quot;</span>;</div>
<div class="line"><span class="lineno">  258</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87">BODY_URANUS</a>:   <span class="keywordflow">return</span> <span class="stringliteral">&quot;Uranus&quot;</span>;</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250">BODY_NEPTUNE</a>:  <span class="keywordflow">return</span> <span class="stringliteral">&quot;Neptune&quot;</span>;</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa">BODY_PLUTO</a>:    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Pluto&quot;</span>;</div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>:      <span class="keywordflow">return</span> <span class="stringliteral">&quot;Sun&quot;</span>;</div>
<div class="line"><span class="lineno">  262</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>:     <span class="keywordflow">return</span> <span class="stringliteral">&quot;Moon&quot;</span>;</div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245">BODY_EMB</a>:      <span class="keywordflow">return</span> <span class="stringliteral">&quot;EMB&quot;</span>;</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462">BODY_SSB</a>:      <span class="keywordflow">return</span> <span class="stringliteral">&quot;SSB&quot;</span>;</div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">default</span>:            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00217">BODY_EMB</a>, <a class="el" href="astronomy_8h_source.html#l00210">BODY_JUPITER</a>, <a class="el" href="astronomy_8h_source.html#l00209">BODY_MARS</a>, <a class="el" href="astronomy_8h_source.html#l00206">BODY_MERCURY</a>, <a class="el" href="astronomy_8h_source.html#l00216">BODY_MOON</a>, <a class="el" href="astronomy_8h_source.html#l00213">BODY_NEPTUNE</a>, <a class="el" href="astronomy_8h_source.html#l00214">BODY_PLUTO</a>, <a class="el" href="astronomy_8h_source.html#l00211">BODY_SATURN</a>, <a class="el" href="astronomy_8h_source.html#l00218">BODY_SSB</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00212">BODY_URANUS</a> y <a class="el" href="astronomy_8h_source.html#l00207">BODY_VENUS</a>.</p>

</div>
</div>
<a id="a0563a05b3f05a7694e447c50a2c2c4d2" name="a0563a05b3f05a7694e447c50a2c2c4d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0563a05b3f05a7694e447c50a2c2c4d2">&#9670;&#160;</a></span>Astronomy_CombineRotation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_CombineRotation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a rotation based on applying one rotation followed by another. </p>
<p>Given two rotation matrices, returns a combined rotation matrix that is equivalent to rotating based on the first matrix, followed by the second.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The first rotation to apply.</td></tr>
    <tr><td class="paramname">b</td><td>The second rotation to apply.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The combined rotation matrix. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06294">6294</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6295</span>{</div>
<div class="line"><span class="lineno"> 6296</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> c;</div>
<div class="line"><span class="lineno"> 6297</span> </div>
<div class="line"><span class="lineno"> 6298</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a> || b.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6299</span>        <span class="keywordflow">return</span> RotationErr(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 6300</span> </div>
<div class="line"><span class="lineno"> 6301</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 6302</span><span class="comment">        Use matrix multiplication: c = b*a.</span></div>
<div class="line"><span class="lineno"> 6303</span><span class="comment">        We put &#39;b&#39; on the left and &#39;a&#39; on the right because,</span></div>
<div class="line"><span class="lineno"> 6304</span><span class="comment">        just like when you use a matrix M to rotate a vector V,</span></div>
<div class="line"><span class="lineno"> 6305</span><span class="comment">        you put the M on the left in the product M*V.</span></div>
<div class="line"><span class="lineno"> 6306</span><span class="comment">        We can think of this as &#39;b&#39; rotating all the 3 column vectors in &#39;a&#39;.</span></div>
<div class="line"><span class="lineno"> 6307</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 6308</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][0] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][2];</div>
<div class="line"><span class="lineno"> 6309</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][0] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][2];</div>
<div class="line"><span class="lineno"> 6310</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][0] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][0]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][2];</div>
<div class="line"><span class="lineno"> 6311</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][1] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][2];</div>
<div class="line"><span class="lineno"> 6312</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][1] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][2];</div>
<div class="line"><span class="lineno"> 6313</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][1] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][1]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][2];</div>
<div class="line"><span class="lineno"> 6314</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][2] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[0][2];</div>
<div class="line"><span class="lineno"> 6315</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][2] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[1][2];</div>
<div class="line"><span class="lineno"> 6316</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][2] = b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][0] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][1] + b.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][2]*<a class="code hl_variable" href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a>.rot[2][2];</div>
<div class="line"><span class="lineno"> 6317</span> </div>
<div class="line"><span class="lineno"> 6318</span>    c.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6319</span>    <span class="keywordflow">return</span> c;</div>
<div class="line"><span class="lineno"> 6320</span>}</div>
<div class="ttc" id="alv__example__anim__3_8c_html_a734ce3ff48b2bdc8e7cc09dd6faee06f"><div class="ttname"><a href="lv__example__anim__3_8c.html#a734ce3ff48b2bdc8e7cc09dd6faee06f">a</a></div><div class="ttdeci">lv_anim_t a</div><div class="ttdef"><b>Definition</b> <a href="lv__example__anim__3_8c_source.html#l00024">lv_example_anim_3.c:24</a></div></div>
<div class="ttc" id="astructastro__rotation__t_html"><div class="ttname"><a href="structastro__rotation__t.html">astro_rotation_t</a></div><div class="ttdoc">Contains a rotation matrix that can be used to transform one coordinate system to another.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00296">astronomy.h:297</a></div></div>
<div class="ttc" id="astructastro__rotation__t_html_a2497cdcc71703cf132de87e828736bac"><div class="ttname"><a href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">astro_rotation_t::rot</a></div><div class="ttdeci">double rot[3][3]</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00299">astronomy.h:299</a></div></div>
<div class="ttc" id="astructastro__rotation__t_html_a344f997f3bd54fef2573b0a24a91f8a0"><div class="ttname"><a href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">astro_rotation_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00298">astronomy.h:298</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="lv__example__anim__3_8c_source.html#l00024">a</a>, <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00299">astro_rotation_t::rot</a> y <a class="el" href="astronomy_8h_source.html#l00298">astro_rotation_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07009">Astronomy_Rotation_ECL_HOR()</a>, <a class="el" href="astronomy_8c_source.html#l06955">Astronomy_Rotation_EQD_ECL()</a>, <a class="el" href="astronomy_8c_source.html#l06788">Astronomy_Rotation_EQD_EQJ()</a>, <a class="el" href="astronomy_8c_source.html#l06764">Astronomy_Rotation_EQJ_EQD()</a> y <a class="el" href="astronomy_8c_source.html#l06901">Astronomy_Rotation_HOR_EQJ()</a>.</p>

</div>
</div>
<a id="a7151f75f03afd54f260790eb2692fbbf" name="a7151f75f03afd54f260790eb2692fbbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7151f75f03afd54f260790eb2692fbbf">&#9670;&#160;</a></span>Astronomy_Constellation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__constellation__t.html">astro_constellation_t</a> Astronomy_Constellation </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the constellation that contains the given point in the sky. </p>
<p>Given J2000 equatorial (EQJ) coordinates of a point in the sky, determines the constellation that contains that point.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">ra</td><td>The right ascension (RA) of a point in the sky, using the J2000 equatorial system.</td></tr>
    <tr><td class="paramname">dec</td><td>The declination (DEC) of a point in the sky, using the J2000 equatorial system.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, <span class="tt">status</span> holds <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>, <span class="tt">symbol</span> holds a pointer to a 3-character string like "Ori", and <span class="tt">name</span> holds a pointer to the full constellation name like "Orion". </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l07535">7535</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7536</span>{</div>
<div class="line"><span class="lineno"> 7537</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> epoch2000;</div>
<div class="line"><span class="lineno"> 7538</span>    <span class="keyword">static</span> <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> rot = { <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abe1744336f88c4358481b138de994344">ASTRO_NOT_INITIALIZED</a> };</div>
<div class="line"><span class="lineno"> 7539</span>    <a class="code hl_struct" href="structastro__constellation__t.html">astro_constellation_t</a> constel;</div>
<div class="line"><span class="lineno"> 7540</span>    <a class="code hl_struct" href="structastro__equatorial__t.html">astro_equatorial_t</a> j2000, b1875;</div>
<div class="line"><span class="lineno"> 7541</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> vec2000, vec1875;</div>
<div class="line"><span class="lineno"> 7542</span>    <span class="keywordtype">int</span> i, c;</div>
<div class="line"><span class="lineno"> 7543</span> </div>
<div class="line"><span class="lineno"> 7544</span>    <span class="keywordflow">if</span> (dec &lt; -90.0 || dec &gt; +90.0)</div>
<div class="line"><span class="lineno"> 7545</span>        <span class="keywordflow">return</span> ConstelErr(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 7546</span> </div>
<div class="line"><span class="lineno"> 7547</span>    <span class="comment">/* Allow right ascension to &quot;wrap around&quot;. Clamp to [0, 24) sidereal hours. */</span></div>
<div class="line"><span class="lineno"> 7548</span>    ra = fmod(ra, 24.0);</div>
<div class="line"><span class="lineno"> 7549</span>    <span class="keywordflow">if</span> (ra &lt; 0.0)</div>
<div class="line"><span class="lineno"> 7550</span>        ra += 24.0;</div>
<div class="line"><span class="lineno"> 7551</span> </div>
<div class="line"><span class="lineno"> 7552</span>    <span class="comment">/* Lazy-initialize the rotation matrix for converting J2000 to B1875. */</span></div>
<div class="line"><span class="lineno"> 7553</span>    <span class="keywordflow">if</span> (rot.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 7554</span>    {</div>
<div class="line"><span class="lineno"> 7555</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 7556</span><span class="comment">            Need to calculate the B1875 epoch. Based on this:</span></div>
<div class="line"><span class="lineno"> 7557</span><span class="comment">            https://en.wikipedia.org/wiki/Epoch_(astronomy)#Besselian_years</span></div>
<div class="line"><span class="lineno"> 7558</span><span class="comment">            B = 1900 + (JD - 2415020.31352) / 365.242198781</span></div>
<div class="line"><span class="lineno"> 7559</span><span class="comment">            I&#39;m interested in using TT instead of JD, giving:</span></div>
<div class="line"><span class="lineno"> 7560</span><span class="comment">            B = 1900 + ((TT+2451545) - 2415020.31352) / 365.242198781</span></div>
<div class="line"><span class="lineno"> 7561</span><span class="comment">            B = 1900 + (TT + 36524.68648) / 365.242198781</span></div>
<div class="line"><span class="lineno"> 7562</span><span class="comment">            TT = 365.242198781*(B - 1900) - 36524.68648 = -45655.741449525</span></div>
<div class="line"><span class="lineno"> 7563</span><span class="comment">            But Astronomy_TimeFromDays() wants UT, not TT.</span></div>
<div class="line"><span class="lineno"> 7564</span><span class="comment">            Near that date, I get a historical correction of ut-tt = 3.2 seconds.</span></div>
<div class="line"><span class="lineno"> 7565</span><span class="comment">            That gives UT = -45655.74141261017 for the B1875 epoch,</span></div>
<div class="line"><span class="lineno"> 7566</span><span class="comment">            or 1874-12-31T18:12:21.950Z.</span></div>
<div class="line"><span class="lineno"> 7567</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno"> 7568</span>        <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> time = <a class="code hl_function" href="astronomy_8c.html#a6604474b568bbd210622c62912782cbf">Astronomy_TimeFromDays</a>(-45655.74141261017);</div>
<div class="line"><span class="lineno"> 7569</span>        rot = <a class="code hl_function" href="astronomy_8c.html#a70c3909183a19e1469a1308560be7b5b">Astronomy_Rotation_EQJ_EQD</a>(time);</div>
<div class="line"><span class="lineno"> 7570</span>        <span class="keywordflow">if</span> (rot.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 7571</span>            <span class="keywordflow">return</span> ConstelErr(rot.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a>);</div>
<div class="line"><span class="lineno"> 7572</span> </div>
<div class="line"><span class="lineno"> 7573</span>        epoch2000 = <a class="code hl_function" href="astronomy_8c.html#a6604474b568bbd210622c62912782cbf">Astronomy_TimeFromDays</a>(0.0);</div>
<div class="line"><span class="lineno"> 7574</span>    }</div>
<div class="line"><span class="lineno"> 7575</span> </div>
<div class="line"><span class="lineno"> 7576</span>    <span class="comment">/* Convert coordinates from J2000 to year 1875. */</span></div>
<div class="line"><span class="lineno"> 7577</span>    j2000.<a class="code hl_variable" href="structastro__equatorial__t.html#afab33097965cc037477a3cceefdedf17">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 7578</span>    j2000.<a class="code hl_variable" href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">ra</a> = ra;</div>
<div class="line"><span class="lineno"> 7579</span>    j2000.<a class="code hl_variable" href="structastro__equatorial__t.html#af313e351ebecda5b3d4c00dccff26278">dec</a> = dec;</div>
<div class="line"><span class="lineno"> 7580</span>    j2000.<a class="code hl_variable" href="structastro__equatorial__t.html#ae436ef560df6767e82a5e5f87af13a9a">dist</a> = 1.0;</div>
<div class="line"><span class="lineno"> 7581</span>    vec2000 = <a class="code hl_function" href="astronomy_8c.html#a0041e26b315bf28f71bc67622d39bdaa">Astronomy_VectorFromEquator</a>(j2000, epoch2000);</div>
<div class="line"><span class="lineno"> 7582</span>    <span class="keywordflow">if</span> (vec2000.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 7583</span>        <span class="keywordflow">return</span> ConstelErr(vec2000.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 7584</span> </div>
<div class="line"><span class="lineno"> 7585</span>    vec1875 = <a class="code hl_function" href="astronomy_8c.html#aa9241bfd058f21fcd131d8175526c9b0">Astronomy_RotateVector</a>(rot, vec2000);</div>
<div class="line"><span class="lineno"> 7586</span>    <span class="keywordflow">if</span> (vec1875.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 7587</span>        <span class="keywordflow">return</span> ConstelErr(vec1875.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 7588</span> </div>
<div class="line"><span class="lineno"> 7589</span>    b1875 = <a class="code hl_function" href="astronomy_8c.html#a805df1836dff74734d51b0ec144724e5">Astronomy_EquatorFromVector</a>(vec1875);</div>
<div class="line"><span class="lineno"> 7590</span>    <span class="keywordflow">if</span> (b1875.<a class="code hl_variable" href="structastro__equatorial__t.html#afab33097965cc037477a3cceefdedf17">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 7591</span>        <span class="keywordflow">return</span> ConstelErr(b1875.<a class="code hl_variable" href="structastro__equatorial__t.html#afab33097965cc037477a3cceefdedf17">status</a>);</div>
<div class="line"><span class="lineno"> 7592</span> </div>
<div class="line"><span class="lineno"> 7593</span>    <span class="comment">/* Search for the constellation using the B1875 coordinates. */</span></div>
<div class="line"><span class="lineno"> 7594</span>    c = -1;     <span class="comment">/* constellation not (yet) found */</span></div>
<div class="line"><span class="lineno"> 7595</span>    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code hl_define" href="astronomy_8c.html#a95cebca2f29b8c37c2685ef797602dc7">NUM_CONSTEL_BOUNDARIES</a>; ++i)</div>
<div class="line"><span class="lineno"> 7596</span>    {</div>
<div class="line"><span class="lineno"> 7597</span>        <span class="keyword">const</span> constel_boundary_t *b = &amp;ConstelBounds[i];</div>
<div class="line"><span class="lineno"> 7598</span>        <span class="keywordflow">if</span> ((b-&gt;dec_lo &lt;= b1875.<a class="code hl_variable" href="structastro__equatorial__t.html#af313e351ebecda5b3d4c00dccff26278">dec</a>) &amp;&amp; (b-&gt;ra_hi &gt; b1875.<a class="code hl_variable" href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">ra</a>) &amp;&amp; (b-&gt;ra_lo &lt;= b1875.<a class="code hl_variable" href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">ra</a>))</div>
<div class="line"><span class="lineno"> 7599</span>        {</div>
<div class="line"><span class="lineno"> 7600</span>            c = b-&gt;index;</div>
<div class="line"><span class="lineno"> 7601</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 7602</span>        }</div>
<div class="line"><span class="lineno"> 7603</span>    }</div>
<div class="line"><span class="lineno"> 7604</span> </div>
<div class="line"><span class="lineno"> 7605</span>    <span class="keywordflow">if</span> (c &lt; 0 || c &gt;= <a class="code hl_define" href="astronomy_8c.html#abed9a681ed4bab7442f49917fb518ba0">NUM_CONSTELLATIONS</a>)</div>
<div class="line"><span class="lineno"> 7606</span>        <span class="keywordflow">return</span> ConstelErr(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);    <span class="comment">/* should have been able to find the constellation */</span></div>
<div class="line"><span class="lineno"> 7607</span> </div>
<div class="line"><span class="lineno"> 7608</span>    constel.<a class="code hl_variable" href="structastro__constellation__t.html#aef08004a37bc82f413a31b181f0fcb4e">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 7609</span>    constel.<a class="code hl_variable" href="structastro__constellation__t.html#adf279760c3793e3eaf579aa681672858">symbol</a> = ConstelInfo[c].symbol;</div>
<div class="line"><span class="lineno"> 7610</span>    constel.<a class="code hl_variable" href="structastro__constellation__t.html#a46d00a69c51bf5e6396bf1da2cfae13e">name</a> = ConstelInfo[c].name;</div>
<div class="line"><span class="lineno"> 7611</span>    constel.<a class="code hl_variable" href="structastro__constellation__t.html#a1316a97f0ce4741d8d594102ce97a931">ra_1875</a> = b1875.<a class="code hl_variable" href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">ra</a>;</div>
<div class="line"><span class="lineno"> 7612</span>    constel.<a class="code hl_variable" href="structastro__constellation__t.html#a7691968ec78ab4f692f8eac2be7606ff">dec_1875</a> = b1875.<a class="code hl_variable" href="structastro__equatorial__t.html#af313e351ebecda5b3d4c00dccff26278">dec</a>;</div>
<div class="line"><span class="lineno"> 7613</span>    <span class="keywordflow">return</span> constel;</div>
<div class="line"><span class="lineno"> 7614</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a0041e26b315bf28f71bc67622d39bdaa"><div class="ttname"><a href="astronomy_8c.html#a0041e26b315bf28f71bc67622d39bdaa">Astronomy_VectorFromEquator</a></div><div class="ttdeci">astro_vector_t Astronomy_VectorFromEquator(astro_equatorial_t equ, astro_time_t time)</div><div class="ttdoc">Given angular equatorial coordinates in equ, calculates equatorial vector.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06417">astronomy.c:6417</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a6604474b568bbd210622c62912782cbf"><div class="ttname"><a href="astronomy_8c.html#a6604474b568bbd210622c62912782cbf">Astronomy_TimeFromDays</a></div><div class="ttdeci">astro_time_t Astronomy_TimeFromDays(double ut)</div><div class="ttdoc">Converts a J2000 day value to an astro_time_t value.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00724">astronomy.c:724</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a70c3909183a19e1469a1308560be7b5b"><div class="ttname"><a href="astronomy_8c.html#a70c3909183a19e1469a1308560be7b5b">Astronomy_Rotation_EQJ_EQD</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_EQJ_EQD(astro_time_t time)</div><div class="ttdoc">Calculates a rotation matrix from equatorial J2000 (EQJ) to equatorial of-date (EQD).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06764">astronomy.c:6764</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a805df1836dff74734d51b0ec144724e5"><div class="ttname"><a href="astronomy_8c.html#a805df1836dff74734d51b0ec144724e5">Astronomy_EquatorFromVector</a></div><div class="ttdeci">astro_equatorial_t Astronomy_EquatorFromVector(astro_vector_t vector)</div><div class="ttdoc">Given an equatorial vector, calculates equatorial angular coordinates.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06443">astronomy.c:6443</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a95cebca2f29b8c37c2685ef797602dc7"><div class="ttname"><a href="astronomy_8c.html#a95cebca2f29b8c37c2685ef797602dc7">NUM_CONSTEL_BOUNDARIES</a></div><div class="ttdeci">#define NUM_CONSTEL_BOUNDARIES</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l07513">astronomy.c:7513</a></div></div>
<div class="ttc" id="aastronomy_8c_html_aa9241bfd058f21fcd131d8175526c9b0"><div class="ttname"><a href="astronomy_8c.html#aa9241bfd058f21fcd131d8175526c9b0">Astronomy_RotateVector</a></div><div class="ttdeci">astro_vector_t Astronomy_RotateVector(astro_rotation_t rotation, astro_vector_t vector)</div><div class="ttdoc">Applies a rotation to a vector, yielding a rotated vector.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06680">astronomy.c:6680</a></div></div>
<div class="ttc" id="aastronomy_8c_html_abed9a681ed4bab7442f49917fb518ba0"><div class="ttname"><a href="astronomy_8c.html#abed9a681ed4bab7442f49917fb518ba0">NUM_CONSTELLATIONS</a></div><div class="ttdeci">#define NUM_CONSTELLATIONS</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l07060">astronomy.c:7060</a></div></div>
<div class="ttc" id="astructastro__constellation__t_html"><div class="ttname"><a href="structastro__constellation__t.html">astro_constellation_t</a></div><div class="ttdoc">Reports the constellation that a given celestial point lies within.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00758">astronomy.h:759</a></div></div>
<div class="ttc" id="astructastro__constellation__t_html_a1316a97f0ce4741d8d594102ce97a931"><div class="ttname"><a href="structastro__constellation__t.html#a1316a97f0ce4741d8d594102ce97a931">astro_constellation_t::ra_1875</a></div><div class="ttdeci">double ra_1875</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00763">astronomy.h:763</a></div></div>
<div class="ttc" id="astructastro__constellation__t_html_a46d00a69c51bf5e6396bf1da2cfae13e"><div class="ttname"><a href="structastro__constellation__t.html#a46d00a69c51bf5e6396bf1da2cfae13e">astro_constellation_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00762">astronomy.h:762</a></div></div>
<div class="ttc" id="astructastro__constellation__t_html_a7691968ec78ab4f692f8eac2be7606ff"><div class="ttname"><a href="structastro__constellation__t.html#a7691968ec78ab4f692f8eac2be7606ff">astro_constellation_t::dec_1875</a></div><div class="ttdeci">double dec_1875</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00764">astronomy.h:764</a></div></div>
<div class="ttc" id="astructastro__constellation__t_html_adf279760c3793e3eaf579aa681672858"><div class="ttname"><a href="structastro__constellation__t.html#adf279760c3793e3eaf579aa681672858">astro_constellation_t::symbol</a></div><div class="ttdeci">const char * symbol</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00761">astronomy.h:761</a></div></div>
<div class="ttc" id="astructastro__constellation__t_html_aef08004a37bc82f413a31b181f0fcb4e"><div class="ttname"><a href="structastro__constellation__t.html#aef08004a37bc82f413a31b181f0fcb4e">astro_constellation_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00760">astronomy.h:760</a></div></div>
<div class="ttc" id="astructastro__equatorial__t_html"><div class="ttname"><a href="structastro__equatorial__t.html">astro_equatorial_t</a></div><div class="ttdoc">Equatorial angular coordinates.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00251">astronomy.h:252</a></div></div>
<div class="ttc" id="astructastro__equatorial__t_html_a3f0d378983c16e181bae1787fc22fc9c"><div class="ttname"><a href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">astro_equatorial_t::ra</a></div><div class="ttdeci">double ra</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00254">astronomy.h:254</a></div></div>
<div class="ttc" id="astructastro__equatorial__t_html_ae436ef560df6767e82a5e5f87af13a9a"><div class="ttname"><a href="structastro__equatorial__t.html#ae436ef560df6767e82a5e5f87af13a9a">astro_equatorial_t::dist</a></div><div class="ttdeci">double dist</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00256">astronomy.h:256</a></div></div>
<div class="ttc" id="astructastro__equatorial__t_html_af313e351ebecda5b3d4c00dccff26278"><div class="ttname"><a href="structastro__equatorial__t.html#af313e351ebecda5b3d4c00dccff26278">astro_equatorial_t::dec</a></div><div class="ttdeci">double dec</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00255">astronomy.h:255</a></div></div>
<div class="ttc" id="astructastro__equatorial__t_html_afab33097965cc037477a3cceefdedf17"><div class="ttname"><a href="structastro__equatorial__t.html#afab33097965cc037477a3cceefdedf17">astro_equatorial_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00253">astronomy.h:253</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00045">ASTRO_NOT_INITIALIZED</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l06443">Astronomy_EquatorFromVector()</a>, <a class="el" href="astronomy_8c_source.html#l06680">Astronomy_RotateVector()</a>, <a class="el" href="astronomy_8c_source.html#l06764">Astronomy_Rotation_EQJ_EQD()</a>, <a class="el" href="astronomy_8c_source.html#l00724">Astronomy_TimeFromDays()</a>, <a class="el" href="astronomy_8c_source.html#l06417">Astronomy_VectorFromEquator()</a>, <a class="el" href="astronomy_8h_source.html#l00255">astro_equatorial_t::dec</a>, <a class="el" href="astronomy_8h_source.html#l00764">astro_constellation_t::dec_1875</a>, <a class="el" href="astronomy_8h_source.html#l00256">astro_equatorial_t::dist</a>, <a class="el" href="astronomy_8h_source.html#l00762">astro_constellation_t::name</a>, <a class="el" href="astronomy_8c_source.html#l07513">NUM_CONSTEL_BOUNDARIES</a>, <a class="el" href="astronomy_8c_source.html#l07060">NUM_CONSTELLATIONS</a>, <a class="el" href="astronomy_8h_source.html#l00254">astro_equatorial_t::ra</a>, <a class="el" href="astronomy_8h_source.html#l00763">astro_constellation_t::ra_1875</a>, <a class="el" href="astronomy_8h_source.html#l00760">astro_constellation_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00253">astro_equatorial_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00298">astro_rotation_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00761">astro_constellation_t::symbol</a>.</p>

</div>
</div>
<a id="a3c867cf9ecef60bc1c5093d41b7c00f7" name="a3c867cf9ecef60bc1c5093d41b7c00f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c867cf9ecef60bc1c5093d41b7c00f7">&#9670;&#160;</a></span>Astronomy_CurrentTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__time__t.html">astro_time_t</a> Astronomy_CurrentTime </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the computer's current date and time in the form of an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a>. </p>
<p>Uses the computer's system clock to find the current UTC date and time with 1-second granularity. Converts that date and time to an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value and returns the result. Callers can pass this value to other Astronomy Engine functions to calculate current observational conditions. </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00741">741</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  742</span>{</div>
<div class="line"><span class="lineno">  743</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> t;</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>    <span class="comment">/* Get seconds since midnight January 1, 1970, divide to convert to days, */</span></div>
<div class="line"><span class="lineno">  746</span>    <span class="comment">/* then subtract to get days since noon on January 1, 2000. */</span></div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    t.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> = (time(NULL) / SECONDS_PER_DAY) - 10957.5;</div>
<div class="line"><span class="lineno">  749</span>    t.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> = TerrestrialTime(t.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>);</div>
<div class="line"><span class="lineno">  750</span>    t.<a class="code hl_variable" href="structastro__time__t.html#a1daf4ea6e4bc7991cc9a204645eac5e8">psi</a> = t.<a class="code hl_variable" href="structastro__time__t.html#a5143fb2fa0c35eef45a919e8709684d5">eps</a> = NAN;</div>
<div class="line"><span class="lineno">  751</span>    <span class="keywordflow">return</span> t;</div>
<div class="line"><span class="lineno">  752</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00147">astro_time_t::eps</a>, <a class="el" href="astronomy_8h_source.html#l00142">astro_time_t::psi</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a> y <a class="el" href="astronomy_8h_source.html#l00121">astro_time_t::ut</a>.</p>

</div>
</div>
<a id="a49d6510da542fa4ce77c898fefedfb6f" name="a49d6510da542fa4ce77c898fefedfb6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d6510da542fa4ce77c898fefedfb6f">&#9670;&#160;</a></span>Astronomy_DeltaT_EspenakMeeus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Astronomy_DeltaT_EspenakMeeus </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ut</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default Delta T function used by Astronomy Engine. </p>
<p>Espenak and Meeus use a series of piecewise polynomials to approximate DeltaT of the Earth in their "Five Millennium Canon of Solar Eclipses". See: <a href="https://eclipse.gsfc.nasa.gov/SEhelp/deltatpoly2004.html">https://eclipse.gsfc.nasa.gov/SEhelp/deltatpoly2004.html</a> This is the default Delta T function used by Astronomy Engine.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">ut</td><td>The floating point number of days since noon UTC on January 1, 2000.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The estimated difference TT-UT on the given date, expressed in seconds. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00556">556</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  557</span>{</div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordtype">double</span> y, u, u2, u3, u4, u5, u6, u7;</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  561</span><span class="comment">        Fred Espenak writes about Delta-T generically here:</span></div>
<div class="line"><span class="lineno">  562</span><span class="comment">        https://eclipse.gsfc.nasa.gov/SEhelp/deltaT.html</span></div>
<div class="line"><span class="lineno">  563</span><span class="comment">        https://eclipse.gsfc.nasa.gov/SEhelp/deltat2004.html</span></div>
<div class="line"><span class="lineno">  564</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  565</span><span class="comment">        He provides polynomial approximations for distant years here:</span></div>
<div class="line"><span class="lineno">  566</span><span class="comment">        https://eclipse.gsfc.nasa.gov/SEhelp/deltatpoly2004.html</span></div>
<div class="line"><span class="lineno">  567</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  568</span><span class="comment">        They start with a year value &#39;y&#39; such that y=2000 corresponds</span></div>
<div class="line"><span class="lineno">  569</span><span class="comment">        to the UTC Date 15-January-2000. Convert difference in days</span></div>
<div class="line"><span class="lineno">  570</span><span class="comment">        to mean tropical years.</span></div>
<div class="line"><span class="lineno">  571</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>    y = 2000 + ((ut - 14) / DAYS_PER_TROPICAL_YEAR);</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>    <span class="keywordflow">if</span> (y &lt; -500)</div>
<div class="line"><span class="lineno">  576</span>    {</div>
<div class="line"><span class="lineno">  577</span>        u = (y - 1820) / 100;</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">return</span> -20 + (32 * u*u);</div>
<div class="line"><span class="lineno">  579</span>    }</div>
<div class="line"><span class="lineno">  580</span>    <span class="keywordflow">if</span> (y &lt; 500)</div>
<div class="line"><span class="lineno">  581</span>    {</div>
<div class="line"><span class="lineno">  582</span>        u = y / 100;</div>
<div class="line"><span class="lineno">  583</span>        u2 = u*u; u3 = u*u2; u4 = u2*u2; u5 = u2*u3; u6 = u3*u3;</div>
<div class="line"><span class="lineno">  584</span>        <span class="keywordflow">return</span> 10583.6 - 1014.41*u + 33.78311*u2 - 5.952053*u3 - 0.1798452*u4 + 0.022174192*u5 + 0.0090316521*u6;</div>
<div class="line"><span class="lineno">  585</span>    }</div>
<div class="line"><span class="lineno">  586</span>    <span class="keywordflow">if</span> (y &lt; 1600)</div>
<div class="line"><span class="lineno">  587</span>    {</div>
<div class="line"><span class="lineno">  588</span>        u = (y - 1000) / 100;</div>
<div class="line"><span class="lineno">  589</span>        u2 = u*u; u3 = u*u2; u4 = u2*u2; u5 = u2*u3; u6 = u3*u3;</div>
<div class="line"><span class="lineno">  590</span>        <span class="keywordflow">return</span> 1574.2 - 556.01*u + 71.23472*u2 + 0.319781*u3 - 0.8503463*u4 - 0.005050998*u5 + 0.0083572073*u6;</div>
<div class="line"><span class="lineno">  591</span>    }</div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">if</span> (y &lt; 1700)</div>
<div class="line"><span class="lineno">  593</span>    {</div>
<div class="line"><span class="lineno">  594</span>        u = y - 1600;</div>
<div class="line"><span class="lineno">  595</span>        u2 = u*u; u3 = u*u2;</div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">return</span> 120 - 0.9808*u - 0.01532*u2 + u3/7129.0;</div>
<div class="line"><span class="lineno">  597</span>    }</div>
<div class="line"><span class="lineno">  598</span>    <span class="keywordflow">if</span> (y &lt; 1800)</div>
<div class="line"><span class="lineno">  599</span>    {</div>
<div class="line"><span class="lineno">  600</span>        u = y - 1700;</div>
<div class="line"><span class="lineno">  601</span>        u2 = u*u; u3 = u*u2; u4 = u2*u2;</div>
<div class="line"><span class="lineno">  602</span>        <span class="keywordflow">return</span> 8.83 + 0.1603*u - 0.0059285*u2 + 0.00013336*u3 - u4/1174000;</div>
<div class="line"><span class="lineno">  603</span>    }</div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">if</span> (y &lt; 1860)</div>
<div class="line"><span class="lineno">  605</span>    {</div>
<div class="line"><span class="lineno">  606</span>        u = y - 1800;</div>
<div class="line"><span class="lineno">  607</span>        u2 = u*u; u3 = u*u2; u4 = u2*u2; u5 = u2*u3; u6 = u3*u3; u7 = u3*u4;</div>
<div class="line"><span class="lineno">  608</span>        <span class="keywordflow">return</span> 13.72 - 0.332447*u + 0.0068612*u2 + 0.0041116*u3 - 0.00037436*u4 + 0.0000121272*u5 - 0.0000001699*u6 + 0.000000000875*u7;</div>
<div class="line"><span class="lineno">  609</span>    }</div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordflow">if</span> (y &lt; 1900)</div>
<div class="line"><span class="lineno">  611</span>    {</div>
<div class="line"><span class="lineno">  612</span>        u = y - 1860;</div>
<div class="line"><span class="lineno">  613</span>        u2 = u*u; u3 = u*u2; u4 = u2*u2; u5 = u2*u3;</div>
<div class="line"><span class="lineno">  614</span>        <span class="keywordflow">return</span> 7.62 + 0.5737*u - 0.251754*u2 + 0.01680668*u3 - 0.0004473624*u4 + u5/233174;</div>
<div class="line"><span class="lineno">  615</span>    }</div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordflow">if</span> (y &lt; 1920)</div>
<div class="line"><span class="lineno">  617</span>    {</div>
<div class="line"><span class="lineno">  618</span>        u = y - 1900;</div>
<div class="line"><span class="lineno">  619</span>        u2 = u*u; u3 = u*u2; u4 = u2*u2;</div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">return</span> -2.79 + 1.494119*u - 0.0598939*u2 + 0.0061966*u3 - 0.000197*u4;</div>
<div class="line"><span class="lineno">  621</span>    }</div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordflow">if</span> (y &lt; 1941)</div>
<div class="line"><span class="lineno">  623</span>    {</div>
<div class="line"><span class="lineno">  624</span>        u = y - 1920;</div>
<div class="line"><span class="lineno">  625</span>        u2 = u*u; u3 = u*u2;</div>
<div class="line"><span class="lineno">  626</span>        <span class="keywordflow">return</span> 21.20 + 0.84493*u - 0.076100*u2 + 0.0020936*u3;</div>
<div class="line"><span class="lineno">  627</span>    }</div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">if</span> (y &lt; 1961)</div>
<div class="line"><span class="lineno">  629</span>    {</div>
<div class="line"><span class="lineno">  630</span>        u = y - 1950;</div>
<div class="line"><span class="lineno">  631</span>        u2 = u*u; u3 = u*u2;</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">return</span> 29.07 + 0.407*u - u2/233 + u3/2547;</div>
<div class="line"><span class="lineno">  633</span>    }</div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">if</span> (y &lt; 1986)</div>
<div class="line"><span class="lineno">  635</span>    {</div>
<div class="line"><span class="lineno">  636</span>        u = y - 1975;</div>
<div class="line"><span class="lineno">  637</span>        u2 = u*u; u3 = u*u2;</div>
<div class="line"><span class="lineno">  638</span>        <span class="keywordflow">return</span> 45.45 + 1.067*u - u2/260 - u3/718;</div>
<div class="line"><span class="lineno">  639</span>    }</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordflow">if</span> (y &lt; 2005)</div>
<div class="line"><span class="lineno">  641</span>    {</div>
<div class="line"><span class="lineno">  642</span>        u = y - 2000;</div>
<div class="line"><span class="lineno">  643</span>        u2 = u*u; u3 = u*u2; u4 = u2*u2; u5 = u2*u3;</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordflow">return</span> 63.86 + 0.3345*u - 0.060374*u2 + 0.0017275*u3 + 0.000651814*u4 + 0.00002373599*u5;</div>
<div class="line"><span class="lineno">  645</span>    }</div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">if</span> (y &lt; 2050)</div>
<div class="line"><span class="lineno">  647</span>    {</div>
<div class="line"><span class="lineno">  648</span>        u = y - 2000;</div>
<div class="line"><span class="lineno">  649</span>        <span class="keywordflow">return</span> 62.92 + 0.32217*u + 0.005589*u*u;</div>
<div class="line"><span class="lineno">  650</span>    }</div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordflow">if</span> (y &lt; 2150)</div>
<div class="line"><span class="lineno">  652</span>    {</div>
<div class="line"><span class="lineno">  653</span>        u = (y-1820)/100;</div>
<div class="line"><span class="lineno">  654</span>        <span class="keywordflow">return</span> -20 + 32*u*u - 0.5628*(2150 - y);</div>
<div class="line"><span class="lineno">  655</span>    }</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    <span class="comment">/* all years after 2150 */</span></div>
<div class="line"><span class="lineno">  658</span>    u = (y - 1820) / 100;</div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordflow">return</span> -20 + (32 * u*u);</div>
<div class="line"><span class="lineno">  660</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l00676">Astronomy_DeltaT_JplHorizons()</a>.</p>

</div>
</div>
<a id="a0154cfe45f4c21430a101ea4c515d3ec" name="a0154cfe45f4c21430a101ea4c515d3ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0154cfe45f4c21430a101ea4c515d3ec">&#9670;&#160;</a></span>Astronomy_DeltaT_JplHorizons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Astronomy_DeltaT_JplHorizons </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ut</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A Delta T function that approximates the one used by the JPL Horizons tool. </p>
<p>In order to support unit tests based on data generated by the JPL Horizons online tool, I had to reverse engineer their Delta T function by generating a table that contained it. The main difference between their tool and the Espenak/Meeus function is that they stop extrapolating the Earth's deceleration after the year 2017.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">ut</td><td>The floating point number of days since noon UTC on January 1, 2000.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The estimated difference TT-UT on the given date, expressed in seconds. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00676">676</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  677</span>{</div>
<div class="line"><span class="lineno">  678</span>    <span class="keywordflow">if</span> (ut &gt; 17.0 * DAYS_PER_TROPICAL_YEAR)</div>
<div class="line"><span class="lineno">  679</span>        ut = 17.0 * DAYS_PER_TROPICAL_YEAR;</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a49d6510da542fa4ce77c898fefedfb6f">Astronomy_DeltaT_EspenakMeeus</a>(ut);</div>
<div class="line"><span class="lineno">  682</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a49d6510da542fa4ce77c898fefedfb6f"><div class="ttname"><a href="astronomy_8c.html#a49d6510da542fa4ce77c898fefedfb6f">Astronomy_DeltaT_EspenakMeeus</a></div><div class="ttdeci">double Astronomy_DeltaT_EspenakMeeus(double ut)</div><div class="ttdoc">The default Delta T function used by Astronomy Engine.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00556">astronomy.c:556</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l00556">Astronomy_DeltaT_EspenakMeeus()</a>.</p>

</div>
</div>
<a id="aa0f1fd70009e4211ae82f28105bb72b9" name="aa0f1fd70009e4211ae82f28105bb72b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0f1fd70009e4211ae82f28105bb72b9">&#9670;&#160;</a></span>Astronomy_Ecliptic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__ecliptic__t.html">astro_ecliptic_t</a> Astronomy_Ecliptic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__vector__t.html">astro_vector_t</a></td>          <td class="paramname"><span class="paramname"><em>equ</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts J2000 equatorial Cartesian coordinates to J2000 ecliptic coordinates. </p>
<p>Given coordinates relative to the Earth's equator at J2000 (the instant of noon UTC on 1 January 2000), this function converts those coordinates to J2000 ecliptic coordinates, which are relative to the plane of the Earth's orbit around the Sun.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">equ</td><td>Equatorial coordinates in the J2000 frame of reference. You can call <a class="el" href="astronomy_8c.html#a034ac9033b498171f708501d0adcc381" title="Calculates geocentric Cartesian coordinates of a body in the J2000 equatorial system.">Astronomy_GeoVector</a> to obtain suitable equatorial coordinates.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Ecliptic coordinates in the J2000 frame of reference. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l03883">3883</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3884</span>{</div>
<div class="line"><span class="lineno"> 3885</span>    <span class="comment">/* Based on NOVAS functions equ2ecl() and equ2ecl_vec(). */</span></div>
<div class="line"><span class="lineno"> 3886</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> ob2000 = 0.40909260059599012;   <span class="comment">/* mean obliquity of the J2000 ecliptic in radians */</span></div>
<div class="line"><span class="lineno"> 3887</span>    <span class="keywordtype">double</span> pos[3];</div>
<div class="line"><span class="lineno"> 3888</span> </div>
<div class="line"><span class="lineno"> 3889</span>    <span class="keywordflow">if</span> (equ.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 3890</span>        <span class="keywordflow">return</span> EclError(equ.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 3891</span> </div>
<div class="line"><span class="lineno"> 3892</span>    pos[0] = equ.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>;</div>
<div class="line"><span class="lineno"> 3893</span>    pos[1] = equ.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>;</div>
<div class="line"><span class="lineno"> 3894</span>    pos[2] = equ.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 3895</span> </div>
<div class="line"><span class="lineno"> 3896</span>    <span class="keywordflow">return</span> RotateEquatorialToEcliptic(pos, ob2000);</div>
<div class="line"><span class="lineno"> 3897</span>}</div>
<div class="ttc" id="astructastro__vector__t_html_a9519f6730bb6e466b810c9b5b053d7a5"><div class="ttname"><a href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">astro_vector_t::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00171">astronomy.h:171</a></div></div>
<div class="ttc" id="astructastro__vector__t_html_a9f78a5f7f0320b6f5194e1006488baa5"><div class="ttname"><a href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">astro_vector_t::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00172">astronomy.h:172</a></div></div>
<div class="ttc" id="astructastro__vector__t_html_aa96463d4940475e13e1df0fdaabbb955"><div class="ttname"><a href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">astro_vector_t::z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00173">astronomy.h:173</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l03918">Astronomy_EclipticLongitude()</a> y <a class="el" href="astronomy_8c_source.html#l04654">Astronomy_LongitudeFromSun()</a>.</p>

</div>
</div>
<a id="a59a36426375cf0171db007d775fdcaa4" name="a59a36426375cf0171db007d775fdcaa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a36426375cf0171db007d775fdcaa4">&#9670;&#160;</a></span>Astronomy_EclipticLongitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a> Astronomy_EclipticLongitude </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates heliocentric ecliptic longitude of a body based on the J2000 equinox. </p>
<p>This function calculates the angle around the plane of the Earth's orbit of a celestial body, as seen from the center of the Sun. The angle is measured prograde (in the direction of the Earth's orbit around the Sun) in degrees from the J2000 equinox. The ecliptic longitude is always in the range [0, 360).</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>A body other than the Sun.</td></tr>
    <tr><td class="paramname">time</td><td>The date and time at which the body's ecliptic longitude is to be calculated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>On success, returns a structure whose <span class="tt">status</span> is <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and whose <span class="tt">angle</span> holds the ecliptic longitude in degrees. On failure, <span class="tt">status</span> holds a value other than <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l03918">3918</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3919</span>{</div>
<div class="line"><span class="lineno"> 3920</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> hv;</div>
<div class="line"><span class="lineno"> 3921</span>    <a class="code hl_struct" href="structastro__ecliptic__t.html">astro_ecliptic_t</a> eclip;</div>
<div class="line"><span class="lineno"> 3922</span>    <a class="code hl_struct" href="structastro__angle__result__t.html">astro_angle_result_t</a> result;</div>
<div class="line"><span class="lineno"> 3923</span> </div>
<div class="line"><span class="lineno"> 3924</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>)</div>
<div class="line"><span class="lineno"> 3925</span>        <span class="keywordflow">return</span> AngleError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>);      <span class="comment">/* cannot calculate heliocentric longitude of the Sun */</span></div>
<div class="line"><span class="lineno"> 3926</span> </div>
<div class="line"><span class="lineno"> 3927</span>    hv = <a class="code hl_function" href="astronomy_8c.html#a029bcfa06f5aabc5f8bbfc9e8ce42fbc">Astronomy_HelioVector</a>(body, time);</div>
<div class="line"><span class="lineno"> 3928</span>    eclip = <a class="code hl_function" href="astronomy_8c.html#aa0f1fd70009e4211ae82f28105bb72b9">Astronomy_Ecliptic</a>(hv);     <span class="comment">/* checks for errors in hv, so we don&#39;t have to here */</span></div>
<div class="line"><span class="lineno"> 3929</span>    <span class="keywordflow">if</span> (eclip.<a class="code hl_variable" href="structastro__ecliptic__t.html#ae3e7437e7a364d06845d8e58e65a2599">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 3930</span>        <span class="keywordflow">return</span> AngleError(eclip.<a class="code hl_variable" href="structastro__ecliptic__t.html#ae3e7437e7a364d06845d8e58e65a2599">status</a>);</div>
<div class="line"><span class="lineno"> 3931</span> </div>
<div class="line"><span class="lineno"> 3932</span>    result.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a> = eclip.<a class="code hl_variable" href="structastro__ecliptic__t.html#ad89a8adf33083aff212ca79a98ae92c3">elon</a>;</div>
<div class="line"><span class="lineno"> 3933</span>    result.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 3934</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3935</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a029bcfa06f5aabc5f8bbfc9e8ce42fbc"><div class="ttname"><a href="astronomy_8c.html#a029bcfa06f5aabc5f8bbfc9e8ce42fbc">Astronomy_HelioVector</a></div><div class="ttdeci">astro_vector_t Astronomy_HelioVector(astro_body_t body, astro_time_t time)</div><div class="ttdoc">Calculates heliocentric Cartesian coordinates of a body in the J2000 equatorial system.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l03388">astronomy.c:3388</a></div></div>
<div class="ttc" id="aastronomy_8c_html_aa0f1fd70009e4211ae82f28105bb72b9"><div class="ttname"><a href="astronomy_8c.html#aa0f1fd70009e4211ae82f28105bb72b9">Astronomy_Ecliptic</a></div><div class="ttdeci">astro_ecliptic_t Astronomy_Ecliptic(astro_vector_t equ)</div><div class="ttdoc">Converts J2000 equatorial Cartesian coordinates to J2000 ecliptic coordinates.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l03883">astronomy.c:3883</a></div></div>
<div class="ttc" id="astructastro__angle__result__t_html"><div class="ttname"><a href="structastro__angle__result__t.html">astro_angle_result_t</a></div><div class="ttdoc">An angular value expressed in degrees.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00193">astronomy.h:194</a></div></div>
<div class="ttc" id="astructastro__angle__result__t_html_aab07512f9f53b26cc2c863147f774e36"><div class="ttname"><a href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">astro_angle_result_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00195">astronomy.h:195</a></div></div>
<div class="ttc" id="astructastro__angle__result__t_html_af8536a6c9f69f165c2900bef800d7069"><div class="ttname"><a href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">astro_angle_result_t::angle</a></div><div class="ttdeci">double angle</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00196">astronomy.h:196</a></div></div>
<div class="ttc" id="astructastro__ecliptic__t_html"><div class="ttname"><a href="structastro__ecliptic__t.html">astro_ecliptic_t</a></div><div class="ttdoc">Ecliptic angular and Cartesian coordinates.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00266">astronomy.h:267</a></div></div>
<div class="ttc" id="astructastro__ecliptic__t_html_ad89a8adf33083aff212ca79a98ae92c3"><div class="ttname"><a href="structastro__ecliptic__t.html#ad89a8adf33083aff212ca79a98ae92c3">astro_ecliptic_t::elon</a></div><div class="ttdeci">double elon</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00273">astronomy.h:273</a></div></div>
<div class="ttc" id="astructastro__ecliptic__t_html_ae3e7437e7a364d06845d8e58e65a2599"><div class="ttname"><a href="structastro__ecliptic__t.html#ae3e7437e7a364d06845d8e58e65a2599">astro_ecliptic_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00268">astronomy.h:268</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00196">astro_angle_result_t::angle</a>, <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l03883">Astronomy_Ecliptic()</a>, <a class="el" href="astronomy_8c_source.html#l03388">Astronomy_HelioVector()</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00273">astro_ecliptic_t::elon</a>, <a class="el" href="astronomy_8h_source.html#l00195">astro_angle_result_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00268">astro_ecliptic_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l04486">Astronomy_SearchMaxElongation()</a> y <a class="el" href="astronomy_8c_source.html#l05611">Astronomy_SearchPeakMagnitude()</a>.</p>

</div>
</div>
<a id="a00bfd7542d6ca36be8603ce9185fd83a" name="a00bfd7542d6ca36be8603ce9185fd83a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00bfd7542d6ca36be8603ce9185fd83a">&#9670;&#160;</a></span>Astronomy_Elongation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__elongation__t.html">astro_elongation_t</a> Astronomy_Elongation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines visibility of a celestial body relative to the Sun, as seen from the Earth. </p>
<p>This function returns an <a class="el" href="structastro__elongation__t.html" title="Contains information about the visibility of a celestial body at a given date and time....">astro_elongation_t</a> structure, which provides the following information about the given celestial body at the given time:</p>
<ul>
<li><span class="tt">visibility</span> is an enumerated type that specifies whether the body is more easily seen in the morning before sunrise, or in the evening after sunset.</li>
<li><span class="tt">elongation</span> is the angle in degrees between two vectors: one from the center of the Earth to the center of the Sun, the other from the center of the Earth to the center of the specified body. This angle indicates how far away the body is from the glare of the Sun. The elongation angle is always in the range [0, 180].</li>
<li><span class="tt">ecliptic_separation</span> is the absolute value of the difference between the body's ecliptic longitude and the Sun's ecliptic longitude, both as seen from the center of the Earth. This angle measures around the plane of the Earth's orbit, and ignores how far above or below that plane the body is. The ecliptic separation is measured in degrees and is always in the range [0, 180].</li>
</ul>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The celestial body whose visibility is to be calculated.</td></tr>
    <tr><td class="paramname">time</td><td>The date and time of the observation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure contains <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and all the other fields in the structure are valid. On failure, <span class="tt">status</span> contains some other value as an error code and the other fields contain invalid values. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04405">4405</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4406</span>{</div>
<div class="line"><span class="lineno"> 4407</span>    <a class="code hl_struct" href="structastro__elongation__t.html">astro_elongation_t</a> result;</div>
<div class="line"><span class="lineno"> 4408</span>    <a class="code hl_struct" href="structastro__angle__result__t.html">astro_angle_result_t</a> angres;</div>
<div class="line"><span class="lineno"> 4409</span> </div>
<div class="line"><span class="lineno"> 4410</span>    angres = <a class="code hl_function" href="astronomy_8c.html#a032fe0f03d2318de3a15d534474083ca">Astronomy_LongitudeFromSun</a>(body, time);</div>
<div class="line"><span class="lineno"> 4411</span>    <span class="keywordflow">if</span> (angres.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4412</span>        <span class="keywordflow">return</span> ElongError(angres.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 4413</span> </div>
<div class="line"><span class="lineno"> 4414</span>    <span class="keywordflow">if</span> (angres.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a> &gt; 180.0)</div>
<div class="line"><span class="lineno"> 4415</span>    {</div>
<div class="line"><span class="lineno"> 4416</span>        result.<a class="code hl_variable" href="structastro__elongation__t.html#a798a24a1449115fbf489083678763cea">visibility</a> = <a class="code hl_enumvalue" href="#a4a3fd16133cdaed41936a10e8520f9ffa7921f301f9f5e8a841e2734e446f7ac7">VISIBLE_MORNING</a>;</div>
<div class="line"><span class="lineno"> 4417</span>        result.<a class="code hl_variable" href="structastro__elongation__t.html#acbc8400777fe1fbde0245fe46acece1a">ecliptic_separation</a> = 360.0 - angres.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>;</div>
<div class="line"><span class="lineno"> 4418</span>    }</div>
<div class="line"><span class="lineno"> 4419</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4420</span>    {</div>
<div class="line"><span class="lineno"> 4421</span>        result.<a class="code hl_variable" href="structastro__elongation__t.html#a798a24a1449115fbf489083678763cea">visibility</a> = <a class="code hl_enumvalue" href="#a4a3fd16133cdaed41936a10e8520f9ffad72b44bfab1d83a2458cfa7d59de0033">VISIBLE_EVENING</a>;</div>
<div class="line"><span class="lineno"> 4422</span>        result.<a class="code hl_variable" href="structastro__elongation__t.html#acbc8400777fe1fbde0245fe46acece1a">ecliptic_separation</a> = angres.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>;</div>
<div class="line"><span class="lineno"> 4423</span>    }</div>
<div class="line"><span class="lineno"> 4424</span> </div>
<div class="line"><span class="lineno"> 4425</span>    angres = <a class="code hl_function" href="astronomy_8c.html#a9c87f5a85b80e27ef80c91b7875c74f7">Astronomy_AngleFromSun</a>(body, time);</div>
<div class="line"><span class="lineno"> 4426</span>    <span class="keywordflow">if</span> (angres.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4427</span>        <span class="keywordflow">return</span> ElongError(angres.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 4428</span> </div>
<div class="line"><span class="lineno"> 4429</span>    result.<a class="code hl_variable" href="structastro__elongation__t.html#ad277178bd020945f1e1881e00c323563">elongation</a> = angres.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>;</div>
<div class="line"><span class="lineno"> 4430</span>    result.<a class="code hl_variable" href="structastro__elongation__t.html#a81a285588e39f9fb3e292ab1305a869e">time</a> = time;</div>
<div class="line"><span class="lineno"> 4431</span>    result.<a class="code hl_variable" href="structastro__elongation__t.html#a769739d6a5284136d2e54cb9247acc8a">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 4432</span> </div>
<div class="line"><span class="lineno"> 4433</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 4434</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a032fe0f03d2318de3a15d534474083ca"><div class="ttname"><a href="astronomy_8c.html#a032fe0f03d2318de3a15d534474083ca">Astronomy_LongitudeFromSun</a></div><div class="ttdeci">astro_angle_result_t Astronomy_LongitudeFromSun(astro_body_t body, astro_time_t time)</div><div class="ttdoc">Returns a body&#39;s ecliptic longitude with respect to the Sun, as seen from the Earth.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l04654">astronomy.c:4654</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a9c87f5a85b80e27ef80c91b7875c74f7"><div class="ttname"><a href="astronomy_8c.html#a9c87f5a85b80e27ef80c91b7875c74f7">Astronomy_AngleFromSun</a></div><div class="ttdeci">astro_angle_result_t Astronomy_AngleFromSun(astro_body_t body, astro_time_t time)</div><div class="ttdoc">Returns the angle between the given body and the Sun, as seen from the Earth.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l04356">astronomy.c:4356</a></div></div>
<div class="ttc" id="astructastro__elongation__t_html"><div class="ttname"><a href="structastro__elongation__t.html">astro_elongation_t</a></div><div class="ttdoc">Contains information about the visibility of a celestial body at a given date and time....</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00426">astronomy.h:427</a></div></div>
<div class="ttc" id="astructastro__elongation__t_html_a769739d6a5284136d2e54cb9247acc8a"><div class="ttname"><a href="structastro__elongation__t.html#a769739d6a5284136d2e54cb9247acc8a">astro_elongation_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00428">astronomy.h:428</a></div></div>
<div class="ttc" id="astructastro__elongation__t_html_a798a24a1449115fbf489083678763cea"><div class="ttname"><a href="structastro__elongation__t.html#a798a24a1449115fbf489083678763cea">astro_elongation_t::visibility</a></div><div class="ttdeci">astro_visibility_t visibility</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00430">astronomy.h:430</a></div></div>
<div class="ttc" id="astructastro__elongation__t_html_a81a285588e39f9fb3e292ab1305a869e"><div class="ttname"><a href="structastro__elongation__t.html#a81a285588e39f9fb3e292ab1305a869e">astro_elongation_t::time</a></div><div class="ttdeci">astro_time_t time</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00429">astronomy.h:429</a></div></div>
<div class="ttc" id="astructastro__elongation__t_html_acbc8400777fe1fbde0245fe46acece1a"><div class="ttname"><a href="structastro__elongation__t.html#acbc8400777fe1fbde0245fe46acece1a">astro_elongation_t::ecliptic_separation</a></div><div class="ttdeci">double ecliptic_separation</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00432">astronomy.h:432</a></div></div>
<div class="ttc" id="astructastro__elongation__t_html_ad277178bd020945f1e1881e00c323563"><div class="ttname"><a href="structastro__elongation__t.html#ad277178bd020945f1e1881e00c323563">astro_elongation_t::elongation</a></div><div class="ttdeci">double elongation</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00431">astronomy.h:431</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00196">astro_angle_result_t::angle</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l04356">Astronomy_AngleFromSun()</a>, <a class="el" href="astronomy_8c_source.html#l04654">Astronomy_LongitudeFromSun()</a>, <a class="el" href="astronomy_8h_source.html#l00432">astro_elongation_t::ecliptic_separation</a>, <a class="el" href="astronomy_8h_source.html#l00431">astro_elongation_t::elongation</a>, <a class="el" href="astronomy_8h_source.html#l00195">astro_angle_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00428">astro_elongation_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00429">astro_elongation_t::time</a>, <a class="el" href="astronomy_8h_source.html#l00430">astro_elongation_t::visibility</a>, <a class="el" href="astronomy_8h_source.html#l00416">VISIBLE_EVENING</a> y <a class="el" href="astronomy_8h_source.html#l00415">VISIBLE_MORNING</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l04486">Astronomy_SearchMaxElongation()</a>.</p>

</div>
</div>
<a id="aa0bb7ca3d4e511d37cd5e0b5ab437273" name="aa0bb7ca3d4e511d37cd5e0b5ab437273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0bb7ca3d4e511d37cd5e0b5ab437273">&#9670;&#160;</a></span>Astronomy_Equator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__equatorial__t.html">astro_equatorial_t</a> Astronomy_Equator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a> *</td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#acfd27b57f62aed3dde359047a35ac00c">astro_equator_date_t</a></td>          <td class="paramname"><span class="paramname"><em>equdate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6">astro_aberration_t</a></td>          <td class="paramname"><span class="paramname"><em>aberration</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates equatorial coordinates of a celestial body as seen by an observer on the Earth's surface. </p>
<p>Calculates topocentric equatorial coordinates in one of two different systems: J2000 or true-equator-of-date, depending on the value of the <span class="tt">equdate</span> parameter. Equatorial coordinates include right ascension, declination, and distance in astronomical units.</p>
<p>This function corrects for light travel time: it adjusts the apparent location of the observed body based on how long it takes for light to travel from the body to the Earth.</p>
<p>This function corrects for <em>topocentric parallax</em>, meaning that it adjusts for the angular shift depending on where the observer is located on the Earth. This is most significant for the Moon, because it is so close to the Earth. However, parallax corection has a small effect on the apparent positions of other bodies.</p>
<p>Correction for aberration is optional, using the <span class="tt">aberration</span> parameter.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The celestial body to be observed. Not allowed to be <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a></span>. </td></tr>
    <tr><td class="paramname">time</td><td>The date and time at which the observation takes place. </td></tr>
    <tr><td class="paramname">observer</td><td>A location on or near the surface of the Earth. </td></tr>
    <tr><td class="paramname">equdate</td><td>Selects the date of the Earth's equator in which to express the equatorial coordinates. </td></tr>
    <tr><td class="paramname">aberration</td><td>Selects whether or not to correct for aberration. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l03627">3627</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3633</span>{</div>
<div class="line"><span class="lineno"> 3634</span>    <a class="code hl_struct" href="structastro__equatorial__t.html">astro_equatorial_t</a> equ;</div>
<div class="line"><span class="lineno"> 3635</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> gc;</div>
<div class="line"><span class="lineno"> 3636</span>    <span class="keywordtype">double</span> gc_observer[3];</div>
<div class="line"><span class="lineno"> 3637</span>    <span class="keywordtype">double</span> j2000[3];</div>
<div class="line"><span class="lineno"> 3638</span>    <span class="keywordtype">double</span> temp[3];</div>
<div class="line"><span class="lineno"> 3639</span>    <span class="keywordtype">double</span> datevect[3];</div>
<div class="line"><span class="lineno"> 3640</span> </div>
<div class="line"><span class="lineno"> 3641</span>    geo_pos(time, observer, gc_observer);</div>
<div class="line"><span class="lineno"> 3642</span>    gc = <a class="code hl_function" href="astronomy_8c.html#a034ac9033b498171f708501d0adcc381">Astronomy_GeoVector</a>(body, *time, aberration);</div>
<div class="line"><span class="lineno"> 3643</span>    <span class="keywordflow">if</span> (gc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 3644</span>        <span class="keywordflow">return</span> EquError(gc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 3645</span> </div>
<div class="line"><span class="lineno"> 3646</span>    j2000[0] = gc.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> - gc_observer[0];</div>
<div class="line"><span class="lineno"> 3647</span>    j2000[1] = gc.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> - gc_observer[1];</div>
<div class="line"><span class="lineno"> 3648</span>    j2000[2] = gc.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> - gc_observer[2];</div>
<div class="line"><span class="lineno"> 3649</span> </div>
<div class="line"><span class="lineno"> 3650</span>    <span class="keywordflow">switch</span> (equdate)</div>
<div class="line"><span class="lineno"> 3651</span>    {</div>
<div class="line"><span class="lineno"> 3652</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03">EQUATOR_OF_DATE</a>:</div>
<div class="line"><span class="lineno"> 3653</span>        precession(0.0, j2000, time-&gt;<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>, temp);</div>
<div class="line"><span class="lineno"> 3654</span>        nutation(time, 0, temp, datevect);</div>
<div class="line"><span class="lineno"> 3655</span>        equ = vector2radec(datevect);</div>
<div class="line"><span class="lineno"> 3656</span>        <span class="keywordflow">return</span> equ;</div>
<div class="line"><span class="lineno"> 3657</span> </div>
<div class="line"><span class="lineno"> 3658</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#acfd27b57f62aed3dde359047a35ac00ca58ecdc09bd205ed7fc148f3318333255">EQUATOR_J2000</a>:</div>
<div class="line"><span class="lineno"> 3659</span>        equ = vector2radec(j2000);</div>
<div class="line"><span class="lineno"> 3660</span>        <span class="keywordflow">return</span> equ;</div>
<div class="line"><span class="lineno"> 3661</span> </div>
<div class="line"><span class="lineno"> 3662</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3663</span>        <span class="keywordflow">return</span> EquError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 3664</span>    }</div>
<div class="line"><span class="lineno"> 3665</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l03520">Astronomy_GeoVector()</a>, <a class="el" href="astronomy_8h_source.html#l00730">EQUATOR_J2000</a>, <a class="el" href="astronomy_8h_source.html#l00731">EQUATOR_OF_DATE</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l05049">Astronomy_SearchHourAngle()</a> y <a class="el" href="astronomy_8c_source.html#l08410">SunAltitude()</a>.</p>

</div>
</div>
<a id="a805df1836dff74734d51b0ec144724e5" name="a805df1836dff74734d51b0ec144724e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a805df1836dff74734d51b0ec144724e5">&#9670;&#160;</a></span>Astronomy_EquatorFromVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__equatorial__t.html">astro_equatorial_t</a> Astronomy_EquatorFromVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__vector__t.html">astro_vector_t</a></td>          <td class="paramname"><span class="paramname"><em>vector</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given an equatorial vector, calculates equatorial angular coordinates. </p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>A vector in an equatorial coordinate system.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Angular coordinates expressed in the same equatorial system as <span class="tt">vector</span>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06443">6443</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6444</span>{</div>
<div class="line"><span class="lineno"> 6445</span>    <a class="code hl_struct" href="structastro__equatorial__t.html">astro_equatorial_t</a> equ;</div>
<div class="line"><span class="lineno"> 6446</span>    <a class="code hl_struct" href="structastro__spherical__t.html">astro_spherical_t</a> sphere;</div>
<div class="line"><span class="lineno"> 6447</span> </div>
<div class="line"><span class="lineno"> 6448</span>    sphere = <a class="code hl_function" href="astronomy_8c.html#a8ab761ac6b4efbf5ac97c99a8a13ceca">Astronomy_SphereFromVector</a>(vector);</div>
<div class="line"><span class="lineno"> 6449</span>    <span class="keywordflow">if</span> (sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a774e31cea2de2675b071afb066b07919">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6450</span>        <span class="keywordflow">return</span> EquError(sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a774e31cea2de2675b071afb066b07919">status</a>);</div>
<div class="line"><span class="lineno"> 6451</span> </div>
<div class="line"><span class="lineno"> 6452</span>    equ.<a class="code hl_variable" href="structastro__equatorial__t.html#afab33097965cc037477a3cceefdedf17">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6453</span>    equ.<a class="code hl_variable" href="structastro__equatorial__t.html#af313e351ebecda5b3d4c00dccff26278">dec</a> = sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a>;</div>
<div class="line"><span class="lineno"> 6454</span>    equ.<a class="code hl_variable" href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">ra</a> = sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> / 15.0;     <span class="comment">/* convert degrees to sidereal hours */</span></div>
<div class="line"><span class="lineno"> 6455</span>    equ.<a class="code hl_variable" href="structastro__equatorial__t.html#ae436ef560df6767e82a5e5f87af13a9a">dist</a> = sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a41521dc6c95b9616034e14f8082f57a9">dist</a>;</div>
<div class="line"><span class="lineno"> 6456</span> </div>
<div class="line"><span class="lineno"> 6457</span>    <span class="keywordflow">return</span> equ;</div>
<div class="line"><span class="lineno"> 6458</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a8ab761ac6b4efbf5ac97c99a8a13ceca"><div class="ttname"><a href="astronomy_8c.html#a8ab761ac6b4efbf5ac97c99a8a13ceca">Astronomy_SphereFromVector</a></div><div class="ttdeci">astro_spherical_t Astronomy_SphereFromVector(astro_vector_t vector)</div><div class="ttdoc">Converts Cartesian coordinates to spherical coordinates.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06371">astronomy.c:6371</a></div></div>
<div class="ttc" id="astructastro__spherical__t_html"><div class="ttname"><a href="structastro__spherical__t.html">astro_spherical_t</a></div><div class="ttdoc">Spherical coordinates: latitude, longitude, distance.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00181">astronomy.h:182</a></div></div>
<div class="ttc" id="astructastro__spherical__t_html_a15d1f504c387ae368b18b5b48f8ab20d"><div class="ttname"><a href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">astro_spherical_t::lat</a></div><div class="ttdeci">double lat</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00184">astronomy.h:184</a></div></div>
<div class="ttc" id="astructastro__spherical__t_html_a41521dc6c95b9616034e14f8082f57a9"><div class="ttname"><a href="structastro__spherical__t.html#a41521dc6c95b9616034e14f8082f57a9">astro_spherical_t::dist</a></div><div class="ttdeci">double dist</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00186">astronomy.h:186</a></div></div>
<div class="ttc" id="astructastro__spherical__t_html_a774e31cea2de2675b071afb066b07919"><div class="ttname"><a href="structastro__spherical__t.html#a774e31cea2de2675b071afb066b07919">astro_spherical_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00183">astronomy.h:183</a></div></div>
<div class="ttc" id="astructastro__spherical__t_html_afb6c95790984dae79317d133afd075a0"><div class="ttname"><a href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">astro_spherical_t::lon</a></div><div class="ttdeci">double lon</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00185">astronomy.h:185</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l06371">Astronomy_SphereFromVector()</a>, <a class="el" href="astronomy_8h_source.html#l00255">astro_equatorial_t::dec</a>, <a class="el" href="astronomy_8h_source.html#l00256">astro_equatorial_t::dist</a>, <a class="el" href="astronomy_8h_source.html#l00186">astro_spherical_t::dist</a>, <a class="el" href="astronomy_8h_source.html#l00184">astro_spherical_t::lat</a>, <a class="el" href="astronomy_8h_source.html#l00185">astro_spherical_t::lon</a>, <a class="el" href="astronomy_8h_source.html#l00254">astro_equatorial_t::ra</a>, <a class="el" href="astronomy_8h_source.html#l00253">astro_equatorial_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00183">astro_spherical_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07535">Astronomy_Constellation()</a>.</p>

</div>
</div>
<a id="a50957b12cb6796ee46b348ebe0985f4e" name="a50957b12cb6796ee46b348ebe0985f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50957b12cb6796ee46b348ebe0985f4e">&#9670;&#160;</a></span>Astronomy_FormatTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a3605f063314f858dec26db307c4e8214">astro_status_t</a> Astronomy_FormatTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9">astro_time_format_t</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>text</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Formats an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value as an ISO 8601 string. </p>
<p>Given an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value <span class="tt">time</span>, formats it as an ISO 8601 string to the resolution specified by the <span class="tt">format</span> parameter. The result is stored in the <span class="tt">text</span> buffer whose capacity in bytes is specified by <span class="tt">size</span>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time whose civil time <span class="tt">time.ut</span> is to be formatted as an ISO 8601 string. If the civil time is outside the year range 0000 to 9999, the function fails and returns <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214a444cd7276a045b4cc757312c86ed21a5">ASTRO_BAD_TIME</a></span>. Years prior to 1583 are treated as if they are using the modern Gregorian calendar, even when the Julian calendar was actually in effect.</td></tr>
    <tr><td class="paramname">format</td><td>Specifies the resolution to which the date and time should be formatted, as explained at <a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9" title="Selects the output format of the function Astronomy_FormatTime.">astro_time_format_t</a>. If the value of <span class="tt">format</span> is not recognized, the function fails and returns <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a></span>.</td></tr>
    <tr><td class="paramname">text</td><td>A pointer to a text buffer to receive the output. If <span class="tt">text</span> is <span class="tt">NULL</span>, this function returns <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a></span>. If the function fails for any reason, and <span class="tt">text</span> is not <span class="tt">NULL</span>, and <span class="tt">size</span> is greater than 0, the <span class="tt">text</span> buffer is set to an empty string.</td></tr>
    <tr><td class="paramname">size</td><td>The size in bytes of the buffer pointed to by <span class="tt">text</span>. The buffer must be large enough to accomodate the output format selected by the <span class="tt">format</span> parameter, as specified at <a class="el" href="#a626cfe02e4ee23bd16944a4b706df3d9" title="Selects the output format of the function Astronomy_FormatTime.">astro_time_format_t</a>. If <span class="tt">size</span> is too small to hold the string as specified by <span class="tt">format</span>, the <span class="tt">text</span> buffer is set to <span class="tt">""</span> (if possible) and the function returns <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743">ASTRO_BUFFER_TOO_SMALL</a></span>. A buffer that is <span class="tt"><a class="el" href="#a9e50b39673bf3d543f000c5d367fa66b">TIME_TEXT_BYTES</a></span> (25) bytes or larger is always large enough for this function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd><span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> on success; otherwise an error as described in the parameter notes. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00933">933</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  938</span>{</div>
<div class="line"><span class="lineno">  939</span>    <span class="keywordtype">int</span> nprinted;</div>
<div class="line"><span class="lineno">  940</span>    <span class="keywordtype">double</span> rounding;</div>
<div class="line"><span class="lineno">  941</span>    <span class="keywordtype">size_t</span> min_size;</div>
<div class="line"><span class="lineno">  942</span>    <a class="code hl_struct" href="structastro__utc__t.html">astro_utc_t</a> <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>;</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>    <span class="keywordflow">if</span> (text == NULL)</div>
<div class="line"><span class="lineno">  945</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>    <span class="keywordflow">if</span> (size == 0)</div>
<div class="line"><span class="lineno">  948</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743">ASTRO_BUFFER_TOO_SMALL</a>;</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>    text[0] = <span class="charliteral">&#39;\0&#39;</span>;     <span class="comment">/* initialize to empty string, in case an error occurs */</span></div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>    <span class="comment">/* Validate &#39;size&#39; parameter and perform date/time rounding. */</span></div>
<div class="line"><span class="lineno">  953</span>    <span class="keywordflow">switch</span> (format)</div>
<div class="line"><span class="lineno">  954</span>    {</div>
<div class="line"><span class="lineno">  955</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9a059b1be3ddb340fc7e2c6ffa4fc0e6ec">TIME_FORMAT_DAY</a>:</div>
<div class="line"><span class="lineno">  956</span>        min_size = 11;                          <span class="comment">/* &quot;2020-12-31&quot; */</span></div>
<div class="line"><span class="lineno">  957</span>        rounding = 0.0;                         <span class="comment">/* no rounding */</span></div>
<div class="line"><span class="lineno">  958</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  959</span> </div>
<div class="line"><span class="lineno">  960</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9a0655717469d222872875c0ed0d0f94e2">TIME_FORMAT_MINUTE</a>:</div>
<div class="line"><span class="lineno">  961</span>        min_size = 18;                          <span class="comment">/* &quot;2020-12-31T15:47Z&quot; */</span></div>
<div class="line"><span class="lineno">  962</span>        rounding = 0.5 / (24.0 * 60.0);         <span class="comment">/* round to nearest minute */</span></div>
<div class="line"><span class="lineno">  963</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9ad29d40994319a1a795857cb4e1bddfef">TIME_FORMAT_SECOND</a>:</div>
<div class="line"><span class="lineno">  966</span>        min_size = 21;                          <span class="comment">/* &quot;2020-12-31T15:47:59Z&quot; */</span></div>
<div class="line"><span class="lineno">  967</span>        rounding = 0.5 / (24.0 * 3600.0);       <span class="comment">/* round to nearest second */</span></div>
<div class="line"><span class="lineno">  968</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9ac2f67e3e4b0738f7785fc5371a8159b7">TIME_FORMAT_MILLI</a>:</div>
<div class="line"><span class="lineno">  971</span>        min_size = 25;                          <span class="comment">/* &quot;2020-12-31T15:47:59.123Z&quot; */</span></div>
<div class="line"><span class="lineno">  972</span>        rounding = 0.5 / (24.0 * 3600000.0);    <span class="comment">/* round to nearest millisecond */</span></div>
<div class="line"><span class="lineno">  973</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  976</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>;</div>
<div class="line"><span class="lineno">  977</span>    }</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>    <span class="comment">/* Check for insufficient buffer size. */</span></div>
<div class="line"><span class="lineno">  980</span>    <span class="keywordflow">if</span> (size &lt; min_size)</div>
<div class="line"><span class="lineno">  981</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a5ffc095c1184d71b46a3ded7784ec743">ASTRO_BUFFER_TOO_SMALL</a>;</div>
<div class="line"><span class="lineno">  982</span> </div>
<div class="line"><span class="lineno">  983</span>    <span class="comment">/* Perform rounding. */</span></div>
<div class="line"><span class="lineno">  984</span>    time.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> += rounding;</div>
<div class="line"><span class="lineno">  985</span> </div>
<div class="line"><span class="lineno">  986</span>    <span class="comment">/* Convert linear J2000 days to Gregorian UTC date/time. */</span></div>
<div class="line"><span class="lineno">  987</span>    <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a> = <a class="code hl_function" href="astronomy_8c.html#a6eb50592d9ecf9175c335d23b451a0fe">Astronomy_UtcFromTime</a>(time);</div>
<div class="line"><span class="lineno">  988</span> </div>
<div class="line"><span class="lineno">  989</span>    <span class="comment">/* We require the year to be formatted as a 4-digit non-negative integer. */</span></div>
<div class="line"><span class="lineno">  990</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.year &lt; 0 || <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.year &gt; 9999)</div>
<div class="line"><span class="lineno">  991</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a444cd7276a045b4cc757312c86ed21a5">ASTRO_BAD_TIME</a>;</div>
<div class="line"><span class="lineno">  992</span> </div>
<div class="line"><span class="lineno">  993</span>    <span class="comment">/* Format the string. */</span></div>
<div class="line"><span class="lineno">  994</span>    <span class="keywordflow">switch</span> (format)</div>
<div class="line"><span class="lineno">  995</span>    {</div>
<div class="line"><span class="lineno">  996</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9a059b1be3ddb340fc7e2c6ffa4fc0e6ec">TIME_FORMAT_DAY</a>:</div>
<div class="line"><span class="lineno">  997</span>        nprinted = snprintf(text, size, <span class="stringliteral">&quot;%04d-%02d-%02d&quot;</span>,</div>
<div class="line"><span class="lineno">  998</span>            <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.year, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.day);</div>
<div class="line"><span class="lineno">  999</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1000</span> </div>
<div class="line"><span class="lineno"> 1001</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9a0655717469d222872875c0ed0d0f94e2">TIME_FORMAT_MINUTE</a>:</div>
<div class="line"><span class="lineno"> 1002</span>        nprinted = snprintf(text, size, <span class="stringliteral">&quot;%04d-%02d-%02dT%02d:%02dZ&quot;</span>,</div>
<div class="line"><span class="lineno"> 1003</span>            <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.year, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.day,</div>
<div class="line"><span class="lineno"> 1004</span>            <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.hour, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.minute);</div>
<div class="line"><span class="lineno"> 1005</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9ad29d40994319a1a795857cb4e1bddfef">TIME_FORMAT_SECOND</a>:</div>
<div class="line"><span class="lineno"> 1008</span>        nprinted = snprintf(text, size, <span class="stringliteral">&quot;%04d-%02d-%02dT%02d:%02d:%02.0lfZ&quot;</span>,</div>
<div class="line"><span class="lineno"> 1009</span>            <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.year, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.day,</div>
<div class="line"><span class="lineno"> 1010</span>            <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.hour, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.minute, floor(<a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.second));</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a626cfe02e4ee23bd16944a4b706df3d9ac2f67e3e4b0738f7785fc5371a8159b7">TIME_FORMAT_MILLI</a>:</div>
<div class="line"><span class="lineno"> 1014</span>        nprinted = snprintf(text, size, <span class="stringliteral">&quot;%04d-%02d-%02dT%02d:%02d:%06.3lfZ&quot;</span>,</div>
<div class="line"><span class="lineno"> 1015</span>            <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.year, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.day,</div>
<div class="line"><span class="lineno"> 1016</span>            <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.hour, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.minute, floor(1000.0 * <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.second) / 1000.0);</div>
<div class="line"><span class="lineno"> 1017</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1020</span>        <span class="comment">/* We should have already failed for any unknown &#39;format&#39; value. */</span></div>
<div class="line"><span class="lineno"> 1021</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>;</div>
<div class="line"><span class="lineno"> 1022</span>    }</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">if</span> (nprinted &lt; 0)</div>
<div class="line"><span class="lineno"> 1025</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>;    <span class="comment">/* should not be possible for snprintf to return a negative number */</span></div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>    <span class="keywordflow">if</span> (1+(<span class="keywordtype">int</span>)nprinted != min_size)</div>
<div class="line"><span class="lineno"> 1028</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>;    <span class="comment">/* there must be a bug calculating min_size or formatting the string */</span></div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1031</span>}</div>
<div class="ttc" id="aNTP__Time_8h_html_a4c3dff1cb700be9fddeecf59990b1c6c"><div class="ttname"><a href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a></div><div class="ttdeci">time_t utc</div><div class="ttdef"><b>Definition</b> <a href="NTP__Time_8h_source.html#l00102">NTP_Time.h:102</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a6eb50592d9ecf9175c335d23b451a0fe"><div class="ttname"><a href="astronomy_8c.html#a6eb50592d9ecf9175c335d23b451a0fe">Astronomy_UtcFromTime</a></div><div class="ttdeci">astro_utc_t Astronomy_UtcFromTime(astro_time_t time)</div><div class="ttdoc">Determines the calendar year, month, day, and time from an astro_time_t value.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00863">astronomy.c:863</a></div></div>
<div class="ttc" id="astructastro__utc__t_html"><div class="ttname"><a href="structastro__utc__t.html">astro_utc_t</a></div><div class="ttdoc">A calendar date and time expressed in UTC.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00154">astronomy.h:155</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00048">ASTRO_BAD_TIME</a>, <a class="el" href="astronomy_8h_source.html#l00057">ASTRO_BUFFER_TOO_SMALL</a>, <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00863">Astronomy_UtcFromTime()</a>, <a class="el" href="astronomy_8h_source.html#l00774">TIME_FORMAT_DAY</a>, <a class="el" href="astronomy_8h_source.html#l00777">TIME_FORMAT_MILLI</a>, <a class="el" href="astronomy_8h_source.html#l00775">TIME_FORMAT_MINUTE</a>, <a class="el" href="astronomy_8h_source.html#l00776">TIME_FORMAT_SECOND</a>, <a class="el" href="astronomy_8h_source.html#l00121">astro_time_t::ut</a> y <a class="el" href="NTP__Time_8h_source.html#l00102">utc</a>.</p>

</div>
</div>
<a id="ab45536d97a777cb7beab7d6814ed7d49" name="ab45536d97a777cb7beab7d6814ed7d49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab45536d97a777cb7beab7d6814ed7d49">&#9670;&#160;</a></span>Astronomy_GeoMoon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__vector__t.html">astro_vector_t</a> Astronomy_GeoMoon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the geocentric position of the Moon at a given time. </p>
<p>Given a time of observation, calculates the Moon's position as a vector. The vector gives the location of the Moon's center relative to the Earth's center with x-, y-, and z-components measured in astronomical units.</p>
<p>This algorithm is based on Nautical Almanac Office's <em>Improved Lunar Ephemeris</em> of 1954, which in turn derives from E. W. Brown's lunar theories from the early twentieth century. It is adapted from Turbo Pascal code from the book <a href="https://www.springer.com/us/book/9783540672210">Astronomy on the Personal Computer</a> by Montenbruck and Pfleger.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time for which to calculate the Moon's position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The Moon's position as a vector in J2000 Cartesian equatorial coordinates. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l01875">1875</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1876</span>{</div>
<div class="line"><span class="lineno"> 1877</span>    <span class="keywordtype">double</span> geo_eclip_lon, geo_eclip_lat, distance_au;</div>
<div class="line"><span class="lineno"> 1878</span>    <span class="keywordtype">double</span> dist_cos_lat;</div>
<div class="line"><span class="lineno"> 1879</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> vector;</div>
<div class="line"><span class="lineno"> 1880</span>    <span class="keywordtype">double</span> gepos[3];</div>
<div class="line"><span class="lineno"> 1881</span>    <span class="keywordtype">double</span> mpos1[3];</div>
<div class="line"><span class="lineno"> 1882</span>    <span class="keywordtype">double</span> mpos2[3];</div>
<div class="line"><span class="lineno"> 1883</span> </div>
<div class="line"><span class="lineno"> 1884</span>    CalcMoon(time.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> / 36525.0, &amp;geo_eclip_lon, &amp;geo_eclip_lat, &amp;distance_au);</div>
<div class="line"><span class="lineno"> 1885</span> </div>
<div class="line"><span class="lineno"> 1886</span>    <span class="comment">/* Convert geocentric ecliptic spherical coordinates to Cartesian coordinates. */</span></div>
<div class="line"><span class="lineno"> 1887</span>    dist_cos_lat = distance_au * cos(geo_eclip_lat);</div>
<div class="line"><span class="lineno"> 1888</span>    gepos[0] = dist_cos_lat * cos(geo_eclip_lon);</div>
<div class="line"><span class="lineno"> 1889</span>    gepos[1] = dist_cos_lat * sin(geo_eclip_lon);</div>
<div class="line"><span class="lineno"> 1890</span>    gepos[2] = distance_au * sin(geo_eclip_lat);</div>
<div class="line"><span class="lineno"> 1891</span> </div>
<div class="line"><span class="lineno"> 1892</span>    <span class="comment">/* Convert ecliptic coordinates to equatorial coordinates, both in mean equinox of date. */</span></div>
<div class="line"><span class="lineno"> 1893</span>    ecl2equ_vec(time, gepos, mpos1);</div>
<div class="line"><span class="lineno"> 1894</span> </div>
<div class="line"><span class="lineno"> 1895</span>    <span class="comment">/* Convert from mean equinox of date to J2000. */</span></div>
<div class="line"><span class="lineno"> 1896</span>    precession(time.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>, mpos1, 0, mpos2);</div>
<div class="line"><span class="lineno"> 1897</span> </div>
<div class="line"><span class="lineno"> 1898</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 1899</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = mpos2[0];</div>
<div class="line"><span class="lineno"> 1900</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = mpos2[1];</div>
<div class="line"><span class="lineno"> 1901</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = mpos2[2];</div>
<div class="line"><span class="lineno"> 1902</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = time;</div>
<div class="line"><span class="lineno"> 1903</span>    <span class="keywordflow">return</span> vector;</div>
<div class="line"><span class="lineno"> 1904</span>}</div>
<div class="ttc" id="astructastro__vector__t_html_ad90a34927631a1940ae0378574d42103"><div class="ttname"><a href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">astro_vector_t::t</a></div><div class="ttdeci">astro_time_t t</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00174">astronomy.h:174</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00174">astro_vector_t::t</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l03520">Astronomy_GeoVector()</a>, <a class="el" href="astronomy_8c_source.html#l03388">Astronomy_HelioVector()</a> y <a class="el" href="astronomy_8c_source.html#l05450">Astronomy_Illumination()</a>.</p>

</div>
</div>
<a id="a034ac9033b498171f708501d0adcc381" name="a034ac9033b498171f708501d0adcc381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a034ac9033b498171f708501d0adcc381">&#9670;&#160;</a></span>Astronomy_GeoVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__vector__t.html">astro_vector_t</a> Astronomy_GeoVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6">astro_aberration_t</a></td>          <td class="paramname"><span class="paramname"><em>aberration</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates geocentric Cartesian coordinates of a body in the J2000 equatorial system. </p>
<p>This function calculates the position of the given celestial body as a vector, using the center of the Earth as the origin. The result is expressed as a Cartesian vector in the J2000 equatorial system: the coordinates are based on the mean equator of the Earth at noon UTC on 1 January 2000.</p>
<p>If given an invalid value for <span class="tt">body</span>, this function will fail. The caller should always check the <span class="tt">status</span> field inside the returned <a class="el" href="structastro__vector__t.html" title="A 3D Cartesian vector whose components are expressed in Astronomical Units (AU).">astro_vector_t</a> for <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> (success) or any other value (failure) before trusting the resulting vector.</p>
<p>Unlike <a class="el" href="astronomy_8c.html#a029bcfa06f5aabc5f8bbfc9e8ce42fbc" title="Calculates heliocentric Cartesian coordinates of a body in the J2000 equatorial system.">Astronomy_HelioVector</a>, this function always corrects for light travel time. This means the position of the body is "back-dated" by the amount of time it takes light to travel from that body to an observer on the Earth.</p>
<p>Also, the position can optionally be corrected for <a href="https://en.wikipedia.org/wiki/Aberration_of_light">aberration</a>, an effect causing the apparent direction of the body to be shifted due to transverse movement of the Earth with respect to the rays of light coming from that body.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>A body for which to calculate a heliocentric position: the Sun, Moon, or any of the planets. </td></tr>
    <tr><td class="paramname">time</td><td>The date and time for which to calculate the position. </td></tr>
    <tr><td class="paramname">aberration</td><td><span class="tt"><a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a></span> to correct for aberration, or <span class="tt"><a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc">NO_ABERRATION</a></span> to leave uncorrected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A geocentric position vector of the center of the given body. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l03520">3520</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3521</span>{</div>
<div class="line"><span class="lineno"> 3522</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> vector;</div>
<div class="line"><span class="lineno"> 3523</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> earth;</div>
<div class="line"><span class="lineno"> 3524</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> ltime;</div>
<div class="line"><span class="lineno"> 3525</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> ltime2;</div>
<div class="line"><span class="lineno"> 3526</span>    <span class="keywordtype">double</span> dt;</div>
<div class="line"><span class="lineno"> 3527</span>    <span class="keywordtype">int</span> iter;</div>
<div class="line"><span class="lineno"> 3528</span> </div>
<div class="line"><span class="lineno"> 3529</span>    <span class="keywordflow">if</span> (aberration != <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a> &amp;&amp; aberration != <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc">NO_ABERRATION</a>)</div>
<div class="line"><span class="lineno"> 3530</span>        <span class="keywordflow">return</span> VecError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>, time);</div>
<div class="line"><span class="lineno"> 3531</span> </div>
<div class="line"><span class="lineno"> 3532</span>    <span class="keywordflow">switch</span> (body)</div>
<div class="line"><span class="lineno"> 3533</span>    {</div>
<div class="line"><span class="lineno"> 3534</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>:</div>
<div class="line"><span class="lineno"> 3535</span>        <span class="comment">/* The Earth&#39;s geocentric coordinates are always (0,0,0). */</span></div>
<div class="line"><span class="lineno"> 3536</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 3537</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = 0.0;</div>
<div class="line"><span class="lineno"> 3538</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = 0.0;</div>
<div class="line"><span class="lineno"> 3539</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = 0.0;</div>
<div class="line"><span class="lineno"> 3540</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3541</span> </div>
<div class="line"><span class="lineno"> 3542</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>:</div>
<div class="line"><span class="lineno"> 3543</span>        vector = <a class="code hl_function" href="astronomy_8c.html#ab45536d97a777cb7beab7d6814ed7d49">Astronomy_GeoMoon</a>(time);</div>
<div class="line"><span class="lineno"> 3544</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 3545</span> </div>
<div class="line"><span class="lineno"> 3546</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3547</span>        <span class="comment">/* For all other bodies, apply light travel time correction. */</span></div>
<div class="line"><span class="lineno"> 3548</span> </div>
<div class="line"><span class="lineno"> 3549</span>        <span class="keywordflow">if</span> (aberration == <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc">NO_ABERRATION</a>)</div>
<div class="line"><span class="lineno"> 3550</span>        {</div>
<div class="line"><span class="lineno"> 3551</span>            <span class="comment">/* No aberration, so calculate Earth&#39;s position once, at the time of observation. */</span></div>
<div class="line"><span class="lineno"> 3552</span>            earth = CalcEarth(time);</div>
<div class="line"><span class="lineno"> 3553</span>            <span class="keywordflow">if</span> (earth.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 3554</span>                <span class="keywordflow">return</span> earth;</div>
<div class="line"><span class="lineno"> 3555</span>        }</div>
<div class="line"><span class="lineno"> 3556</span> </div>
<div class="line"><span class="lineno"> 3557</span>        ltime = time;</div>
<div class="line"><span class="lineno"> 3558</span>        <span class="keywordflow">for</span> (iter=0; iter &lt; 10; ++iter)</div>
<div class="line"><span class="lineno"> 3559</span>        {</div>
<div class="line"><span class="lineno"> 3560</span>            vector = <a class="code hl_function" href="astronomy_8c.html#a029bcfa06f5aabc5f8bbfc9e8ce42fbc">Astronomy_HelioVector</a>(body, ltime);</div>
<div class="line"><span class="lineno"> 3561</span>            <span class="keywordflow">if</span> (vector.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 3562</span>                <span class="keywordflow">return</span> vector;</div>
<div class="line"><span class="lineno"> 3563</span> </div>
<div class="line"><span class="lineno"> 3564</span>            <span class="keywordflow">if</span> (aberration == <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a>)</div>
<div class="line"><span class="lineno"> 3565</span>            {</div>
<div class="line"><span class="lineno"> 3566</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 3567</span><span class="comment">                    Include aberration, so make a good first-order approximation</span></div>
<div class="line"><span class="lineno"> 3568</span><span class="comment">                    by backdating the Earth&#39;s position also.</span></div>
<div class="line"><span class="lineno"> 3569</span><span class="comment">                    This is confusing, but it works for objects within the Solar System</span></div>
<div class="line"><span class="lineno"> 3570</span><span class="comment">                    because the distance the Earth moves in that small amount of light</span></div>
<div class="line"><span class="lineno"> 3571</span><span class="comment">                    travel time (a few minutes to a few hours) is well approximated</span></div>
<div class="line"><span class="lineno"> 3572</span><span class="comment">                    by a line segment that substends the angle seen from the remote</span></div>
<div class="line"><span class="lineno"> 3573</span><span class="comment">                    body viewing Earth. That angle is pretty close to the aberration</span></div>
<div class="line"><span class="lineno"> 3574</span><span class="comment">                    angle of the moving Earth viewing the remote body.</span></div>
<div class="line"><span class="lineno"> 3575</span><span class="comment">                    In other words, both of the following approximate the aberration angle:</span></div>
<div class="line"><span class="lineno"> 3576</span><span class="comment">                        (transverse distance Earth moves) / (distance to body)</span></div>
<div class="line"><span class="lineno"> 3577</span><span class="comment">                        (transverse speed of Earth) / (speed of light).</span></div>
<div class="line"><span class="lineno"> 3578</span><span class="comment">                */</span></div>
<div class="line"><span class="lineno"> 3579</span>                earth = CalcEarth(ltime);</div>
<div class="line"><span class="lineno"> 3580</span>                <span class="keywordflow">if</span> (earth.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 3581</span>                    <span class="keywordflow">return</span> earth;</div>
<div class="line"><span class="lineno"> 3582</span>            }</div>
<div class="line"><span class="lineno"> 3583</span> </div>
<div class="line"><span class="lineno"> 3584</span>            <span class="comment">/* Convert heliocentric vector to geocentric vector. */</span></div>
<div class="line"><span class="lineno"> 3585</span>            vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> -= earth.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>;</div>
<div class="line"><span class="lineno"> 3586</span>            vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> -= earth.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>;</div>
<div class="line"><span class="lineno"> 3587</span>            vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> -= earth.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 3588</span> </div>
<div class="line"><span class="lineno"> 3589</span>            ltime2 = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(time, -<a class="code hl_function" href="astronomy_8c.html#aee2ee032e87ca30739a4381ea67958c2">Astronomy_VectorLength</a>(vector) / C_AUDAY);</div>
<div class="line"><span class="lineno"> 3590</span>            dt = fabs(ltime2.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> - ltime.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>);</div>
<div class="line"><span class="lineno"> 3591</span>            <span class="keywordflow">if</span> (dt &lt; 1.0e-9)</div>
<div class="line"><span class="lineno"> 3592</span>                <span class="keywordflow">goto</span> finished;  <span class="comment">/* Ensures we patch &#39;vector.t&#39; with current time, not ante-dated time. */</span></div>
<div class="line"><span class="lineno"> 3593</span> </div>
<div class="line"><span class="lineno"> 3594</span>            ltime = ltime2;</div>
<div class="line"><span class="lineno"> 3595</span>        }</div>
<div class="line"><span class="lineno"> 3596</span>        <span class="keywordflow">return</span> VecError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680">ASTRO_NO_CONVERGE</a>, time);   <span class="comment">/* light travel time solver did not converge */</span></div>
<div class="line"><span class="lineno"> 3597</span>    }</div>
<div class="line"><span class="lineno"> 3598</span> </div>
<div class="line"><span class="lineno"> 3599</span>finished:</div>
<div class="line"><span class="lineno"> 3600</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = time;</div>
<div class="line"><span class="lineno"> 3601</span>    <span class="keywordflow">return</span> vector;</div>
<div class="line"><span class="lineno"> 3602</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a5f265f92cb2aa607ed9f3d883a31728a"><div class="ttname"><a href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a></div><div class="ttdeci">astro_time_t Astronomy_AddDays(astro_time_t time, double days)</div><div class="ttdoc">Calculates the sum or difference of an astro_time_t with a specified floating point number of days.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00814">astronomy.c:814</a></div></div>
<div class="ttc" id="aastronomy_8c_html_ab45536d97a777cb7beab7d6814ed7d49"><div class="ttname"><a href="astronomy_8c.html#ab45536d97a777cb7beab7d6814ed7d49">Astronomy_GeoMoon</a></div><div class="ttdeci">astro_vector_t Astronomy_GeoMoon(astro_time_t time)</div><div class="ttdoc">Calculates the geocentric position of the Moon at a given time.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l01875">astronomy.c:1875</a></div></div>
<div class="ttc" id="aastronomy_8c_html_aee2ee032e87ca30739a4381ea67958c2"><div class="ttname"><a href="astronomy_8c.html#aee2ee032e87ca30739a4381ea67958c2">Astronomy_VectorLength</a></div><div class="ttdeci">double Astronomy_VectorLength(astro_vector_t vector)</div><div class="ttdoc">Calculates the length of the given vector.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00238">astronomy.c:238</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00707">ABERRATION</a>, <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00047">ASTRO_NO_CONVERGE</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l01875">Astronomy_GeoMoon()</a>, <a class="el" href="astronomy_8c_source.html#l03388">Astronomy_HelioVector()</a>, <a class="el" href="astronomy_8c_source.html#l00238">Astronomy_VectorLength()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00216">BODY_MOON</a>, <a class="el" href="astronomy_8h_source.html#l00708">NO_ABERRATION</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00174">astro_vector_t::t</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l04356">Astronomy_AngleFromSun()</a>, <a class="el" href="astronomy_8c_source.html#l03627">Astronomy_Equator()</a> y <a class="el" href="astronomy_8c_source.html#l04654">Astronomy_LongitudeFromSun()</a>.</p>

</div>
</div>
<a id="a1968d4049c663695141340e1747cc5ca" name="a1968d4049c663695141340e1747cc5ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1968d4049c663695141340e1747cc5ca">&#9670;&#160;</a></span>Astronomy_HelioDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__func__result__t.html">astro_func_result_t</a> Astronomy_HelioDistance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the distance from a body to the Sun at a given time. </p>
<p>Given a date and time, this function calculates the distance between the center of <span class="tt">body</span> and the center of the Sun. For the planets Mercury through Neptune, this function is significantly more efficient than calling <a class="el" href="astronomy_8c.html#a029bcfa06f5aabc5f8bbfc9e8ce42fbc" title="Calculates heliocentric Cartesian coordinates of a body in the J2000 equatorial system.">Astronomy_HelioVector</a> followed by <a class="el" href="astronomy_8c.html#aee2ee032e87ca30739a4381ea67958c2" title="Calculates the length of the given vector.">Astronomy_VectorLength</a>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>A body for which to calculate a heliocentric distance: the Sun, Moon, or any of the planets.</td></tr>
    <tr><td class="paramname">time</td><td>The date and time for which to calculate the heliocentric distance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, an <a class="el" href="structastro__func__result__t.html" title="A real value returned by a function whose ascending root is to be found.">astro_func_result_t</a> structure whose <span class="tt">status</span> is <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and whose <span class="tt">value</span> holds the heliocentric distance in AU. Otherwise, <span class="tt">status</span> reports an error condition. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l03458">3458</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3459</span>{</div>
<div class="line"><span class="lineno"> 3460</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> vector;</div>
<div class="line"><span class="lineno"> 3461</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> result;</div>
<div class="line"><span class="lineno"> 3462</span> </div>
<div class="line"><span class="lineno"> 3463</span>    <span class="keywordflow">switch</span> (body)</div>
<div class="line"><span class="lineno"> 3464</span>    {</div>
<div class="line"><span class="lineno"> 3465</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>:</div>
<div class="line"><span class="lineno"> 3466</span>        result.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 3467</span>        result.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> = 0.0;</div>
<div class="line"><span class="lineno"> 3468</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3469</span> </div>
<div class="line"><span class="lineno"> 3470</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a>:</div>
<div class="line"><span class="lineno"> 3471</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>:</div>
<div class="line"><span class="lineno"> 3472</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>:</div>
<div class="line"><span class="lineno"> 3473</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9">BODY_MARS</a>:</div>
<div class="line"><span class="lineno"> 3474</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a">BODY_JUPITER</a>:</div>
<div class="line"><span class="lineno"> 3475</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3">BODY_SATURN</a>:</div>
<div class="line"><span class="lineno"> 3476</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87">BODY_URANUS</a>:</div>
<div class="line"><span class="lineno"> 3477</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250">BODY_NEPTUNE</a>:</div>
<div class="line"><span class="lineno"> 3478</span>        result.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 3479</span>        result.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> = VsopHelioDistance(&amp;vsop[body], time);</div>
<div class="line"><span class="lineno"> 3480</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3481</span> </div>
<div class="line"><span class="lineno"> 3482</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3483</span>        <span class="comment">/* For non-VSOP objects, fall back to taking the length of the heliocentric vector. */</span></div>
<div class="line"><span class="lineno"> 3484</span>        vector = <a class="code hl_function" href="astronomy_8c.html#a029bcfa06f5aabc5f8bbfc9e8ce42fbc">Astronomy_HelioVector</a>(body, time);</div>
<div class="line"><span class="lineno"> 3485</span>        <span class="keywordflow">if</span> (vector.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 3486</span>            <span class="keywordflow">return</span> FuncError(vector.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 3487</span>        result.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 3488</span>        result.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> = <a class="code hl_function" href="astronomy_8c.html#aee2ee032e87ca30739a4381ea67958c2">Astronomy_VectorLength</a>(vector);</div>
<div class="line"><span class="lineno"> 3489</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 3490</span>    }</div>
<div class="line"><span class="lineno"> 3491</span>}</div>
<div class="ttc" id="astructastro__func__result__t_html"><div class="ttname"><a href="structastro__func__result__t.html">astro_func_result_t</a></div><div class="ttdoc">A real value returned by a function whose ascending root is to be found.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00362">astronomy.h:363</a></div></div>
<div class="ttc" id="astructastro__func__result__t_html_a8e86a498accbd6c245ad737b9c775ef4"><div class="ttname"><a href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">astro_func_result_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00364">astronomy.h:364</a></div></div>
<div class="ttc" id="astructastro__func__result__t_html_abb36158e9c74ccc058a05d9e2440b888"><div class="ttname"><a href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">astro_func_result_t::value</a></div><div class="ttdeci">double value</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00365">astronomy.h:365</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l03388">Astronomy_HelioVector()</a>, <a class="el" href="astronomy_8c_source.html#l00238">Astronomy_VectorLength()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00210">BODY_JUPITER</a>, <a class="el" href="astronomy_8h_source.html#l00209">BODY_MARS</a>, <a class="el" href="astronomy_8h_source.html#l00206">BODY_MERCURY</a>, <a class="el" href="astronomy_8h_source.html#l00213">BODY_NEPTUNE</a>, <a class="el" href="astronomy_8h_source.html#l00211">BODY_SATURN</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00212">BODY_URANUS</a>, <a class="el" href="astronomy_8h_source.html#l00207">BODY_VENUS</a>, <a class="el" href="astronomy_8h_source.html#l00364">astro_func_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00365">astro_func_result_t::value</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06110">Astronomy_SearchPlanetApsis()</a>.</p>

</div>
</div>
<a id="a029bcfa06f5aabc5f8bbfc9e8ce42fbc" name="a029bcfa06f5aabc5f8bbfc9e8ce42fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029bcfa06f5aabc5f8bbfc9e8ce42fbc">&#9670;&#160;</a></span>Astronomy_HelioVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__vector__t.html">astro_vector_t</a> Astronomy_HelioVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates heliocentric Cartesian coordinates of a body in the J2000 equatorial system. </p>
<p>This function calculates the position of the given celestial body as a vector, using the center of the Sun as the origin. The result is expressed as a Cartesian vector in the J2000 equatorial system: the coordinates are based on the mean equator of the Earth at noon UTC on 1 January 2000.</p>
<p>The position is not corrected for light travel time or aberration. This is different from the behavior of <a class="el" href="astronomy_8c.html#a034ac9033b498171f708501d0adcc381" title="Calculates geocentric Cartesian coordinates of a body in the J2000 equatorial system.">Astronomy_GeoVector</a>.</p>
<p>If given an invalid value for <span class="tt">body</span>, this function will fail. The caller should always check the <span class="tt">status</span> field inside the returned <a class="el" href="structastro__vector__t.html" title="A 3D Cartesian vector whose components are expressed in Astronomical Units (AU).">astro_vector_t</a> for <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> (success) or any other value (failure) before trusting the resulting vector.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>A body for which to calculate a heliocentric position: the Sun, Moon, any of the planets, the Solar System Barycenter (SSB), or the Earth Moon Barycenter (EMB). </td></tr>
    <tr><td class="paramname">time</td><td>The date and time for which to calculate the position. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A heliocentric position vector of the center of the given body. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l03388">3388</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3389</span>{</div>
<div class="line"><span class="lineno"> 3390</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> vector, earth;</div>
<div class="line"><span class="lineno"> 3391</span> </div>
<div class="line"><span class="lineno"> 3392</span>    <span class="keywordflow">switch</span> (body)</div>
<div class="line"><span class="lineno"> 3393</span>    {</div>
<div class="line"><span class="lineno"> 3394</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>:</div>
<div class="line"><span class="lineno"> 3395</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 3396</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = 0.0;</div>
<div class="line"><span class="lineno"> 3397</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = 0.0;</div>
<div class="line"><span class="lineno"> 3398</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = 0.0;</div>
<div class="line"><span class="lineno"> 3399</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = time;</div>
<div class="line"><span class="lineno"> 3400</span>        <span class="keywordflow">return</span> vector;</div>
<div class="line"><span class="lineno"> 3401</span> </div>
<div class="line"><span class="lineno"> 3402</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a>:</div>
<div class="line"><span class="lineno"> 3403</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>:</div>
<div class="line"><span class="lineno"> 3404</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>:</div>
<div class="line"><span class="lineno"> 3405</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a5b63575fc04958c35a94de41472ea1b9">BODY_MARS</a>:</div>
<div class="line"><span class="lineno"> 3406</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ab6977bce2021b4eca2c7daba860dbb4a">BODY_JUPITER</a>:</div>
<div class="line"><span class="lineno"> 3407</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3">BODY_SATURN</a>:</div>
<div class="line"><span class="lineno"> 3408</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928afe52bbb478bdfc7dffe591c9481d5d87">BODY_URANUS</a>:</div>
<div class="line"><span class="lineno"> 3409</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250">BODY_NEPTUNE</a>:</div>
<div class="line"><span class="lineno"> 3410</span>        <span class="keywordflow">return</span> CalcVsop(&amp;vsop[body], time);</div>
<div class="line"><span class="lineno"> 3411</span> </div>
<div class="line"><span class="lineno"> 3412</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa">BODY_PLUTO</a>:</div>
<div class="line"><span class="lineno"> 3413</span>        <span class="keywordflow">return</span> CalcPluto(time);</div>
<div class="line"><span class="lineno"> 3414</span> </div>
<div class="line"><span class="lineno"> 3415</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>:</div>
<div class="line"><span class="lineno"> 3416</span>        vector = <a class="code hl_function" href="astronomy_8c.html#ab45536d97a777cb7beab7d6814ed7d49">Astronomy_GeoMoon</a>(time);</div>
<div class="line"><span class="lineno"> 3417</span>        earth = CalcEarth(time);</div>
<div class="line"><span class="lineno"> 3418</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> += earth.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>;</div>
<div class="line"><span class="lineno"> 3419</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> += earth.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>;</div>
<div class="line"><span class="lineno"> 3420</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> += earth.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 3421</span>        <span class="keywordflow">return</span> vector;</div>
<div class="line"><span class="lineno"> 3422</span> </div>
<div class="line"><span class="lineno"> 3423</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a11b25205af1ab5e2f4f796c93457b245">BODY_EMB</a>:</div>
<div class="line"><span class="lineno"> 3424</span>        vector = <a class="code hl_function" href="astronomy_8c.html#ab45536d97a777cb7beab7d6814ed7d49">Astronomy_GeoMoon</a>(time);</div>
<div class="line"><span class="lineno"> 3425</span>        earth = CalcEarth(time);</div>
<div class="line"><span class="lineno"> 3426</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = earth.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> + (vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> / (1.0 + EARTH_MOON_MASS_RATIO));</div>
<div class="line"><span class="lineno"> 3427</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = earth.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> + (vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> / (1.0 + EARTH_MOON_MASS_RATIO));</div>
<div class="line"><span class="lineno"> 3428</span>        vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = earth.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> + (vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> / (1.0 + EARTH_MOON_MASS_RATIO));</div>
<div class="line"><span class="lineno"> 3429</span>        <span class="keywordflow">return</span> vector;</div>
<div class="line"><span class="lineno"> 3430</span> </div>
<div class="line"><span class="lineno"> 3431</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fd30e2453f6cdff7034db5319832462">BODY_SSB</a>:</div>
<div class="line"><span class="lineno"> 3432</span>        <span class="keywordflow">return</span> CalcSolarSystemBarycenter(time);</div>
<div class="line"><span class="lineno"> 3433</span> </div>
<div class="line"><span class="lineno"> 3434</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 3435</span>        <span class="keywordflow">return</span> VecError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>, time);</div>
<div class="line"><span class="lineno"> 3436</span>    }</div>
<div class="line"><span class="lineno"> 3437</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l01875">Astronomy_GeoMoon()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00217">BODY_EMB</a>, <a class="el" href="astronomy_8h_source.html#l00210">BODY_JUPITER</a>, <a class="el" href="astronomy_8h_source.html#l00209">BODY_MARS</a>, <a class="el" href="astronomy_8h_source.html#l00206">BODY_MERCURY</a>, <a class="el" href="astronomy_8h_source.html#l00216">BODY_MOON</a>, <a class="el" href="astronomy_8h_source.html#l00213">BODY_NEPTUNE</a>, <a class="el" href="astronomy_8h_source.html#l00214">BODY_PLUTO</a>, <a class="el" href="astronomy_8h_source.html#l00211">BODY_SATURN</a>, <a class="el" href="astronomy_8h_source.html#l00218">BODY_SSB</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00212">BODY_URANUS</a>, <a class="el" href="astronomy_8h_source.html#l00207">BODY_VENUS</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00174">astro_vector_t::t</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l03918">Astronomy_EclipticLongitude()</a>, <a class="el" href="astronomy_8c_source.html#l03520">Astronomy_GeoVector()</a>, <a class="el" href="astronomy_8c_source.html#l03458">Astronomy_HelioDistance()</a> y <a class="el" href="astronomy_8c_source.html#l05450">Astronomy_Illumination()</a>.</p>

</div>
</div>
<a id="a010c68c33f44cc7a7ad3de40bedcc3b5" name="a010c68c33f44cc7a7ad3de40bedcc3b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a010c68c33f44cc7a7ad3de40bedcc3b5">&#9670;&#160;</a></span>Astronomy_Horizon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__horizon__t.html">astro_horizon_t</a> Astronomy_Horizon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a> *</td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ra</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a></td>          <td class="paramname"><span class="paramname"><em>refraction</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the apparent location of a body relative to the local horizon of an observer on the Earth. </p>
<p>Given a date and time, the geographic location of an observer on the Earth, and equatorial coordinates (right ascension and declination) of a celestial body, this function returns horizontal coordinates (azimuth and altitude angles) for the body relative to the horizon at the geographic location.</p>
<p>The right ascension <span class="tt">ra</span> and declination <span class="tt">dec</span> passed in must be <em>equator of date</em> coordinates, based on the Earth's true equator at the date and time of the observation. Otherwise the resulting horizontal coordinates will be inaccurate. Equator of date coordinates can be obtained by calling <a class="el" href="astronomy_8c.html#aa0bb7ca3d4e511d37cd5e0b5ab437273" title="Calculates equatorial coordinates of a celestial body as seen by an observer on the Earth&#39;s surface.">Astronomy_Equator</a>, passing in <span class="tt"><a class="el" href="#acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03">EQUATOR_OF_DATE</a></span> as its <span class="tt">equdate</span> parameter. It is also recommended to enable aberration correction by passing in <span class="tt"><a class="el" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a></span> as the <span class="tt">aberration</span> parameter.</p>
<p>This function optionally corrects for atmospheric refraction. For most uses, it is recommended to pass <span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a></span> in the <span class="tt">refraction</span> parameter to correct for optical lensing of the Earth's atmosphere that causes objects to appear somewhat higher above the horizon than they actually are. However, callers may choose to avoid this correction by passing in <span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6">REFRACTION_NONE</a></span>. If refraction correction is enabled, the azimuth, altitude, right ascension, and declination in the <a class="el" href="structastro__horizon__t.html" title="Coordinates of a celestial body as seen by a topocentric observer.">astro_horizon_t</a> structure returned by this function will all be corrected for refraction. If refraction is disabled, none of these four coordinates will be corrected; in that case, the right ascension and declination in the returned structure will be numerically identical to the respective <span class="tt">ra</span> and <span class="tt">dec</span> values passed in.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time of the observation.</td></tr>
    <tr><td class="paramname">observer</td><td>The geographic location of the observer.</td></tr>
    <tr><td class="paramname">ra</td><td>The right ascension of the body in sidereal hours. See function remarks for more details.</td></tr>
    <tr><td class="paramname">dec</td><td>The declination of the body in degrees. See function remarks for more details.</td></tr>
    <tr><td class="paramname">refraction</td><td>Selects whether to correct for atmospheric refraction, and if so, which model to use. The recommended value for most uses is <span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a></span>. See function remarks for more details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The body's apparent horizontal coordinates and equatorial coordinates, both optionally corrected for refraction. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l03714">3714</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3716</span>{</div>
<div class="line"><span class="lineno"> 3717</span>    <a class="code hl_struct" href="structastro__horizon__t.html">astro_horizon_t</a> hor;</div>
<div class="line"><span class="lineno"> 3718</span>    <span class="keywordtype">double</span> uze[3], une[3], uwe[3];</div>
<div class="line"><span class="lineno"> 3719</span>    <span class="keywordtype">double</span> uz[3], un[3], uw[3];</div>
<div class="line"><span class="lineno"> 3720</span>    <span class="keywordtype">double</span> p[3], pz, pn, pw, proj;</div>
<div class="line"><span class="lineno"> 3721</span>    <span class="keywordtype">double</span> az, zd;</div>
<div class="line"><span class="lineno"> 3722</span>    <span class="keywordtype">double</span> spin_angle;</div>
<div class="line"><span class="lineno"> 3723</span> </div>
<div class="line"><span class="lineno"> 3724</span>    <span class="keywordtype">double</span> sinlat = sin(observer.<a class="code hl_variable" href="structastro__observer__t.html#a4ece76c5061138651f91cdc0a43fabea">latitude</a> * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3725</span>    <span class="keywordtype">double</span> coslat = cos(observer.<a class="code hl_variable" href="structastro__observer__t.html#a4ece76c5061138651f91cdc0a43fabea">latitude</a> * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3726</span>    <span class="keywordtype">double</span> sinlon = sin(observer.<a class="code hl_variable" href="structastro__observer__t.html#aa54800e341dd1fcdd8ae257f702c3872">longitude</a> * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3727</span>    <span class="keywordtype">double</span> coslon = cos(observer.<a class="code hl_variable" href="structastro__observer__t.html#aa54800e341dd1fcdd8ae257f702c3872">longitude</a> * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3728</span>    <span class="keywordtype">double</span> sindc = sin(dec * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3729</span>    <span class="keywordtype">double</span> cosdc = cos(dec * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3730</span>    <span class="keywordtype">double</span> sinra = sin(ra * 15 * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3731</span>    <span class="keywordtype">double</span> cosra = cos(ra * 15 * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3732</span> </div>
<div class="line"><span class="lineno"> 3733</span>    uze[0] = coslat * coslon;</div>
<div class="line"><span class="lineno"> 3734</span>    uze[1] = coslat * sinlon;</div>
<div class="line"><span class="lineno"> 3735</span>    uze[2] = sinlat;</div>
<div class="line"><span class="lineno"> 3736</span> </div>
<div class="line"><span class="lineno"> 3737</span>    une[0] = -sinlat * coslon;</div>
<div class="line"><span class="lineno"> 3738</span>    une[1] = -sinlat * sinlon;</div>
<div class="line"><span class="lineno"> 3739</span>    une[2] = coslat;</div>
<div class="line"><span class="lineno"> 3740</span> </div>
<div class="line"><span class="lineno"> 3741</span>    uwe[0] = sinlon;</div>
<div class="line"><span class="lineno"> 3742</span>    uwe[1] = -coslon;</div>
<div class="line"><span class="lineno"> 3743</span>    uwe[2] = 0.0;</div>
<div class="line"><span class="lineno"> 3744</span> </div>
<div class="line"><span class="lineno"> 3745</span>    spin_angle = -15.0 * sidereal_time(time);</div>
<div class="line"><span class="lineno"> 3746</span>    spin(spin_angle, uze, uz);</div>
<div class="line"><span class="lineno"> 3747</span>    spin(spin_angle, une, un);</div>
<div class="line"><span class="lineno"> 3748</span>    spin(spin_angle, uwe, uw);</div>
<div class="line"><span class="lineno"> 3749</span> </div>
<div class="line"><span class="lineno"> 3750</span>    p[0] = cosdc * cosra;</div>
<div class="line"><span class="lineno"> 3751</span>    p[1] = cosdc * sinra;</div>
<div class="line"><span class="lineno"> 3752</span>    p[2] = sindc;</div>
<div class="line"><span class="lineno"> 3753</span> </div>
<div class="line"><span class="lineno"> 3754</span>    pz = p[0]*uz[0] + p[1]*uz[1] + p[2]*uz[2];</div>
<div class="line"><span class="lineno"> 3755</span>    pn = p[0]*un[0] + p[1]*un[1] + p[2]*un[2];</div>
<div class="line"><span class="lineno"> 3756</span>    pw = p[0]*uw[0] + p[1]*uw[1] + p[2]*uw[2];</div>
<div class="line"><span class="lineno"> 3757</span> </div>
<div class="line"><span class="lineno"> 3758</span>    proj = sqrt(pn*pn + pw*pw);</div>
<div class="line"><span class="lineno"> 3759</span>    az = 0.0;</div>
<div class="line"><span class="lineno"> 3760</span>    <span class="keywordflow">if</span> (proj &gt; 0.0)</div>
<div class="line"><span class="lineno"> 3761</span>    {</div>
<div class="line"><span class="lineno"> 3762</span>        az = -atan2(pw, pn) * RAD2DEG;</div>
<div class="line"><span class="lineno"> 3763</span>        <span class="keywordflow">if</span> (az &lt; 0)</div>
<div class="line"><span class="lineno"> 3764</span>            az += 360;</div>
<div class="line"><span class="lineno"> 3765</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (az &gt;= 360)</div>
<div class="line"><span class="lineno"> 3766</span>            az -= 360;</div>
<div class="line"><span class="lineno"> 3767</span>    }</div>
<div class="line"><span class="lineno"> 3768</span>    zd = atan2(proj, pz) * RAD2DEG;</div>
<div class="line"><span class="lineno"> 3769</span>    hor.<a class="code hl_variable" href="structastro__horizon__t.html#a8be5e63cf8fe54fbe7adb7fd34873529">ra</a> = ra;</div>
<div class="line"><span class="lineno"> 3770</span>    hor.<a class="code hl_variable" href="structastro__horizon__t.html#a447f35e253764bd0b682d932794c9db9">dec</a> = dec;</div>
<div class="line"><span class="lineno"> 3771</span> </div>
<div class="line"><span class="lineno"> 3772</span>    <span class="keywordflow">if</span> (refraction == <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a> || refraction == <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26">REFRACTION_JPLHOR</a>)</div>
<div class="line"><span class="lineno"> 3773</span>    {</div>
<div class="line"><span class="lineno"> 3774</span>        <span class="keywordtype">double</span> zd0, refr;</div>
<div class="line"><span class="lineno"> 3775</span> </div>
<div class="line"><span class="lineno"> 3776</span>        zd0 = zd;</div>
<div class="line"><span class="lineno"> 3777</span>        refr = <a class="code hl_function" href="astronomy_8c.html#a3d5bc08ddb39c401a00a4d731f42c378">Astronomy_Refraction</a>(refraction, 90.0 - zd);</div>
<div class="line"><span class="lineno"> 3778</span>        zd -= refr;</div>
<div class="line"><span class="lineno"> 3779</span> </div>
<div class="line"><span class="lineno"> 3780</span>        <span class="keywordflow">if</span> (refr &gt; 0.0 &amp;&amp; zd &gt; 3.0e-4)</div>
<div class="line"><span class="lineno"> 3781</span>        {</div>
<div class="line"><span class="lineno"> 3782</span>            <span class="keywordtype">int</span> j;</div>
<div class="line"><span class="lineno"> 3783</span>            <span class="keywordtype">double</span> sinzd = sin(zd * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3784</span>            <span class="keywordtype">double</span> coszd = cos(zd * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3785</span>            <span class="keywordtype">double</span> sinzd0 = sin(zd0 * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3786</span>            <span class="keywordtype">double</span> coszd0 = cos(zd0 * DEG2RAD);</div>
<div class="line"><span class="lineno"> 3787</span>            <span class="keywordtype">double</span> pr[3];</div>
<div class="line"><span class="lineno"> 3788</span> </div>
<div class="line"><span class="lineno"> 3789</span>            <span class="keywordflow">for</span> (j=0; j&lt;3; ++j)</div>
<div class="line"><span class="lineno"> 3790</span>                pr[j] = ((p[j] - coszd0 * uz[j]) / sinzd0)*sinzd + uz[j]*coszd;</div>
<div class="line"><span class="lineno"> 3791</span> </div>
<div class="line"><span class="lineno"> 3792</span>            proj = sqrt(pr[0]*pr[0] + pr[1]*pr[1]);</div>
<div class="line"><span class="lineno"> 3793</span>            <span class="keywordflow">if</span> (proj &gt; 0)</div>
<div class="line"><span class="lineno"> 3794</span>            {</div>
<div class="line"><span class="lineno"> 3795</span>                hor.<a class="code hl_variable" href="structastro__horizon__t.html#a8be5e63cf8fe54fbe7adb7fd34873529">ra</a> = atan2(pr[1], pr[0]) * (RAD2DEG / 15.0);</div>
<div class="line"><span class="lineno"> 3796</span>                <span class="keywordflow">if</span> (hor.<a class="code hl_variable" href="structastro__horizon__t.html#a8be5e63cf8fe54fbe7adb7fd34873529">ra</a> &lt; 0.0)</div>
<div class="line"><span class="lineno"> 3797</span>                    hor.<a class="code hl_variable" href="structastro__horizon__t.html#a8be5e63cf8fe54fbe7adb7fd34873529">ra</a> += 24.0;</div>
<div class="line"><span class="lineno"> 3798</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (hor.<a class="code hl_variable" href="structastro__horizon__t.html#a8be5e63cf8fe54fbe7adb7fd34873529">ra</a> &gt;= 24.0)</div>
<div class="line"><span class="lineno"> 3799</span>                    hor.<a class="code hl_variable" href="structastro__horizon__t.html#a8be5e63cf8fe54fbe7adb7fd34873529">ra</a> -= 24.0;</div>
<div class="line"><span class="lineno"> 3800</span>            }</div>
<div class="line"><span class="lineno"> 3801</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 3802</span>            {</div>
<div class="line"><span class="lineno"> 3803</span>                hor.<a class="code hl_variable" href="structastro__horizon__t.html#a8be5e63cf8fe54fbe7adb7fd34873529">ra</a> = 0.0;</div>
<div class="line"><span class="lineno"> 3804</span>            }</div>
<div class="line"><span class="lineno"> 3805</span>            hor.<a class="code hl_variable" href="structastro__horizon__t.html#a447f35e253764bd0b682d932794c9db9">dec</a> = atan2(pr[2], proj) * RAD2DEG;</div>
<div class="line"><span class="lineno"> 3806</span>        }</div>
<div class="line"><span class="lineno"> 3807</span>    }</div>
<div class="line"><span class="lineno"> 3808</span> </div>
<div class="line"><span class="lineno"> 3809</span>    hor.<a class="code hl_variable" href="structastro__horizon__t.html#afd850c814effd476340247474c5a13fc">azimuth</a> = az;</div>
<div class="line"><span class="lineno"> 3810</span>    hor.<a class="code hl_variable" href="structastro__horizon__t.html#aa92174981aa9e849fd9d148b94e248a2">altitude</a> = 90.0 - zd;</div>
<div class="line"><span class="lineno"> 3811</span>    <span class="keywordflow">return</span> hor;</div>
<div class="line"><span class="lineno"> 3812</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a3d5bc08ddb39c401a00a4d731f42c378"><div class="ttname"><a href="astronomy_8c.html#a3d5bc08ddb39c401a00a4d731f42c378">Astronomy_Refraction</a></div><div class="ttdeci">double Astronomy_Refraction(astro_refraction_t refraction, double altitude)</div><div class="ttdoc">Calculates the amount of &quot;lift&quot; to an altitude angle caused by atmospheric refraction.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06580">astronomy.c:6580</a></div></div>
<div class="ttc" id="astructastro__horizon__t_html"><div class="ttname"><a href="structastro__horizon__t.html">astro_horizon_t</a></div><div class="ttdoc">Coordinates of a celestial body as seen by a topocentric observer.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00284">astronomy.h:285</a></div></div>
<div class="ttc" id="astructastro__horizon__t_html_a447f35e253764bd0b682d932794c9db9"><div class="ttname"><a href="structastro__horizon__t.html#a447f35e253764bd0b682d932794c9db9">astro_horizon_t::dec</a></div><div class="ttdeci">double dec</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00289">astronomy.h:289</a></div></div>
<div class="ttc" id="astructastro__horizon__t_html_a8be5e63cf8fe54fbe7adb7fd34873529"><div class="ttname"><a href="structastro__horizon__t.html#a8be5e63cf8fe54fbe7adb7fd34873529">astro_horizon_t::ra</a></div><div class="ttdeci">double ra</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00288">astronomy.h:288</a></div></div>
<div class="ttc" id="astructastro__horizon__t_html_aa92174981aa9e849fd9d148b94e248a2"><div class="ttname"><a href="structastro__horizon__t.html#aa92174981aa9e849fd9d148b94e248a2">astro_horizon_t::altitude</a></div><div class="ttdeci">double altitude</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00287">astronomy.h:287</a></div></div>
<div class="ttc" id="astructastro__horizon__t_html_afd850c814effd476340247474c5a13fc"><div class="ttname"><a href="structastro__horizon__t.html#afd850c814effd476340247474c5a13fc">astro_horizon_t::azimuth</a></div><div class="ttdeci">double azimuth</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00286">astronomy.h:286</a></div></div>
<div class="ttc" id="astructastro__observer__t_html_a4ece76c5061138651f91cdc0a43fabea"><div class="ttname"><a href="structastro__observer__t.html#a4ece76c5061138651f91cdc0a43fabea">astro_observer_t::latitude</a></div><div class="ttdeci">double latitude</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00239">astronomy.h:239</a></div></div>
<div class="ttc" id="astructastro__observer__t_html_aa54800e341dd1fcdd8ae257f702c3872"><div class="ttname"><a href="structastro__observer__t.html#aa54800e341dd1fcdd8ae257f702c3872">astro_observer_t::longitude</a></div><div class="ttdeci">double longitude</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00240">astronomy.h:240</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00287">astro_horizon_t::altitude</a>, <a class="el" href="astronomy_8c_source.html#l06580">Astronomy_Refraction()</a>, <a class="el" href="astronomy_8h_source.html#l00286">astro_horizon_t::azimuth</a>, <a class="el" href="astronomy_8h_source.html#l00289">astro_horizon_t::dec</a>, <a class="el" href="astronomy_8h_source.html#l00239">astro_observer_t::latitude</a>, <a class="el" href="astronomy_8h_source.html#l00240">astro_observer_t::longitude</a>, <a class="el" href="astronomy_8h_source.html#l00288">astro_horizon_t::ra</a>, <a class="el" href="astronomy_8h_source.html#l00310">REFRACTION_JPLHOR</a> y <a class="el" href="astronomy_8h_source.html#l00309">REFRACTION_NORMAL</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l05049">Astronomy_SearchHourAngle()</a> y <a class="el" href="astronomy_8c_source.html#l08410">SunAltitude()</a>.</p>

</div>
</div>
<a id="aa0380e1f15614c76e902aa08debaf0b5" name="aa0380e1f15614c76e902aa08debaf0b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0380e1f15614c76e902aa08debaf0b5">&#9670;&#160;</a></span>Astronomy_HorizonFromVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__spherical__t.html">astro_spherical_t</a> Astronomy_HorizonFromVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__vector__t.html">astro_vector_t</a></td>          <td class="paramname"><span class="paramname"><em>vector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a></td>          <td class="paramname"><span class="paramname"><em>refraction</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts Cartesian coordinates to horizontal coordinates. </p>
<p>Given a horizontal Cartesian vector, returns horizontal azimuth and altitude.</p>
<p><em>IMPORTANT:</em> This function differs from <a class="el" href="astronomy_8c.html#a8ab761ac6b4efbf5ac97c99a8a13ceca" title="Converts Cartesian coordinates to spherical coordinates.">Astronomy_SphereFromVector</a> in two ways:</p><ul>
<li><span class="tt"><a class="el" href="astronomy_8c.html#a8ab761ac6b4efbf5ac97c99a8a13ceca" title="Converts Cartesian coordinates to spherical coordinates.">Astronomy_SphereFromVector</a></span> returns a <span class="tt">lon</span> value that represents azimuth defined counterclockwise from north (e.g., west = +90), but this function represents a clockwise rotation (e.g., east = +90). The difference is because <span class="tt"><a class="el" href="astronomy_8c.html#a8ab761ac6b4efbf5ac97c99a8a13ceca" title="Converts Cartesian coordinates to spherical coordinates.">Astronomy_SphereFromVector</a></span> is intended to preserve the vector "right-hand rule", while this function defines azimuth in a more traditional way as used in navigation and cartography.</li>
<li>This function optionally corrects for atmospheric refraction, while <span class="tt"><a class="el" href="astronomy_8c.html#a8ab761ac6b4efbf5ac97c99a8a13ceca" title="Converts Cartesian coordinates to spherical coordinates.">Astronomy_SphereFromVector</a></span> does not.</li>
</ul>
<p>The returned structure contains the azimuth in <span class="tt">lon</span>. It is measured in degrees clockwise from north: east = +90 degrees, west = +270 degrees.</p>
<p>The altitude is stored in <span class="tt">lat</span>.</p>
<p>The distance to the observed object is stored in <span class="tt">dist</span>, and is expressed in astronomical units (AU).</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>Cartesian vector to be converted to horizontal coordinates.</td></tr>
    <tr><td class="paramname">refraction</td><td><span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a></span>: correct altitude for atmospheric refraction (recommended). <span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6">REFRACTION_NONE</a></span>: no atmospheric refraction correction is performed. <span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26">REFRACTION_JPLHOR</a></span>: for JPL Horizons compatibility testing only; not recommended for normal use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, <span class="tt">status</span> holds <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the other fields are valid as described in the function remarks. Otherwise <span class="tt">status</span> holds an error code and the other fields are undefined. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06506">6506</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6507</span>{</div>
<div class="line"><span class="lineno"> 6508</span>    <a class="code hl_struct" href="structastro__spherical__t.html">astro_spherical_t</a> sphere;</div>
<div class="line"><span class="lineno"> 6509</span> </div>
<div class="line"><span class="lineno"> 6510</span>    sphere = <a class="code hl_function" href="astronomy_8c.html#a8ab761ac6b4efbf5ac97c99a8a13ceca">Astronomy_SphereFromVector</a>(vector);</div>
<div class="line"><span class="lineno"> 6511</span>    <span class="keywordflow">if</span> (sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a774e31cea2de2675b071afb066b07919">status</a> == <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6512</span>    {</div>
<div class="line"><span class="lineno"> 6513</span>        <span class="comment">/* Convert azimuth from counterclockwise-from-north to clockwise-from-north. */</span></div>
<div class="line"><span class="lineno"> 6514</span>        sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> = ToggleAzimuthDirection(sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a>);</div>
<div class="line"><span class="lineno"> 6515</span>        sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a> += <a class="code hl_function" href="astronomy_8c.html#a3d5bc08ddb39c401a00a4d731f42c378">Astronomy_Refraction</a>(refraction, sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a>);</div>
<div class="line"><span class="lineno"> 6516</span>    }</div>
<div class="line"><span class="lineno"> 6517</span> </div>
<div class="line"><span class="lineno"> 6518</span>    <span class="keywordflow">return</span> sphere;</div>
<div class="line"><span class="lineno"> 6519</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l06580">Astronomy_Refraction()</a>, <a class="el" href="astronomy_8c_source.html#l06371">Astronomy_SphereFromVector()</a>, <a class="el" href="astronomy_8h_source.html#l00184">astro_spherical_t::lat</a>, <a class="el" href="astronomy_8h_source.html#l00185">astro_spherical_t::lon</a> y <a class="el" href="astronomy_8h_source.html#l00183">astro_spherical_t::status</a>.</p>

</div>
</div>
<a id="a25bd01696c3a6cf73441364e007fb4f6" name="a25bd01696c3a6cf73441364e007fb4f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25bd01696c3a6cf73441364e007fb4f6">&#9670;&#160;</a></span>Astronomy_Illumination()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__illum__t.html">astro_illum_t</a> Astronomy_Illumination </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds visual magnitude, phase angle, and other illumination information about a celestial body. </p>
<p>This function calculates information about how bright a celestial body appears from the Earth, reported as visual magnitude, which is a smaller (or even negative) number for brighter objects and a larger number for dimmer objects.</p>
<p>For bodies other than the Sun, it reports a phase angle, which is the angle in degrees between the Sun and the Earth, as seen from the center of the body. Phase angle indicates what fraction of the body appears illuminated as seen from the Earth. For example, when the phase angle is near zero, it means the body appears "full" as seen from the Earth. A phase angle approaching 180 degrees means the body appears as a thin crescent as seen from the Earth. A phase angle of 90 degrees means the body appears "half full". For the Sun, the phase angle is always reported as 0; the Sun emits light rather than reflecting it, so it doesn't have a phase angle.</p>
<p>When the body is Saturn, the returned structure contains a field <span class="tt">ring_tilt</span> that holds the tilt angle in degrees of Saturn's rings as seen from the Earth. A value of 0 means the rings appear edge-on, and are thus nearly invisible from the Earth. The <span class="tt">ring_tilt</span> holds 0 for all bodies other than Saturn.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The Sun, Moon, or any planet other than the Earth.</td></tr>
    <tr><td class="paramname">time</td><td>The date and time of the observation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>On success, the <span class="tt">status</span> field of the return structure holds <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the other structure fields are valid. Any other value indicates an error, in which case the remaining structure fields are not valid. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l05450">5450</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5451</span>{</div>
<div class="line"><span class="lineno"> 5452</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> earth;   <span class="comment">/* vector from Sun to Earth */</span></div>
<div class="line"><span class="lineno"> 5453</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> hc;      <span class="comment">/* vector from Sun to body */</span></div>
<div class="line"><span class="lineno"> 5454</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> gc;      <span class="comment">/* vector from Earth to body */</span></div>
<div class="line"><span class="lineno"> 5455</span>    <span class="keywordtype">double</span> mag;             <span class="comment">/* visual magnitude */</span></div>
<div class="line"><span class="lineno"> 5456</span>    <a class="code hl_struct" href="structastro__angle__result__t.html">astro_angle_result_t</a> phase;     <span class="comment">/* phase angle in degrees between Earth and Sun as seen from body */</span></div>
<div class="line"><span class="lineno"> 5457</span>    <span class="keywordtype">double</span> helio_dist;      <span class="comment">/* distance from Sun to body */</span></div>
<div class="line"><span class="lineno"> 5458</span>    <span class="keywordtype">double</span> geo_dist;        <span class="comment">/* distance from Earth to body */</span></div>
<div class="line"><span class="lineno"> 5459</span>    <span class="keywordtype">double</span> ring_tilt = 0.0; <span class="comment">/* Saturn&#39;s ring tilt (0 for all other bodies) */</span></div>
<div class="line"><span class="lineno"> 5460</span>    <a class="code hl_struct" href="structastro__illum__t.html">astro_illum_t</a> illum;</div>
<div class="line"><span class="lineno"> 5461</span>    <a class="code hl_enumeration" href="#a3605f063314f858dec26db307c4e8214">astro_status_t</a> status;</div>
<div class="line"><span class="lineno"> 5462</span> </div>
<div class="line"><span class="lineno"> 5463</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>)</div>
<div class="line"><span class="lineno"> 5464</span>        <span class="keywordflow">return</span> IllumError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a>);</div>
<div class="line"><span class="lineno"> 5465</span> </div>
<div class="line"><span class="lineno"> 5466</span>    earth = CalcEarth(time);</div>
<div class="line"><span class="lineno"> 5467</span>    <span class="keywordflow">if</span> (earth.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5468</span>        <span class="keywordflow">return</span> IllumError(earth.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 5469</span> </div>
<div class="line"><span class="lineno"> 5470</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>)</div>
<div class="line"><span class="lineno"> 5471</span>    {</div>
<div class="line"><span class="lineno"> 5472</span>        gc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 5473</span>        gc.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = time;</div>
<div class="line"><span class="lineno"> 5474</span>        gc.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = -earth.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>;</div>
<div class="line"><span class="lineno"> 5475</span>        gc.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = -earth.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>;</div>
<div class="line"><span class="lineno"> 5476</span>        gc.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = -earth.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 5477</span> </div>
<div class="line"><span class="lineno"> 5478</span>        hc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 5479</span>        hc.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = time;</div>
<div class="line"><span class="lineno"> 5480</span>        hc.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = 0.0;</div>
<div class="line"><span class="lineno"> 5481</span>        hc.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = 0.0;</div>
<div class="line"><span class="lineno"> 5482</span>        hc.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = 0.0;</div>
<div class="line"><span class="lineno"> 5483</span> </div>
<div class="line"><span class="lineno"> 5484</span>        <span class="comment">/* The Sun emits light instead of reflecting it, */</span></div>
<div class="line"><span class="lineno"> 5485</span>        <span class="comment">/* so we report a placeholder phase angle of 0. */</span></div>
<div class="line"><span class="lineno"> 5486</span>        phase.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 5487</span>        phase.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a> = 0.0;</div>
<div class="line"><span class="lineno"> 5488</span>    }</div>
<div class="line"><span class="lineno"> 5489</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5490</span>    {</div>
<div class="line"><span class="lineno"> 5491</span>        <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>)</div>
<div class="line"><span class="lineno"> 5492</span>        {</div>
<div class="line"><span class="lineno"> 5493</span>            <span class="comment">/* For extra numeric precision, use geocentric Moon formula directly. */</span></div>
<div class="line"><span class="lineno"> 5494</span>            gc = <a class="code hl_function" href="astronomy_8c.html#ab45536d97a777cb7beab7d6814ed7d49">Astronomy_GeoMoon</a>(time);</div>
<div class="line"><span class="lineno"> 5495</span>            <span class="keywordflow">if</span> (gc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5496</span>                <span class="keywordflow">return</span> IllumError(gc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 5497</span> </div>
<div class="line"><span class="lineno"> 5498</span>            hc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 5499</span>            hc.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = time;</div>
<div class="line"><span class="lineno"> 5500</span>            hc.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = earth.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> + gc.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>;</div>
<div class="line"><span class="lineno"> 5501</span>            hc.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = earth.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> + gc.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>;</div>
<div class="line"><span class="lineno"> 5502</span>            hc.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = earth.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> + gc.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 5503</span>        }</div>
<div class="line"><span class="lineno"> 5504</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5505</span>        {</div>
<div class="line"><span class="lineno"> 5506</span>            <span class="comment">/* For planets, the heliocentric vector is more direct to calculate. */</span></div>
<div class="line"><span class="lineno"> 5507</span>            hc = <a class="code hl_function" href="astronomy_8c.html#a029bcfa06f5aabc5f8bbfc9e8ce42fbc">Astronomy_HelioVector</a>(body, time);</div>
<div class="line"><span class="lineno"> 5508</span>            <span class="keywordflow">if</span> (hc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5509</span>                <span class="keywordflow">return</span> IllumError(hc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 5510</span> </div>
<div class="line"><span class="lineno"> 5511</span>            gc.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 5512</span>            gc.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = time;</div>
<div class="line"><span class="lineno"> 5513</span>            gc.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = hc.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> - earth.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>;</div>
<div class="line"><span class="lineno"> 5514</span>            gc.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = hc.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> - earth.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>;</div>
<div class="line"><span class="lineno"> 5515</span>            gc.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = hc.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> - earth.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 5516</span>        }</div>
<div class="line"><span class="lineno"> 5517</span> </div>
<div class="line"><span class="lineno"> 5518</span>        phase = AngleBetween(gc, hc);</div>
<div class="line"><span class="lineno"> 5519</span>        <span class="keywordflow">if</span> (phase.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5520</span>            <span class="keywordflow">return</span> IllumError(phase.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 5521</span>    }</div>
<div class="line"><span class="lineno"> 5522</span> </div>
<div class="line"><span class="lineno"> 5523</span>    geo_dist = <a class="code hl_function" href="astronomy_8c.html#aee2ee032e87ca30739a4381ea67958c2">Astronomy_VectorLength</a>(gc);</div>
<div class="line"><span class="lineno"> 5524</span>    helio_dist = <a class="code hl_function" href="astronomy_8c.html#aee2ee032e87ca30739a4381ea67958c2">Astronomy_VectorLength</a>(hc);</div>
<div class="line"><span class="lineno"> 5525</span> </div>
<div class="line"><span class="lineno"> 5526</span>    <span class="keywordflow">switch</span> (body)</div>
<div class="line"><span class="lineno"> 5527</span>    {</div>
<div class="line"><span class="lineno"> 5528</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>:</div>
<div class="line"><span class="lineno"> 5529</span>        mag = -0.17 + 5.0*log10(geo_dist / AU_PER_PARSEC);</div>
<div class="line"><span class="lineno"> 5530</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5531</span> </div>
<div class="line"><span class="lineno"> 5532</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>:</div>
<div class="line"><span class="lineno"> 5533</span>        mag = MoonMagnitude(phase.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>, helio_dist, geo_dist);</div>
<div class="line"><span class="lineno"> 5534</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5535</span> </div>
<div class="line"><span class="lineno"> 5536</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a33b2e610fa5ec85a10dfb02526c685a3">BODY_SATURN</a>:</div>
<div class="line"><span class="lineno"> 5537</span>        status = SaturnMagnitude(phase.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>, helio_dist, geo_dist, gc, time, &amp;mag, &amp;ring_tilt);</div>
<div class="line"><span class="lineno"> 5538</span>        <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5539</span>            <span class="keywordflow">return</span> IllumError(status);</div>
<div class="line"><span class="lineno"> 5540</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5541</span> </div>
<div class="line"><span class="lineno"> 5542</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 5543</span>        status = VisualMagnitude(body, phase.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>, helio_dist, geo_dist, &amp;mag);</div>
<div class="line"><span class="lineno"> 5544</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5545</span>    }</div>
<div class="line"><span class="lineno"> 5546</span> </div>
<div class="line"><span class="lineno"> 5547</span>    illum.<a class="code hl_variable" href="structastro__illum__t.html#a2c5171551ffcd52a6f22de82f83f6e11">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 5548</span>    illum.<a class="code hl_variable" href="structastro__illum__t.html#af637ea2ce377bbe504dd3f76d71f160b">time</a> = time;</div>
<div class="line"><span class="lineno"> 5549</span>    illum.<a class="code hl_variable" href="structastro__illum__t.html#a4e869d8238236f3b0a6df0be1711abb6">mag</a> = mag;</div>
<div class="line"><span class="lineno"> 5550</span>    illum.<a class="code hl_variable" href="structastro__illum__t.html#afc4a65f7fe01c4198c95fd2265219046">phase_angle</a> = phase.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>;</div>
<div class="line"><span class="lineno"> 5551</span>    illum.<a class="code hl_variable" href="structastro__illum__t.html#a2b92ab3fcc89bc6d648433420c19da5d">helio_dist</a> = helio_dist;</div>
<div class="line"><span class="lineno"> 5552</span>    illum.<a class="code hl_variable" href="structastro__illum__t.html#a60be7a165fd30aaf279f335f882e39e9">ring_tilt</a> = ring_tilt;</div>
<div class="line"><span class="lineno"> 5553</span> </div>
<div class="line"><span class="lineno"> 5554</span>    <span class="keywordflow">return</span> illum;</div>
<div class="line"><span class="lineno"> 5555</span>}</div>
<div class="ttc" id="aastronomy_8h_html_a3605f063314f858dec26db307c4e8214"><div class="ttname"><a href="#a3605f063314f858dec26db307c4e8214">astro_status_t</a></div><div class="ttdeci">astro_status_t</div><div class="ttdoc">Indicates success/failure of an Astronomy Engine function call.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00042">astronomy.h:43</a></div></div>
<div class="ttc" id="astructastro__illum__t_html"><div class="ttname"><a href="structastro__illum__t.html">astro_illum_t</a></div><div class="ttdoc">Information about the brightness and illuminated shape of a celestial body.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00456">astronomy.h:457</a></div></div>
<div class="ttc" id="astructastro__illum__t_html_a2b92ab3fcc89bc6d648433420c19da5d"><div class="ttname"><a href="structastro__illum__t.html#a2b92ab3fcc89bc6d648433420c19da5d">astro_illum_t::helio_dist</a></div><div class="ttdeci">double helio_dist</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00462">astronomy.h:462</a></div></div>
<div class="ttc" id="astructastro__illum__t_html_a2c5171551ffcd52a6f22de82f83f6e11"><div class="ttname"><a href="structastro__illum__t.html#a2c5171551ffcd52a6f22de82f83f6e11">astro_illum_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00458">astronomy.h:458</a></div></div>
<div class="ttc" id="astructastro__illum__t_html_a4e869d8238236f3b0a6df0be1711abb6"><div class="ttname"><a href="structastro__illum__t.html#a4e869d8238236f3b0a6df0be1711abb6">astro_illum_t::mag</a></div><div class="ttdeci">double mag</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00460">astronomy.h:460</a></div></div>
<div class="ttc" id="astructastro__illum__t_html_a60be7a165fd30aaf279f335f882e39e9"><div class="ttname"><a href="structastro__illum__t.html#a60be7a165fd30aaf279f335f882e39e9">astro_illum_t::ring_tilt</a></div><div class="ttdeci">double ring_tilt</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00463">astronomy.h:463</a></div></div>
<div class="ttc" id="astructastro__illum__t_html_af637ea2ce377bbe504dd3f76d71f160b"><div class="ttname"><a href="structastro__illum__t.html#af637ea2ce377bbe504dd3f76d71f160b">astro_illum_t::time</a></div><div class="ttdeci">astro_time_t time</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00459">astronomy.h:459</a></div></div>
<div class="ttc" id="astructastro__illum__t_html_afc4a65f7fe01c4198c95fd2265219046"><div class="ttname"><a href="structastro__illum__t.html#afc4a65f7fe01c4198c95fd2265219046">astro_illum_t::phase_angle</a></div><div class="ttdeci">double phase_angle</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00461">astronomy.h:461</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00196">astro_angle_result_t::angle</a>, <a class="el" href="astronomy_8h_source.html#l00051">ASTRO_EARTH_NOT_ALLOWED</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l01875">Astronomy_GeoMoon()</a>, <a class="el" href="astronomy_8c_source.html#l03388">Astronomy_HelioVector()</a>, <a class="el" href="astronomy_8c_source.html#l00238">Astronomy_VectorLength()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00216">BODY_MOON</a>, <a class="el" href="astronomy_8h_source.html#l00211">BODY_SATURN</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00462">astro_illum_t::helio_dist</a>, <a class="el" href="astronomy_8h_source.html#l00460">astro_illum_t::mag</a>, <a class="el" href="astronomy_8h_source.html#l00461">astro_illum_t::phase_angle</a>, <a class="el" href="astronomy_8h_source.html#l00463">astro_illum_t::ring_tilt</a>, <a class="el" href="astronomy_8h_source.html#l00195">astro_angle_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00458">astro_illum_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00174">astro_vector_t::t</a>, <a class="el" href="astronomy_8h_source.html#l00459">astro_illum_t::time</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l05611">Astronomy_SearchPeakMagnitude()</a>.</p>

</div>
</div>
<a id="a67d9869912511c38214ee5a46a346205" name="a67d9869912511c38214ee5a46a346205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67d9869912511c38214ee5a46a346205">&#9670;&#160;</a></span>Astronomy_InverseRefraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Astronomy_InverseRefraction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a></td>          <td class="paramname"><span class="paramname"><em>refraction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>bent_altitude</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the inverse of an atmospheric refraction angle. </p>
<p>Given an observed altitude angle that includes atmospheric refraction, calculate the negative angular correction to obtain the unrefracted altitude. This is useful for cases where observed horizontal coordinates are to be converted to another orientation system, but refraction first must be removed from the observed position.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">refraction</td><td>The option selecting which refraction correction to use. See <a class="el" href="astronomy_8c.html#a3d5bc08ddb39c401a00a4d731f42c378" title="Calculates the amount of &quot;lift&quot; to an altitude angle caused by atmospheric refraction.">Astronomy_Refraction</a>.</td></tr>
    <tr><td class="paramname">bent_altitude</td><td>The apparent altitude that includes atmospheric refraction.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The angular adjustment in degrees to be added to the altitude angle to correct for atmospheric lensing. This will be less than or equal to zero. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06644">6644</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6645</span>{</div>
<div class="line"><span class="lineno"> 6646</span>    <span class="keywordtype">double</span> altitude, diff;</div>
<div class="line"><span class="lineno"> 6647</span> </div>
<div class="line"><span class="lineno"> 6648</span>    <span class="keywordflow">if</span> (bent_altitude &lt; -90.0 || bent_altitude &gt; +90.0)</div>
<div class="line"><span class="lineno"> 6649</span>        <span class="keywordflow">return</span> 0.0;     <span class="comment">/* no attempt to correct an invalid altitude */</span></div>
<div class="line"><span class="lineno"> 6650</span> </div>
<div class="line"><span class="lineno"> 6651</span>    <span class="comment">/* Find the pre-adjusted altitude whose refraction correction leads to &#39;altitude&#39;. */</span></div>
<div class="line"><span class="lineno"> 6652</span>    altitude = bent_altitude - <a class="code hl_function" href="astronomy_8c.html#a3d5bc08ddb39c401a00a4d731f42c378">Astronomy_Refraction</a>(refraction, bent_altitude);</div>
<div class="line"><span class="lineno"> 6653</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno"> 6654</span>    {</div>
<div class="line"><span class="lineno"> 6655</span>        <span class="comment">/* See how close we got. */</span></div>
<div class="line"><span class="lineno"> 6656</span>        diff = (altitude + <a class="code hl_function" href="astronomy_8c.html#a3d5bc08ddb39c401a00a4d731f42c378">Astronomy_Refraction</a>(refraction, altitude)) - bent_altitude;</div>
<div class="line"><span class="lineno"> 6657</span>        <span class="keywordflow">if</span> (fabs(diff) &lt; 1.0e-14)</div>
<div class="line"><span class="lineno"> 6658</span>            <span class="keywordflow">return</span> altitude - bent_altitude;</div>
<div class="line"><span class="lineno"> 6659</span> </div>
<div class="line"><span class="lineno"> 6660</span>        altitude -= diff;</div>
<div class="line"><span class="lineno"> 6661</span>    }</div>
<div class="line"><span class="lineno"> 6662</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06580">Astronomy_Refraction()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06543">Astronomy_VectorFromHorizon()</a>.</p>

</div>
</div>
<a id="a3edc238ee17d2639c006950bed61d1b4" name="a3edc238ee17d2639c006950bed61d1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3edc238ee17d2639c006950bed61d1b4">&#9670;&#160;</a></span>Astronomy_InverseRotation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_InverseRotation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a></td>          <td class="paramname"><span class="paramname"><em>rotation</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the inverse of a rotation matrix. </p>
<p>Given a rotation matrix that performs some coordinate transform, this function returns the matrix that reverses that trasnform.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">rotation</td><td>The rotation matrix to be inverted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that performs the opposite transformation. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06258">6258</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6259</span>{</div>
<div class="line"><span class="lineno"> 6260</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> inverse;</div>
<div class="line"><span class="lineno"> 6261</span> </div>
<div class="line"><span class="lineno"> 6262</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6263</span>        <span class="keywordflow">return</span> RotationErr(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 6264</span> </div>
<div class="line"><span class="lineno"> 6265</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6266</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][0] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[0][0];</div>
<div class="line"><span class="lineno"> 6267</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][1] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[1][0];</div>
<div class="line"><span class="lineno"> 6268</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][2] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[2][0];</div>
<div class="line"><span class="lineno"> 6269</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][0] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[0][1];</div>
<div class="line"><span class="lineno"> 6270</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][1] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[1][1];</div>
<div class="line"><span class="lineno"> 6271</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][2] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[2][1];</div>
<div class="line"><span class="lineno"> 6272</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][0] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[0][2];</div>
<div class="line"><span class="lineno"> 6273</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][1] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[1][2];</div>
<div class="line"><span class="lineno"> 6274</span>    inverse.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][2] = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[2][2];</div>
<div class="line"><span class="lineno"> 6275</span> </div>
<div class="line"><span class="lineno"> 6276</span>    <span class="keywordflow">return</span> inverse;</div>
<div class="line"><span class="lineno"> 6277</span>}</div>
<div class="ttc" id="aGC9A01__Rotation_8h_html_a2a6e541cd030366c98e526cb7790dff2"><div class="ttname"><a href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a></div><div class="ttdeci">rotation</div><div class="ttdef"><b>Definition</b> <a href="GC9A01__Rotation_8h_source.html#l00004">GC9A01_Rotation.h:4</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00299">astro_rotation_t::rot</a>, <a class="el" href="GC9A01__Rotation_8h_source.html#l00004">rotation</a> y <a class="el" href="astronomy_8h_source.html#l00298">astro_rotation_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06981">Astronomy_Rotation_ECL_EQD()</a>, <a class="el" href="astronomy_8c_source.html#l06933">Astronomy_Rotation_EQJ_HOR()</a>, <a class="el" href="astronomy_8c_source.html#l07034">Astronomy_Rotation_HOR_ECL()</a> y <a class="el" href="astronomy_8c_source.html#l06876">Astronomy_Rotation_HOR_EQD()</a>.</p>

</div>
</div>
<a id="a032fe0f03d2318de3a15d534474083ca" name="a032fe0f03d2318de3a15d534474083ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a032fe0f03d2318de3a15d534474083ca">&#9670;&#160;</a></span>Astronomy_LongitudeFromSun()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a> Astronomy_LongitudeFromSun </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a body's ecliptic longitude with respect to the Sun, as seen from the Earth. </p>
<p>This function can be used to determine where a planet appears around the ecliptic plane (the plane of the Earth's orbit around the Sun) as seen from the Earth, relative to the Sun's apparent position.</p>
<p>The angle starts at 0 when the body and the Sun are at the same ecliptic longitude as seen from the Earth. The angle increases in the prograde direction (the direction that the planets orbit the Sun and the Moon orbits the Earth).</p>
<p>When the angle is 180 degrees, it means the Sun and the body appear on opposite sides of the sky for an Earthly observer. When <span class="tt">body</span> is a planet whose orbit around the Sun is farther than the Earth's, 180 degrees indicates opposition. For the Moon, it indicates a full moon.</p>
<p>The angle keeps increasing up to 360 degrees as the body's apparent prograde motion continues relative to the Sun. When the angle reaches 360 degrees, it starts over at 0 degrees.</p>
<p>Values between 0 and 180 degrees indicate that the body is visible in the evening sky after sunset. Values between 180 degrees and 360 degrees indicate that the body is visible in the morning sky before sunrise.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The celestial body for which to find longitude from the Sun.</td></tr>
    <tr><td class="paramname">time</td><td>The date and time of the observation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>On success, the <span class="tt">status</span> field in the returned structure holds <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the <span class="tt">angle</span> field holds a value in the range [0, 360). On failure, the <span class="tt">status</span> field contains some other value indicating an error condition. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04654">4654</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4655</span>{</div>
<div class="line"><span class="lineno"> 4656</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> sv, bv;</div>
<div class="line"><span class="lineno"> 4657</span>    <a class="code hl_struct" href="structastro__ecliptic__t.html">astro_ecliptic_t</a> se, be;</div>
<div class="line"><span class="lineno"> 4658</span>    <a class="code hl_struct" href="structastro__angle__result__t.html">astro_angle_result_t</a> result;</div>
<div class="line"><span class="lineno"> 4659</span> </div>
<div class="line"><span class="lineno"> 4660</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>)</div>
<div class="line"><span class="lineno"> 4661</span>        <span class="keywordflow">return</span> AngleError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a>);</div>
<div class="line"><span class="lineno"> 4662</span> </div>
<div class="line"><span class="lineno"> 4663</span>    sv = <a class="code hl_function" href="astronomy_8c.html#a034ac9033b498171f708501d0adcc381">Astronomy_GeoVector</a>(<a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>, time, <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc">NO_ABERRATION</a>);</div>
<div class="line"><span class="lineno"> 4664</span>    se = <a class="code hl_function" href="astronomy_8c.html#aa0f1fd70009e4211ae82f28105bb72b9">Astronomy_Ecliptic</a>(sv);        <span class="comment">/* checks for errors in sv */</span></div>
<div class="line"><span class="lineno"> 4665</span>    <span class="keywordflow">if</span> (se.<a class="code hl_variable" href="structastro__ecliptic__t.html#ae3e7437e7a364d06845d8e58e65a2599">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4666</span>        <span class="keywordflow">return</span> AngleError(se.<a class="code hl_variable" href="structastro__ecliptic__t.html#ae3e7437e7a364d06845d8e58e65a2599">status</a>);</div>
<div class="line"><span class="lineno"> 4667</span> </div>
<div class="line"><span class="lineno"> 4668</span>    bv = <a class="code hl_function" href="astronomy_8c.html#a034ac9033b498171f708501d0adcc381">Astronomy_GeoVector</a>(body, time, <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6a7b31155db9252326c6b3ebab051f6fbc">NO_ABERRATION</a>);</div>
<div class="line"><span class="lineno"> 4669</span>    be = <a class="code hl_function" href="astronomy_8c.html#aa0f1fd70009e4211ae82f28105bb72b9">Astronomy_Ecliptic</a>(bv);        <span class="comment">/* checks for errors in bv */</span></div>
<div class="line"><span class="lineno"> 4670</span>    <span class="keywordflow">if</span> (be.<a class="code hl_variable" href="structastro__ecliptic__t.html#ae3e7437e7a364d06845d8e58e65a2599">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4671</span>        <span class="keywordflow">return</span> AngleError(be.<a class="code hl_variable" href="structastro__ecliptic__t.html#ae3e7437e7a364d06845d8e58e65a2599">status</a>);</div>
<div class="line"><span class="lineno"> 4672</span> </div>
<div class="line"><span class="lineno"> 4673</span>    result.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 4674</span>    result.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a> = NormalizeLongitude(be.<a class="code hl_variable" href="structastro__ecliptic__t.html#ad89a8adf33083aff212ca79a98ae92c3">elon</a> - se.<a class="code hl_variable" href="structastro__ecliptic__t.html#ad89a8adf33083aff212ca79a98ae92c3">elon</a>);</div>
<div class="line"><span class="lineno"> 4675</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 4676</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00196">astro_angle_result_t::angle</a>, <a class="el" href="astronomy_8h_source.html#l00051">ASTRO_EARTH_NOT_ALLOWED</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l03883">Astronomy_Ecliptic()</a>, <a class="el" href="astronomy_8c_source.html#l03520">Astronomy_GeoVector()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00273">astro_ecliptic_t::elon</a>, <a class="el" href="astronomy_8h_source.html#l00708">NO_ABERRATION</a>, <a class="el" href="astronomy_8h_source.html#l00195">astro_angle_result_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00268">astro_ecliptic_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l04405">Astronomy_Elongation()</a> y <a class="el" href="astronomy_8c_source.html#l04702">Astronomy_MoonPhase()</a>.</p>

</div>
</div>
<a id="aa7f8314916665a647df682f28d425b3a" name="aa7f8314916665a647df682f28d425b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7f8314916665a647df682f28d425b3a">&#9670;&#160;</a></span>Astronomy_MakeObserver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__observer__t.html">astro_observer_t</a> Astronomy_MakeObserver </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>latitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>longitude</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>height</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an observer object that represents a location on or near the surface of the Earth. </p>
<p>Some Astronomy Engine functions calculate values pertaining to an observer on the Earth. These functions require a value of type <a class="el" href="structastro__observer__t.html" title="The location of an observer on (or near) the surface of the Earth.">astro_observer_t</a> that represents the location of such an observer.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">latitude</td><td>The geographic latitude of the observer in degrees north (positive) or south (negative) of the equator. </td></tr>
    <tr><td class="paramname">longitude</td><td>The geographic longitude of the observer in degrees east (positive) or west (negative) of the prime meridian at Greenwich, England. </td></tr>
    <tr><td class="paramname">height</td><td>The height of the observer in meters above mean sea level. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>An observer object that can be passed to astronomy functions that require a geographic location. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l01046">1046</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1047</span>{</div>
<div class="line"><span class="lineno"> 1048</span>    <a class="code hl_struct" href="structastro__observer__t.html">astro_observer_t</a> observer;</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>    observer.<a class="code hl_variable" href="structastro__observer__t.html#a4ece76c5061138651f91cdc0a43fabea">latitude</a> = latitude;</div>
<div class="line"><span class="lineno"> 1051</span>    observer.<a class="code hl_variable" href="structastro__observer__t.html#aa54800e341dd1fcdd8ae257f702c3872">longitude</a> = longitude;</div>
<div class="line"><span class="lineno"> 1052</span>    observer.<a class="code hl_variable" href="structastro__observer__t.html#aed0ae0473aa7ad733819288803fbff0b">height</a> = height;</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keywordflow">return</span> observer;</div>
<div class="line"><span class="lineno"> 1055</span>}</div>
<div class="ttc" id="astructastro__observer__t_html"><div class="ttname"><a href="structastro__observer__t.html">astro_observer_t</a></div><div class="ttdoc">The location of an observer on (or near) the surface of the Earth.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00237">astronomy.h:238</a></div></div>
<div class="ttc" id="astructastro__observer__t_html_aed0ae0473aa7ad733819288803fbff0b"><div class="ttname"><a href="structastro__observer__t.html#aed0ae0473aa7ad733819288803fbff0b">astro_observer_t::height</a></div><div class="ttdeci">double height</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00241">astronomy.h:241</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00241">astro_observer_t::height</a>, <a class="el" href="astronomy_8h_source.html#l00239">astro_observer_t::latitude</a> y <a class="el" href="astronomy_8h_source.html#l00240">astro_observer_t::longitude</a>.</p>

</div>
</div>
<a id="a7a11e32bba1bcfd2970a7aebc1672a17" name="a7a11e32bba1bcfd2970a7aebc1672a17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a11e32bba1bcfd2970a7aebc1672a17">&#9670;&#160;</a></span>Astronomy_MakeTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__time__t.html">astro_time_t</a> Astronomy_MakeTime </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>year</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>month</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>day</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>hour</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>minute</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>second</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value from a given calendar date and time. </p>
<p>Given a UTC calendar date and time, calculates an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value that can be passed to other Astronomy Engine functions for performing various calculations relating to that date and time.</p>
<p>It is the caller's responsibility to ensure that the parameter values are correct. The parameters are not checked for validity, and this function never returns any indication of an error. Invalid values, for example passing in February 31, may cause unexpected return values.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>The UTC calendar year, e.g. 2019. </td></tr>
    <tr><td class="paramname">month</td><td>The UTC calendar month in the range 1..12. </td></tr>
    <tr><td class="paramname">day</td><td>The UTC calendar day in the range 1..31. </td></tr>
    <tr><td class="paramname">hour</td><td>The UTC hour of the day in the range 0..23. </td></tr>
    <tr><td class="paramname">minute</td><td>The UTC minute in the range 0..59. </td></tr>
    <tr><td class="paramname">second</td><td>The UTC floating-point second in the range [0, 60).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>An <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value that represents the given calendar date and time. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00775">775</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  776</span>{</div>
<div class="line"><span class="lineno">  777</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> time;</div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordtype">long</span> <span class="keywordtype">int</span> jd12h;</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordtype">long</span> <span class="keywordtype">int</span> y2000;</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>    <span class="comment">/* This formula is adapted from NOVAS C 3.1 function julian_date() */</span></div>
<div class="line"><span class="lineno">  782</span>    jd12h = (long) day - 32075L + 1461L * ((<span class="keywordtype">long</span>) year + 4800L</div>
<div class="line"><span class="lineno">  783</span>        + ((<span class="keywordtype">long</span>) month - 14L) / 12L) / 4L</div>
<div class="line"><span class="lineno">  784</span>        + 367L * ((long) month - 2L - ((long) month - 14L) / 12L * 12L)</div>
<div class="line"><span class="lineno">  785</span>        / 12L - 3L * (((<span class="keywordtype">long</span>) year + 4900L + ((<span class="keywordtype">long</span>) month - 14L) / 12L)</div>
<div class="line"><span class="lineno">  786</span>        / 100L) / 4L;</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    y2000 = jd12h - 2451545L;</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>    time.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> = (double)y2000 - 0.5 + (hour / 24.0) + (minute / (24.0 * 60.0)) + (second / (24.0 * 3600.0));</div>
<div class="line"><span class="lineno">  791</span>    time.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> = TerrestrialTime(time.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>);</div>
<div class="line"><span class="lineno">  792</span>    time.<a class="code hl_variable" href="structastro__time__t.html#a1daf4ea6e4bc7991cc9a204645eac5e8">psi</a> = time.<a class="code hl_variable" href="structastro__time__t.html#a5143fb2fa0c35eef45a919e8709684d5">eps</a> = NAN;</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    <span class="keywordflow">return</span> time;</div>
<div class="line"><span class="lineno">  795</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00147">astro_time_t::eps</a>, <a class="el" href="astronomy_8h_source.html#l00142">astro_time_t::psi</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a> y <a class="el" href="astronomy_8h_source.html#l00121">astro_time_t::ut</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l00846">Astronomy_TimeFromUtc()</a>.</p>

</div>
</div>
<a id="ab76d11c320a6cbf0ba27f8884587cc6b" name="ab76d11c320a6cbf0ba27f8884587cc6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab76d11c320a6cbf0ba27f8884587cc6b">&#9670;&#160;</a></span>Astronomy_MoonPhase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__angle__result__t.html">astro_angle_result_t</a> Astronomy_MoonPhase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the Moon's phase as an angle from 0 to 360 degrees. </p>
<p>This function determines the phase of the Moon using its apparent ecliptic longitude relative to the Sun, as seen from the center of the Earth. Certain values of the angle have conventional definitions:</p>
<ul>
<li>0 = new moon</li>
<li>90 = first quarter</li>
<li>180 = full moon</li>
<li>270 = third quarter</li>
</ul>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time of the observation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>On success, the function returns the angle as described in the function remarks in the <span class="tt">angle</span> field and <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> in the <span class="tt">status</span> field. The function should always succeed, but it is a good idea for callers to check the <span class="tt">status</span> field in the returned structure. Any other value in <span class="tt">status</span> indicates a failure that should be <a href="https://github.com/cosinekitty/astronomy/issues">reported as an issue</a>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04702">4702</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4703</span>{</div>
<div class="line"><span class="lineno"> 4704</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a032fe0f03d2318de3a15d534474083ca">Astronomy_LongitudeFromSun</a>(<a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>, time);</div>
<div class="line"><span class="lineno"> 4705</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l04654">Astronomy_LongitudeFromSun()</a> y <a class="el" href="astronomy_8h_source.html#l00216">BODY_MOON</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l04813">Astronomy_SearchMoonQuarter()</a>.</p>

</div>
</div>
<a id="a71ca6bd3b05448fe0a0fb35460140391" name="a71ca6bd3b05448fe0a0fb35460140391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71ca6bd3b05448fe0a0fb35460140391">&#9670;&#160;</a></span>Astronomy_NextGlobalSolarEclipse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__global__solar__eclipse__t.html">astro_global_solar_eclipse_t</a> Astronomy_NextGlobalSolarEclipse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>prevEclipseTime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the next global solar eclipse in a series. </p>
<p>After using <a class="el" href="astronomy_8c.html#ac1506481ab4a41d67b5e3db3ba0f4d61" title="Searches for a solar eclipse visible anywhere on the Earth&#39;s surface.">Astronomy_SearchGlobalSolarEclipse</a> to find the first solar eclipse in a series, you can call this function to find the next consecutive solar eclipse. Pass in the <span class="tt">peak</span> value from the <a class="el" href="structastro__global__solar__eclipse__t.html" title="Reports the time and geographic location of the peak of a solar eclipse.">astro_global_solar_eclipse_t</a> returned by the previous call to <span class="tt"><a class="el" href="astronomy_8c.html#ac1506481ab4a41d67b5e3db3ba0f4d61" title="Searches for a solar eclipse visible anywhere on the Earth&#39;s surface.">Astronomy_SearchGlobalSolarEclipse</a></span> or <span class="tt"><a class="el" href="astronomy_8c.html#a71ca6bd3b05448fe0a0fb35460140391" title="Searches for the next global solar eclipse in a series.">Astronomy_NextGlobalSolarEclipse</a></span> to find the next solar eclipse.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">prevEclipseTime</td><td>A date and time near a new moon. Solar eclipse search will start at the next new moon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure will contain <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the remaining structure fields are as described in <a class="el" href="structastro__global__solar__eclipse__t.html" title="Reports the time and geographic location of the peak of a solar eclipse.">astro_global_solar_eclipse_t</a>. Any other value indicates an error. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l08260">8260</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8261</span>{</div>
<div class="line"><span class="lineno"> 8262</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> startTime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(prevEclipseTime, 10.0);</div>
<div class="line"><span class="lineno"> 8263</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#ac1506481ab4a41d67b5e3db3ba0f4d61">Astronomy_SearchGlobalSolarEclipse</a>(startTime);</div>
<div class="line"><span class="lineno"> 8264</span>}</div>
<div class="ttc" id="aastronomy_8c_html_ac1506481ab4a41d67b5e3db3ba0f4d61"><div class="ttname"><a href="astronomy_8c.html#ac1506481ab4a41d67b5e3db3ba0f4d61">Astronomy_SearchGlobalSolarEclipse</a></div><div class="ttdeci">astro_global_solar_eclipse_t Astronomy_SearchGlobalSolarEclipse(astro_time_t startTime)</div><div class="ttdoc">Searches for a solar eclipse visible anywhere on the Earth&#39;s surface.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l08197">astronomy.c:8197</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a> y <a class="el" href="astronomy_8c_source.html#l08197">Astronomy_SearchGlobalSolarEclipse()</a>.</p>

</div>
</div>
<a id="af80a1f2856c22f187e324fa1015dbf2d" name="af80a1f2856c22f187e324fa1015dbf2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80a1f2856c22f187e324fa1015dbf2d">&#9670;&#160;</a></span>Astronomy_NextLocalSolarEclipse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__local__solar__eclipse__t.html">astro_local_solar_eclipse_t</a> Astronomy_NextLocalSolarEclipse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>prevEclipseTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the next local solar eclipse in a series. </p>
<p>After using <a class="el" href="astronomy_8c.html#ab4b7afe904907d32ec6f4bb0fa0150e1" title="Searches for a solar eclipse visible at a specific location on the Earth&#39;s surface.">Astronomy_SearchLocalSolarEclipse</a> to find the first solar eclipse in a series, you can call this function to find the next consecutive solar eclipse. Pass in the <span class="tt">peak</span> value from the <a class="el" href="structastro__local__solar__eclipse__t.html" title="Information about a solar eclipse as seen by an observer at a given time and geographic location.">astro_local_solar_eclipse_t</a> returned by the previous call to <span class="tt"><a class="el" href="astronomy_8c.html#ab4b7afe904907d32ec6f4bb0fa0150e1" title="Searches for a solar eclipse visible at a specific location on the Earth&#39;s surface.">Astronomy_SearchLocalSolarEclipse</a></span> or <span class="tt"><a class="el" href="astronomy_8c.html#af80a1f2856c22f187e324fa1015dbf2d" title="Searches for the next local solar eclipse in a series.">Astronomy_NextLocalSolarEclipse</a></span> to find the next solar eclipse.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">prevEclipseTime</td><td>A date and time near a new moon. Solar eclipse search will start at the next new moon.</td></tr>
    <tr><td class="paramname">observer</td><td>The geographic location of the observer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure will contain <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the remaining structure fields are as described in <a class="el" href="structastro__local__solar__eclipse__t.html" title="Information about a solar eclipse as seen by an observer at a given time and geographic location.">astro_local_solar_eclipse_t</a>. Any other value indicates an error. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l08625">8625</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8628</span>{</div>
<div class="line"><span class="lineno"> 8629</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> startTime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(prevEclipseTime, 10.0);</div>
<div class="line"><span class="lineno"> 8630</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#ab4b7afe904907d32ec6f4bb0fa0150e1">Astronomy_SearchLocalSolarEclipse</a>(startTime, observer);</div>
<div class="line"><span class="lineno"> 8631</span>}</div>
<div class="ttc" id="aastronomy_8c_html_ab4b7afe904907d32ec6f4bb0fa0150e1"><div class="ttname"><a href="astronomy_8c.html#ab4b7afe904907d32ec6f4bb0fa0150e1">Astronomy_SearchLocalSolarEclipse</a></div><div class="ttdeci">astro_local_solar_eclipse_t Astronomy_SearchLocalSolarEclipse(astro_time_t startTime, astro_observer_t observer)</div><div class="ttdoc">Searches for a solar eclipse visible at a specific location on the Earth&#39;s surface.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l08552">astronomy.c:8552</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a> y <a class="el" href="astronomy_8c_source.html#l08552">Astronomy_SearchLocalSolarEclipse()</a>.</p>

</div>
</div>
<a id="ad11d7f8389aeb1d50320d4d958a22c73" name="ad11d7f8389aeb1d50320d4d958a22c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad11d7f8389aeb1d50320d4d958a22c73">&#9670;&#160;</a></span>Astronomy_NextLunarApsis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a> Astronomy_NextLunarApsis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a></td>          <td class="paramname"><span class="paramname"><em>apsis</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the next lunar perigee or apogee event in a series. </p>
<p>This function requires an <a class="el" href="structastro__apsis__t.html" title="An apsis event: pericenter (closest approach) or apocenter (farthest distance).">astro_apsis_t</a> value obtained from a call to <a class="el" href="astronomy_8c.html#ac7f2980f796f36f7c2b657efa494f9a5" title="Finds the date and time of the Moon&#39;s closest distance (perigee) or farthest distance (apogee) with r...">Astronomy_SearchLunarApsis</a> or <span class="tt"><a class="el" href="astronomy_8c.html#ad11d7f8389aeb1d50320d4d958a22c73" title="Finds the next lunar perigee or apogee event in a series.">Astronomy_NextLunarApsis</a></span>. Given an apogee event, this function finds the next perigee event, and vice versa.</p>
<p>See <a class="el" href="astronomy_8c.html#ac7f2980f796f36f7c2b657efa494f9a5" title="Finds the date and time of the Moon&#39;s closest distance (perigee) or farthest distance (apogee) with r...">Astronomy_SearchLunarApsis</a> for more details.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">apsis</td><td>An apsis event obtained from a call to <a class="el" href="astronomy_8c.html#ac7f2980f796f36f7c2b657efa494f9a5" title="Finds the date and time of the Moon&#39;s closest distance (perigee) or farthest distance (apogee) with r...">Astronomy_SearchLunarApsis</a> or <span class="tt"><a class="el" href="astronomy_8c.html#ad11d7f8389aeb1d50320d4d958a22c73" title="Finds the next lunar perigee or apogee event in a series.">Astronomy_NextLunarApsis</a></span>. See <a class="el" href="astronomy_8c.html#ac7f2980f796f36f7c2b657efa494f9a5" title="Finds the date and time of the Moon&#39;s closest distance (perigee) or farthest distance (apogee) with r...">Astronomy_SearchLunarApsis</a> for more details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Same as the return value for <a class="el" href="astronomy_8c.html#ac7f2980f796f36f7c2b657efa494f9a5" title="Finds the date and time of the Moon&#39;s closest distance (perigee) or farthest distance (apogee) with r...">Astronomy_SearchLunarApsis</a>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l05872">5872</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5873</span>{</div>
<div class="line"><span class="lineno"> 5874</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> skip = 11.0;    <span class="comment">/* number of days to skip to start looking for next apsis event */</span></div>
<div class="line"><span class="lineno"> 5875</span>    <a class="code hl_struct" href="structastro__apsis__t.html">astro_apsis_t</a> next;</div>
<div class="line"><span class="lineno"> 5876</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> time;</div>
<div class="line"><span class="lineno"> 5877</span> </div>
<div class="line"><span class="lineno"> 5878</span>    <span class="keywordflow">if</span> (apsis.<a class="code hl_variable" href="structastro__apsis__t.html#ac65536f8f131c7bf91ae2d5744666247">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5879</span>        <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 5880</span> </div>
<div class="line"><span class="lineno"> 5881</span>    <span class="keywordflow">if</span> (apsis.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> != <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a> &amp;&amp; apsis.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> != <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a>)</div>
<div class="line"><span class="lineno"> 5882</span>        <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 5883</span> </div>
<div class="line"><span class="lineno"> 5884</span>    time = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(apsis.<a class="code hl_variable" href="structastro__apsis__t.html#a3c22db68e225d218c54f401952b63516">time</a>, skip);</div>
<div class="line"><span class="lineno"> 5885</span>    next = <a class="code hl_function" href="astronomy_8c.html#ac7f2980f796f36f7c2b657efa494f9a5">Astronomy_SearchLunarApsis</a>(time);</div>
<div class="line"><span class="lineno"> 5886</span>    <span class="keywordflow">if</span> (next.<a class="code hl_variable" href="structastro__apsis__t.html#ac65536f8f131c7bf91ae2d5744666247">status</a> == <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5887</span>    {</div>
<div class="line"><span class="lineno"> 5888</span>        <span class="comment">/* Verify that we found the opposite apsis from the previous one. */</span></div>
<div class="line"><span class="lineno"> 5889</span>        <span class="keywordflow">if</span> (next.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> + apsis.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> != 1)</div>
<div class="line"><span class="lineno"> 5890</span>            <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno"> 5891</span>    }</div>
<div class="line"><span class="lineno"> 5892</span>    <span class="keywordflow">return</span> next;</div>
<div class="line"><span class="lineno"> 5893</span>}</div>
<div class="ttc" id="aastronomy_8c_html_ac7f2980f796f36f7c2b657efa494f9a5"><div class="ttname"><a href="astronomy_8c.html#ac7f2980f796f36f7c2b657efa494f9a5">Astronomy_SearchLunarApsis</a></div><div class="ttdeci">astro_apsis_t Astronomy_SearchLunarApsis(astro_time_t startTime)</div><div class="ttdoc">Finds the date and time of the Moon&#39;s closest distance (perigee) or farthest distance (apogee) with r...</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l05778">astronomy.c:5778</a></div></div>
<div class="ttc" id="astructastro__apsis__t_html"><div class="ttname"><a href="structastro__apsis__t.html">astro_apsis_t</a></div><div class="ttdoc">An apsis event: pericenter (closest approach) or apocenter (farthest distance).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00493">astronomy.h:494</a></div></div>
<div class="ttc" id="astructastro__apsis__t_html_a2bf33f8d08caf0eaf226539c22dceb09"><div class="ttname"><a href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">astro_apsis_t::kind</a></div><div class="ttdeci">astro_apsis_kind_t kind</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00497">astronomy.h:497</a></div></div>
<div class="ttc" id="astructastro__apsis__t_html_a3c22db68e225d218c54f401952b63516"><div class="ttname"><a href="structastro__apsis__t.html#a3c22db68e225d218c54f401952b63516">astro_apsis_t::time</a></div><div class="ttdeci">astro_time_t time</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00496">astronomy.h:496</a></div></div>
<div class="ttc" id="astructastro__apsis__t_html_ac65536f8f131c7bf91ae2d5744666247"><div class="ttname"><a href="structastro__apsis__t.html#ac65536f8f131c7bf91ae2d5744666247">astro_apsis_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00495">astronomy.h:495</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00473">APSIS_APOCENTER</a>, <a class="el" href="astronomy_8h_source.html#l00472">APSIS_PERICENTER</a>, <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l05778">Astronomy_SearchLunarApsis()</a>, <a class="el" href="astronomy_8h_source.html#l00497">astro_apsis_t::kind</a>, <a class="el" href="astronomy_8h_source.html#l00495">astro_apsis_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00496">astro_apsis_t::time</a>.</p>

</div>
</div>
<a id="a7f18a085f498a9cb2ea46804961cb9f2" name="a7f18a085f498a9cb2ea46804961cb9f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f18a085f498a9cb2ea46804961cb9f2">&#9670;&#160;</a></span>Astronomy_NextLunarEclipse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__lunar__eclipse__t.html">astro_lunar_eclipse_t</a> Astronomy_NextLunarEclipse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>prevEclipseTime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the next lunar eclipse in a series. </p>
<p>After using <a class="el" href="astronomy_8c.html#abd507e53fe2f3dd32ae125825dcd0310" title="Searches for a lunar eclipse.">Astronomy_SearchLunarEclipse</a> to find the first lunar eclipse in a series, you can call this function to find the next consecutive lunar eclipse. Pass in the <span class="tt">peak</span> value from the <a class="el" href="structastro__lunar__eclipse__t.html" title="Information about a lunar eclipse.">astro_lunar_eclipse_t</a> returned by the previous call to <span class="tt"><a class="el" href="astronomy_8c.html#abd507e53fe2f3dd32ae125825dcd0310" title="Searches for a lunar eclipse.">Astronomy_SearchLunarEclipse</a></span> or <span class="tt"><a class="el" href="astronomy_8c.html#a7f18a085f498a9cb2ea46804961cb9f2" title="Searches for the next lunar eclipse in a series.">Astronomy_NextLunarEclipse</a></span> to find the next lunar eclipse.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">prevEclipseTime</td><td>A date and time near a full moon. Lunar eclipse search will start at the next full moon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure will contain <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the remaining structure fields will be valid. Any other value indicates an error. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l08033">8033</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8034</span>{</div>
<div class="line"><span class="lineno"> 8035</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> startTime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(prevEclipseTime, 10.0);</div>
<div class="line"><span class="lineno"> 8036</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#abd507e53fe2f3dd32ae125825dcd0310">Astronomy_SearchLunarEclipse</a>(startTime);</div>
<div class="line"><span class="lineno"> 8037</span>}</div>
<div class="ttc" id="aastronomy_8c_html_abd507e53fe2f3dd32ae125825dcd0310"><div class="ttname"><a href="astronomy_8c.html#abd507e53fe2f3dd32ae125825dcd0310">Astronomy_SearchLunarEclipse</a></div><div class="ttdeci">astro_lunar_eclipse_t Astronomy_SearchLunarEclipse(astro_time_t startTime)</div><div class="ttdoc">Searches for a lunar eclipse.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l07945">astronomy.c:7945</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a> y <a class="el" href="astronomy_8c_source.html#l07945">Astronomy_SearchLunarEclipse()</a>.</p>

</div>
</div>
<a id="a8afb350495d15af59c428039676a60c3" name="a8afb350495d15af59c428039676a60c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8afb350495d15af59c428039676a60c3">&#9670;&#160;</a></span>Astronomy_NextMoonQuarter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a> Astronomy_NextMoonQuarter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a></td>          <td class="paramname"><span class="paramname"><em>mq</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Continues searching for lunar quarters from a previous search. </p>
<p>After calling <a class="el" href="astronomy_8c.html#a6b711ffea7ca8c3fda84e8b852afbfcc" title="Finds the first lunar quarter after the specified date and time.">Astronomy_SearchMoonQuarter</a>, this function can be called one or more times to continue finding consecutive lunar quarters. This function finds the next consecutive moon quarter event after the one passed in as the parameter <span class="tt">mq</span>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">mq</td><td>A value returned by a prior call to <a class="el" href="astronomy_8c.html#a6b711ffea7ca8c3fda84e8b852afbfcc" title="Finds the first lunar quarter after the specified date and time.">Astronomy_SearchMoonQuarter</a> or <a class="el" href="astronomy_8c.html#a8afb350495d15af59c428039676a60c3" title="Continues searching for lunar quarters from a previous search.">Astronomy_NextMoonQuarter</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If <span class="tt">mq</span> is valid, this function should always succeed, indicated by the <span class="tt">status</span> field in the returned structure holding <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>. Any other value indicates an internal error, which (after confirming that <span class="tt">mq</span> is valid) should be <a href="https://github.com/cosinekitty/astronomy/issues">reported as an issue</a>. To be safe, calling code should always check the <span class="tt">status</span> field for errors. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04852">4852</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4853</span>{</div>
<div class="line"><span class="lineno"> 4854</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> time;</div>
<div class="line"><span class="lineno"> 4855</span>    <a class="code hl_struct" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a> next_mq;</div>
<div class="line"><span class="lineno"> 4856</span> </div>
<div class="line"><span class="lineno"> 4857</span>    <span class="keywordflow">if</span> (mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#acd7a098d48ed7c5ab904744b988b5414">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4858</span>        <span class="keywordflow">return</span> MoonQuarterError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 4859</span> </div>
<div class="line"><span class="lineno"> 4860</span>    <span class="comment">/* Skip 6 days past the previous found moon quarter to find the next one. */</span></div>
<div class="line"><span class="lineno"> 4861</span>    <span class="comment">/* This is less than the minimum possible increment. */</span></div>
<div class="line"><span class="lineno"> 4862</span>    <span class="comment">/* So far I have seen the interval well contained by the range (6.5, 8.3) days. */</span></div>
<div class="line"><span class="lineno"> 4863</span> </div>
<div class="line"><span class="lineno"> 4864</span>    time = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#ae726bcbd11b18a504d9e619df91d6c64">time</a>, 6.0);</div>
<div class="line"><span class="lineno"> 4865</span>    next_mq = <a class="code hl_function" href="astronomy_8c.html#a6b711ffea7ca8c3fda84e8b852afbfcc">Astronomy_SearchMoonQuarter</a>(time);</div>
<div class="line"><span class="lineno"> 4866</span>    <span class="keywordflow">if</span> (next_mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#acd7a098d48ed7c5ab904744b988b5414">status</a> == <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4867</span>    {</div>
<div class="line"><span class="lineno"> 4868</span>        <span class="comment">/* Verify that we found the expected moon quarter. */</span></div>
<div class="line"><span class="lineno"> 4869</span>        <span class="keywordflow">if</span> (next_mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#acf3ebb2207eb4d23f3be53302a70dcb5">quarter</a> != (1 + mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#acf3ebb2207eb4d23f3be53302a70dcb5">quarter</a>) % 4)</div>
<div class="line"><span class="lineno"> 4870</span>            <span class="keywordflow">return</span> MoonQuarterError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ac17d6f0981aaa1fe114c6da5d86c60e6">ASTRO_WRONG_MOON_QUARTER</a>);  <span class="comment">/* internal error! we found the wrong moon quarter */</span></div>
<div class="line"><span class="lineno"> 4871</span>    }</div>
<div class="line"><span class="lineno"> 4872</span>    <span class="keywordflow">return</span> next_mq;</div>
<div class="line"><span class="lineno"> 4873</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a6b711ffea7ca8c3fda84e8b852afbfcc"><div class="ttname"><a href="astronomy_8c.html#a6b711ffea7ca8c3fda84e8b852afbfcc">Astronomy_SearchMoonQuarter</a></div><div class="ttdeci">astro_moon_quarter_t Astronomy_SearchMoonQuarter(astro_time_t startTime)</div><div class="ttdoc">Finds the first lunar quarter after the specified date and time.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l04813">astronomy.c:4813</a></div></div>
<div class="ttc" id="astructastro__moon__quarter__t_html"><div class="ttname"><a href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a></div><div class="ttdoc">A lunar quarter event (new moon, first quarter, full moon, or third quarter) along with its date and ...</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00342">astronomy.h:343</a></div></div>
<div class="ttc" id="astructastro__moon__quarter__t_html_acd7a098d48ed7c5ab904744b988b5414"><div class="ttname"><a href="structastro__moon__quarter__t.html#acd7a098d48ed7c5ab904744b988b5414">astro_moon_quarter_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00344">astronomy.h:344</a></div></div>
<div class="ttc" id="astructastro__moon__quarter__t_html_acf3ebb2207eb4d23f3be53302a70dcb5"><div class="ttname"><a href="structastro__moon__quarter__t.html#acf3ebb2207eb4d23f3be53302a70dcb5">astro_moon_quarter_t::quarter</a></div><div class="ttdeci">int quarter</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00345">astronomy.h:345</a></div></div>
<div class="ttc" id="astructastro__moon__quarter__t_html_ae726bcbd11b18a504d9e619df91d6c64"><div class="ttname"><a href="structastro__moon__quarter__t.html#ae726bcbd11b18a504d9e619df91d6c64">astro_moon_quarter_t::time</a></div><div class="ttdeci">astro_time_t time</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00346">astronomy.h:346</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00053">ASTRO_WRONG_MOON_QUARTER</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l04813">Astronomy_SearchMoonQuarter()</a>, <a class="el" href="astronomy_8h_source.html#l00345">astro_moon_quarter_t::quarter</a>, <a class="el" href="astronomy_8h_source.html#l00344">astro_moon_quarter_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00346">astro_moon_quarter_t::time</a>.</p>

</div>
</div>
<a id="a3d003463708889dd98e8ebbd947988d6" name="a3d003463708889dd98e8ebbd947988d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d003463708889dd98e8ebbd947988d6">&#9670;&#160;</a></span>Astronomy_NextPlanetApsis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a> Astronomy_NextPlanetApsis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a></td>          <td class="paramname"><span class="paramname"><em>apsis</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the next planetary perihelion or aphelion event in a series. </p>
<p>This function requires an <a class="el" href="structastro__apsis__t.html" title="An apsis event: pericenter (closest approach) or apocenter (farthest distance).">astro_apsis_t</a> value obtained from a call to <a class="el" href="astronomy_8c.html#a1feb036341314870753afb2e3f1ebe36" title="Finds the date and time of a planet&#39;s perihelion (closest approach to the Sun) or aphelion (farthest ...">Astronomy_SearchPlanetApsis</a> or <span class="tt"><a class="el" href="astronomy_8c.html#a3d003463708889dd98e8ebbd947988d6" title="Finds the next planetary perihelion or aphelion event in a series.">Astronomy_NextPlanetApsis</a></span>. Given an aphelion event, this function finds the next perihelion event, and vice versa.</p>
<p>See <a class="el" href="astronomy_8c.html#a1feb036341314870753afb2e3f1ebe36" title="Finds the date and time of a planet&#39;s perihelion (closest approach to the Sun) or aphelion (farthest ...">Astronomy_SearchPlanetApsis</a> for more details.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The planet for which to find the next perihelion/aphelion event. Not allowed to be <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a></span> or <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a></span>. Must match the body passed into the call that produced the <span class="tt">apsis</span> parameter.</td></tr>
    <tr><td class="paramname">apsis</td><td>An apsis event obtained from a call to <a class="el" href="astronomy_8c.html#a1feb036341314870753afb2e3f1ebe36" title="Finds the date and time of a planet&#39;s perihelion (closest approach to the Sun) or aphelion (farthest ...">Astronomy_SearchPlanetApsis</a> or <span class="tt"><a class="el" href="astronomy_8c.html#a3d003463708889dd98e8ebbd947988d6" title="Finds the next planetary perihelion or aphelion event in a series.">Astronomy_NextPlanetApsis</a></span>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Same as the return value for <a class="el" href="astronomy_8c.html#a1feb036341314870753afb2e3f1ebe36" title="Finds the date and time of a planet&#39;s perihelion (closest approach to the Sun) or aphelion (farthest ...">Astronomy_SearchPlanetApsis</a>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06218">6218</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6219</span>{</div>
<div class="line"><span class="lineno"> 6220</span>    <span class="keywordtype">double</span> skip;    <span class="comment">/* number of days to skip to start looking for next apsis event */</span></div>
<div class="line"><span class="lineno"> 6221</span>    <a class="code hl_struct" href="structastro__apsis__t.html">astro_apsis_t</a> next;</div>
<div class="line"><span class="lineno"> 6222</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> time;</div>
<div class="line"><span class="lineno"> 6223</span> </div>
<div class="line"><span class="lineno"> 6224</span>    <span class="keywordflow">if</span> (apsis.<a class="code hl_variable" href="structastro__apsis__t.html#ac65536f8f131c7bf91ae2d5744666247">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6225</span>        <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 6226</span> </div>
<div class="line"><span class="lineno"> 6227</span>    <span class="keywordflow">if</span> (apsis.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> != <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a> &amp;&amp; apsis.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> != <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a>)</div>
<div class="line"><span class="lineno"> 6228</span>        <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 6229</span> </div>
<div class="line"><span class="lineno"> 6230</span>    skip = 0.25 * PlanetOrbitalPeriod(body);        <span class="comment">/* skip 1/4 of an orbit before starting search again */</span></div>
<div class="line"><span class="lineno"> 6231</span>    <span class="keywordflow">if</span> (skip &lt;= 0.0)</div>
<div class="line"><span class="lineno"> 6232</span>        <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>);      <span class="comment">/* body must be a planet */</span></div>
<div class="line"><span class="lineno"> 6233</span> </div>
<div class="line"><span class="lineno"> 6234</span>    time = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(apsis.<a class="code hl_variable" href="structastro__apsis__t.html#a3c22db68e225d218c54f401952b63516">time</a>, skip);</div>
<div class="line"><span class="lineno"> 6235</span>    next = <a class="code hl_function" href="astronomy_8c.html#a1feb036341314870753afb2e3f1ebe36">Astronomy_SearchPlanetApsis</a>(body, time);</div>
<div class="line"><span class="lineno"> 6236</span>    <span class="keywordflow">if</span> (next.<a class="code hl_variable" href="structastro__apsis__t.html#ac65536f8f131c7bf91ae2d5744666247">status</a> == <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6237</span>    {</div>
<div class="line"><span class="lineno"> 6238</span>        <span class="comment">/* Verify that we found the opposite apsis from the previous one. */</span></div>
<div class="line"><span class="lineno"> 6239</span>        <span class="keywordflow">if</span> (next.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> + apsis.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> != 1)</div>
<div class="line"><span class="lineno"> 6240</span>            <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno"> 6241</span>    }</div>
<div class="line"><span class="lineno"> 6242</span>    <span class="keywordflow">return</span> next;</div>
<div class="line"><span class="lineno"> 6243</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a1feb036341314870753afb2e3f1ebe36"><div class="ttname"><a href="astronomy_8c.html#a1feb036341314870753afb2e3f1ebe36">Astronomy_SearchPlanetApsis</a></div><div class="ttdeci">astro_apsis_t Astronomy_SearchPlanetApsis(astro_body_t body, astro_time_t startTime)</div><div class="ttdoc">Finds the date and time of a planet&#39;s perihelion (closest approach to the Sun) or aphelion (farthest ...</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06110">astronomy.c:6110</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00473">APSIS_APOCENTER</a>, <a class="el" href="astronomy_8h_source.html#l00472">APSIS_PERICENTER</a>, <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l06110">Astronomy_SearchPlanetApsis()</a>, <a class="el" href="astronomy_8h_source.html#l00497">astro_apsis_t::kind</a>, <a class="el" href="astronomy_8h_source.html#l00495">astro_apsis_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00496">astro_apsis_t::time</a>.</p>

</div>
</div>
<a id="ad11619cc853c67e3b5babba619a4c534" name="ad11619cc853c67e3b5babba619a4c534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad11619cc853c67e3b5babba619a4c534">&#9670;&#160;</a></span>Astronomy_NextTransit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__transit__t.html">astro_transit_t</a> Astronomy_NextTransit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>prevTransitTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for another transit of Mercury or Venus. </p>
<p>After calling <a class="el" href="astronomy_8c.html#ace4b472e4915aa96929952091053473c" title="Searches for the first transit of Mercury or Venus after a given date.">Astronomy_SearchTransit</a> to find a transit of Mercury or Venus, this function finds the next transit after that. Keep calling this function as many times as you want to keep finding more transits.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The planet whose transit is to be found. Must be <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a></span> or <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a></span>.</td></tr>
    <tr><td class="paramname">prevTransitTime</td><td>A date and time near the previous transit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure hold <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the other fields are as documented in <a class="el" href="structastro__transit__t.html" title="Information about a transit of Mercury or Venus, as seen from the Earth.">astro_transit_t</a>. Otherwise, <span class="tt">status</span> holds an error code and the other structure members are undefined. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l08788">8788</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8789</span>{</div>
<div class="line"><span class="lineno"> 8790</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> startTime;</div>
<div class="line"><span class="lineno"> 8791</span> </div>
<div class="line"><span class="lineno"> 8792</span>    startTime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(prevTransitTime, 100.0);</div>
<div class="line"><span class="lineno"> 8793</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#ace4b472e4915aa96929952091053473c">Astronomy_SearchTransit</a>(body, startTime);</div>
<div class="line"><span class="lineno"> 8794</span>}</div>
<div class="ttc" id="aastronomy_8c_html_ace4b472e4915aa96929952091053473c"><div class="ttname"><a href="astronomy_8c.html#ace4b472e4915aa96929952091053473c">Astronomy_SearchTransit</a></div><div class="ttdeci">astro_transit_t Astronomy_SearchTransit(astro_body_t body, astro_time_t startTime)</div><div class="ttdoc">Searches for the first transit of Mercury or Venus after a given date.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l08688">astronomy.c:8688</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a> y <a class="el" href="astronomy_8c_source.html#l08688">Astronomy_SearchTransit()</a>.</p>

</div>
</div>
<a id="a3d5bc08ddb39c401a00a4d731f42c378" name="a3d5bc08ddb39c401a00a4d731f42c378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d5bc08ddb39c401a00a4d731f42c378">&#9670;&#160;</a></span>Astronomy_Refraction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Astronomy_Refraction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a></td>          <td class="paramname"><span class="paramname"><em>refraction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>altitude</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the amount of "lift" to an altitude angle caused by atmospheric refraction. </p>
<p>Given an altitude angle and a refraction option, calculates the amount of "lift" caused by atmospheric refraction. This is the number of degrees higher in the sky an object appears due to the lensing of the Earth's atmosphere.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">refraction</td><td>The option selecting which refraction correction to use. If <span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a></span>, uses a well-behaved refraction model that works well for all valid values (-90 to +90) of <span class="tt">altitude</span>. If <span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26">REFRACTION_JPLHOR</a></span>, this function returns a compatible value with the JPL Horizons tool. If any other value (including <span class="tt"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3a80532a504d1ce8da2e517e1e3bf728e6">REFRACTION_NONE</a></span>), this function returns 0.</td></tr>
    <tr><td class="paramname">altitude</td><td>An altitude angle in a horizontal coordinate system. Must be a value between -90 and +90.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The angular adjustment in degrees to be added to the altitude angle to correct for atmospheric lensing. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06580">6580</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6581</span>{</div>
<div class="line"><span class="lineno"> 6582</span>    <span class="keywordtype">double</span> refr, hd;</div>
<div class="line"><span class="lineno"> 6583</span> </div>
<div class="line"><span class="lineno"> 6584</span>    <span class="keywordflow">if</span> (altitude &lt; -90.0 || altitude &gt; +90.0)</div>
<div class="line"><span class="lineno"> 6585</span>        <span class="keywordflow">return</span> 0.0;     <span class="comment">/* no attempt to correct an invalid altitude */</span></div>
<div class="line"><span class="lineno"> 6586</span> </div>
<div class="line"><span class="lineno"> 6587</span>    <span class="keywordflow">if</span> (refraction == <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a> || refraction == <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a4c9212cfd81ffbed0fd8dd57e67e6e26">REFRACTION_JPLHOR</a>)</div>
<div class="line"><span class="lineno"> 6588</span>    {</div>
<div class="line"><span class="lineno"> 6589</span>        <span class="comment">// http://extras.springer.com/1999/978-1-4471-0555-8/chap4/horizons/horizons.pdf</span></div>
<div class="line"><span class="lineno"> 6590</span>        <span class="comment">// JPL Horizons says it uses refraction algorithm from</span></div>
<div class="line"><span class="lineno"> 6591</span>        <span class="comment">// Meeus &quot;Astronomical Algorithms&quot;, 1991, p. 101-102.</span></div>
<div class="line"><span class="lineno"> 6592</span>        <span class="comment">// I found the following Go implementation:</span></div>
<div class="line"><span class="lineno"> 6593</span>        <span class="comment">// https://github.com/soniakeys/meeus/blob/master/v3/refraction/refract.go</span></div>
<div class="line"><span class="lineno"> 6594</span>        <span class="comment">// This is a translation from the function &quot;Saemundsson&quot; there.</span></div>
<div class="line"><span class="lineno"> 6595</span>        <span class="comment">// I found experimentally that JPL Horizons clamps the angle to 1 degree below the horizon.</span></div>
<div class="line"><span class="lineno"> 6596</span>        <span class="comment">// This is important because the &#39;refr&#39; formula below goes crazy near hd = -5.11.</span></div>
<div class="line"><span class="lineno"> 6597</span>        hd = altitude;</div>
<div class="line"><span class="lineno"> 6598</span>        <span class="keywordflow">if</span> (hd &lt; -1.0)</div>
<div class="line"><span class="lineno"> 6599</span>            hd = -1.0;</div>
<div class="line"><span class="lineno"> 6600</span> </div>
<div class="line"><span class="lineno"> 6601</span>        refr = (1.02 / tan((hd+10.3/(hd+5.11))*DEG2RAD)) / 60.0;</div>
<div class="line"><span class="lineno"> 6602</span> </div>
<div class="line"><span class="lineno"> 6603</span>        <span class="keywordflow">if</span> (refraction == <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a> &amp;&amp; altitude &lt; -1.0)</div>
<div class="line"><span class="lineno"> 6604</span>        {</div>
<div class="line"><span class="lineno"> 6605</span>            <span class="comment">// In &quot;normal&quot; mode we gradually reduce refraction toward the nadir</span></div>
<div class="line"><span class="lineno"> 6606</span>            <span class="comment">// so that we never get an altitude angle less than -90 degrees.</span></div>
<div class="line"><span class="lineno"> 6607</span>            <span class="comment">// When horizon angle is -1 degrees, the factor is exactly 1.</span></div>
<div class="line"><span class="lineno"> 6608</span>            <span class="comment">// As altitude approaches -90 (the nadir), the fraction approaches 0 linearly.</span></div>
<div class="line"><span class="lineno"> 6609</span>            refr *= (altitude + 90.0) / 89.0;</div>
<div class="line"><span class="lineno"> 6610</span>        }</div>
<div class="line"><span class="lineno"> 6611</span>    }</div>
<div class="line"><span class="lineno"> 6612</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6613</span>    {</div>
<div class="line"><span class="lineno"> 6614</span>        <span class="comment">/* No refraction, or the refraction option is invalid. */</span></div>
<div class="line"><span class="lineno"> 6615</span>        refr = 0.0;</div>
<div class="line"><span class="lineno"> 6616</span>    }</div>
<div class="line"><span class="lineno"> 6617</span> </div>
<div class="line"><span class="lineno"> 6618</span>    <span class="keywordflow">return</span> refr;</div>
<div class="line"><span class="lineno"> 6619</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00310">REFRACTION_JPLHOR</a> y <a class="el" href="astronomy_8h_source.html#l00309">REFRACTION_NORMAL</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l03714">Astronomy_Horizon()</a>, <a class="el" href="astronomy_8c_source.html#l06506">Astronomy_HorizonFromVector()</a> y <a class="el" href="astronomy_8c_source.html#l06644">Astronomy_InverseRefraction()</a>.</p>

</div>
</div>
<a id="a9955be67ff58b1e9bfdb0c3d8f2bfd00" name="a9955be67ff58b1e9bfdb0c3d8f2bfd00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9955be67ff58b1e9bfdb0c3d8f2bfd00">&#9670;&#160;</a></span>Astronomy_Reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Astronomy_Reset </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees up all dynamic memory allocated by Astronomy Engine. </p>
<p>Astronomy Engine uses dynamic memory allocation in only one place: it makes calculation of Pluto's orbit more efficient by caching 11 KB segments recycling them. To force purging this cache and freeing all the dynamic memory, you can call this function at any time. It is always safe to call, although it will slow down the very next calculation of Pluto's position for a nearby time value. Calling this function before your program exits is optional, but it will be helpful for leak-checkers like valgrind. </p>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l08809">8809</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8810</span>{</div>
<div class="line"><span class="lineno"> 8811</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 8812</span>    <span class="keywordflow">for</span> (i=0; i &lt; <a class="code hl_define" href="astronomy_8c.html#a581a888b396e47f6666f8be1a342d130">PLUTO_NUM_STATES</a>-1; ++i)</div>
<div class="line"><span class="lineno"> 8813</span>    {</div>
<div class="line"><span class="lineno"> 8814</span>        free(pluto_cache[i]);</div>
<div class="line"><span class="lineno"> 8815</span>        pluto_cache[i] = NULL;</div>
<div class="line"><span class="lineno"> 8816</span>    }</div>
<div class="line"><span class="lineno"> 8817</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a581a888b396e47f6666f8be1a342d130"><div class="ttname"><a href="astronomy_8c.html#a581a888b396e47f6666f8be1a342d130">PLUTO_NUM_STATES</a></div><div class="ttdeci">#define PLUTO_NUM_STATES</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l03026">astronomy.c:3026</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l03026">PLUTO_NUM_STATES</a>.</p>

</div>
</div>
<a id="aa9241bfd058f21fcd131d8175526c9b0" name="aa9241bfd058f21fcd131d8175526c9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9241bfd058f21fcd131d8175526c9b0">&#9670;&#160;</a></span>Astronomy_RotateVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__vector__t.html">astro_vector_t</a> Astronomy_RotateVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a></td>          <td class="paramname"><span class="paramname"><em>rotation</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__vector__t.html">astro_vector_t</a></td>          <td class="paramname"><span class="paramname"><em>vector</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies a rotation to a vector, yielding a rotated vector. </p>
<p>This function transforms a vector in one orientation to a vector in another orientation.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">rotation</td><td>A rotation matrix that specifies how the orientation of the vector is to be changed.</td></tr>
    <tr><td class="paramname">vector</td><td>The vector whose orientation is to be changed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A vector in the orientation specified by <span class="tt"><a class="el" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a></span>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06680">6680</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6681</span>{</div>
<div class="line"><span class="lineno"> 6682</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> target;</div>
<div class="line"><span class="lineno"> 6683</span> </div>
<div class="line"><span class="lineno"> 6684</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a> || vector.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6685</span>        <span class="keywordflow">return</span> VecError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>, vector.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a>);</div>
<div class="line"><span class="lineno"> 6686</span> </div>
<div class="line"><span class="lineno"> 6687</span>    target.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6688</span>    target.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = vector.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a>;</div>
<div class="line"><span class="lineno"> 6689</span>    target.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[0][0]*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> + <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[1][0]*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> + <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[2][0]*vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 6690</span>    target.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[0][1]*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> + <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[1][1]*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> + <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[2][1]*vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 6691</span>    target.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[0][2]*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> + <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[1][2]*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> + <a class="code hl_variable" href="GC9A01__Rotation_8h.html#a2a6e541cd030366c98e526cb7790dff2">rotation</a>.rot[2][2]*vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 6692</span> </div>
<div class="line"><span class="lineno"> 6693</span>    <span class="keywordflow">return</span> target;</div>
<div class="line"><span class="lineno"> 6694</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="GC9A01__Rotation_8h_source.html#l00004">rotation</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00174">astro_vector_t::t</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07535">Astronomy_Constellation()</a>.</p>

</div>
</div>
<a id="a3c7a2003e43e94c3725b6be1cc06ea1f" name="a3c7a2003e43e94c3725b6be1cc06ea1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7a2003e43e94c3725b6be1cc06ea1f">&#9670;&#160;</a></span>Astronomy_Rotation_ECL_EQD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_ECL_EQD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from ecliptic J2000 (ECL) to equatorial of-date (EQD). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: ECL = ecliptic system, using equator at J2000 epoch. Target: EQD = equatorial system, using equator of date.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time of the desired equator.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts ECL to EQD. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06981">6981</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6982</span>{</div>
<div class="line"><span class="lineno"> 6983</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> rot = <a class="code hl_function" href="astronomy_8c.html#ad1a046d131cd6350f7c10c88b2c9a9fe">Astronomy_Rotation_EQD_ECL</a>(time);</div>
<div class="line"><span class="lineno"> 6984</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a3edc238ee17d2639c006950bed61d1b4">Astronomy_InverseRotation</a>(rot);</div>
<div class="line"><span class="lineno"> 6985</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a3edc238ee17d2639c006950bed61d1b4"><div class="ttname"><a href="astronomy_8c.html#a3edc238ee17d2639c006950bed61d1b4">Astronomy_InverseRotation</a></div><div class="ttdeci">astro_rotation_t Astronomy_InverseRotation(astro_rotation_t rotation)</div><div class="ttdoc">Calculates the inverse of a rotation matrix.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06258">astronomy.c:6258</a></div></div>
<div class="ttc" id="aastronomy_8c_html_ad1a046d131cd6350f7c10c88b2c9a9fe"><div class="ttname"><a href="astronomy_8c.html#ad1a046d131cd6350f7c10c88b2c9a9fe">Astronomy_Rotation_EQD_ECL</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_EQD_ECL(astro_time_t time)</div><div class="ttdoc">Calculates a rotation matrix from equatorial of-date (EQD) to ecliptic J2000 (ECL).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06955">astronomy.c:6955</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06258">Astronomy_InverseRotation()</a> y <a class="el" href="astronomy_8c_source.html#l06955">Astronomy_Rotation_EQD_ECL()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07009">Astronomy_Rotation_ECL_HOR()</a>.</p>

</div>
</div>
<a id="a83402774c411094696cabb54c99ce9df" name="a83402774c411094696cabb54c99ce9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83402774c411094696cabb54c99ce9df">&#9670;&#160;</a></span>Astronomy_Rotation_ECL_EQJ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_ECL_EQJ </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from ecliptic J2000 (ECL) to equatorial J2000 (EQJ). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: ECL = ecliptic system, using equator at J2000 epoch. Target: EQJ = equatorial system, using equator at J2000 epoch.</p>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts ECL to EQJ. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06735">6735</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6736</span>{</div>
<div class="line"><span class="lineno"> 6737</span>    <span class="comment">/* ob = mean obliquity of the J2000 ecliptic = 0.40909260059599012 radians. */</span></div>
<div class="line"><span class="lineno"> 6738</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> c = 0.9174821430670688;    <span class="comment">/* cos(ob) */</span></div>
<div class="line"><span class="lineno"> 6739</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> s = 0.3977769691083922;    <span class="comment">/* sin(ob) */</span></div>
<div class="line"><span class="lineno"> 6740</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> r;</div>
<div class="line"><span class="lineno"> 6741</span> </div>
<div class="line"><span class="lineno"> 6742</span>    r.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6743</span>    r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][0] = 1.0;  r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][0] = 0.0;  r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][0] = 0.0;</div>
<div class="line"><span class="lineno"> 6744</span>    r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][1] = 0.0;  r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][1] = +c;   r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][1] = -s;</div>
<div class="line"><span class="lineno"> 6745</span>    r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][2] = 0.0;  r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][2] = +s;   r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][2] = +c;</div>
<div class="line"><span class="lineno"> 6746</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 6747</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00299">astro_rotation_t::rot</a> y <a class="el" href="astronomy_8h_source.html#l00298">astro_rotation_t::status</a>.</p>

</div>
</div>
<a id="a742fa4460a82126b8eeb7155b32cc112" name="a742fa4460a82126b8eeb7155b32cc112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a742fa4460a82126b8eeb7155b32cc112">&#9670;&#160;</a></span>Astronomy_Rotation_ECL_HOR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_ECL_HOR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from ecliptic J2000 (ECL) to horizontal (HOR). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: ECL = ecliptic system, using equator at J2000 epoch. Target: HOR = horizontal system.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time of the desired horizontal orientation.</td></tr>
    <tr><td class="paramname">observer</td><td>A location near the Earth's mean sea level that defines the observer's horizon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts ECL to HOR at <span class="tt">time</span> and for <span class="tt">observer</span>. The components of the horizontal vector are: x = north, y = west, z = zenith (straight up from the observer). These components are chosen so that the "right-hand rule" works for the vector and so that north represents the direction where azimuth = 0. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l07009">7009</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7010</span>{</div>
<div class="line"><span class="lineno"> 7011</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> ecl_eqd = <a class="code hl_function" href="astronomy_8c.html#a3c7a2003e43e94c3725b6be1cc06ea1f">Astronomy_Rotation_ECL_EQD</a>(time);</div>
<div class="line"><span class="lineno"> 7012</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> eqd_hor = <a class="code hl_function" href="astronomy_8c.html#afee1fe9bb55f1ca2054f9f627621c6d6">Astronomy_Rotation_EQD_HOR</a>(time, observer);</div>
<div class="line"><span class="lineno"> 7013</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a0563a05b3f05a7694e447c50a2c2c4d2">Astronomy_CombineRotation</a>(ecl_eqd, eqd_hor);</div>
<div class="line"><span class="lineno"> 7014</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a0563a05b3f05a7694e447c50a2c2c4d2"><div class="ttname"><a href="astronomy_8c.html#a0563a05b3f05a7694e447c50a2c2c4d2">Astronomy_CombineRotation</a></div><div class="ttdeci">astro_rotation_t Astronomy_CombineRotation(astro_rotation_t a, astro_rotation_t b)</div><div class="ttdoc">Creates a rotation based on applying one rotation followed by another.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06294">astronomy.c:6294</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a3c7a2003e43e94c3725b6be1cc06ea1f"><div class="ttname"><a href="astronomy_8c.html#a3c7a2003e43e94c3725b6be1cc06ea1f">Astronomy_Rotation_ECL_EQD</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_ECL_EQD(astro_time_t time)</div><div class="ttdoc">Calculates a rotation matrix from ecliptic J2000 (ECL) to equatorial of-date (EQD).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06981">astronomy.c:6981</a></div></div>
<div class="ttc" id="aastronomy_8c_html_afee1fe9bb55f1ca2054f9f627621c6d6"><div class="ttname"><a href="astronomy_8c.html#afee1fe9bb55f1ca2054f9f627621c6d6">Astronomy_Rotation_EQD_HOR</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_EQD_HOR(astro_time_t time, astro_observer_t observer)</div><div class="ttdoc">Calculates a rotation matrix from equatorial of-date (EQD) to horizontal (HOR).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06820">astronomy.c:6820</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06294">Astronomy_CombineRotation()</a>, <a class="el" href="astronomy_8c_source.html#l06981">Astronomy_Rotation_ECL_EQD()</a> y <a class="el" href="astronomy_8c_source.html#l06820">Astronomy_Rotation_EQD_HOR()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07034">Astronomy_Rotation_HOR_ECL()</a>.</p>

</div>
</div>
<a id="ad1a046d131cd6350f7c10c88b2c9a9fe" name="ad1a046d131cd6350f7c10c88b2c9a9fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1a046d131cd6350f7c10c88b2c9a9fe">&#9670;&#160;</a></span>Astronomy_Rotation_EQD_ECL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_EQD_ECL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from equatorial of-date (EQD) to ecliptic J2000 (ECL). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: EQD = equatorial system, using equator of date. Target: ECL = ecliptic system, using equator at J2000 epoch.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time of the source equator.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts EQD to ECL. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06955">6955</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6956</span>{</div>
<div class="line"><span class="lineno"> 6957</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> eqd_eqj;</div>
<div class="line"><span class="lineno"> 6958</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> eqj_ecl;</div>
<div class="line"><span class="lineno"> 6959</span> </div>
<div class="line"><span class="lineno"> 6960</span>    eqd_eqj = <a class="code hl_function" href="astronomy_8c.html#aabfb5eef2841f5269b861f5c61e0d231">Astronomy_Rotation_EQD_EQJ</a>(time);</div>
<div class="line"><span class="lineno"> 6961</span>    eqj_ecl = <a class="code hl_function" href="astronomy_8c.html#ae0381acbeed44c51d69900b0792d644d">Astronomy_Rotation_EQJ_ECL</a>();</div>
<div class="line"><span class="lineno"> 6962</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a0563a05b3f05a7694e447c50a2c2c4d2">Astronomy_CombineRotation</a>(eqd_eqj, eqj_ecl);</div>
<div class="line"><span class="lineno"> 6963</span>}</div>
<div class="ttc" id="aastronomy_8c_html_aabfb5eef2841f5269b861f5c61e0d231"><div class="ttname"><a href="astronomy_8c.html#aabfb5eef2841f5269b861f5c61e0d231">Astronomy_Rotation_EQD_EQJ</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_EQD_EQJ(astro_time_t time)</div><div class="ttdoc">Calculates a rotation matrix from equatorial of-date (EQD) to equatorial J2000 (EQJ).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06788">astronomy.c:6788</a></div></div>
<div class="ttc" id="aastronomy_8c_html_ae0381acbeed44c51d69900b0792d644d"><div class="ttname"><a href="astronomy_8c.html#ae0381acbeed44c51d69900b0792d644d">Astronomy_Rotation_EQJ_ECL</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_EQJ_ECL(void)</div><div class="ttdoc">Calculates a rotation matrix from equatorial J2000 (EQJ) to ecliptic J2000 (ECL).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06709">astronomy.c:6709</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06294">Astronomy_CombineRotation()</a>, <a class="el" href="astronomy_8c_source.html#l06788">Astronomy_Rotation_EQD_EQJ()</a> y <a class="el" href="astronomy_8c_source.html#l06709">Astronomy_Rotation_EQJ_ECL()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06981">Astronomy_Rotation_ECL_EQD()</a>.</p>

</div>
</div>
<a id="aabfb5eef2841f5269b861f5c61e0d231" name="aabfb5eef2841f5269b861f5c61e0d231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabfb5eef2841f5269b861f5c61e0d231">&#9670;&#160;</a></span>Astronomy_Rotation_EQD_EQJ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_EQD_EQJ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from equatorial of-date (EQD) to equatorial J2000 (EQJ). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: EQD = equatorial system, using equator of the specified date/time. Target: EQJ = equatorial system, using equator at J2000 epoch.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time at which the Earth's equator defines the source orientation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts EQD at <span class="tt">time</span> to EQJ. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06788">6788</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6789</span>{</div>
<div class="line"><span class="lineno"> 6790</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> prec, nut;</div>
<div class="line"><span class="lineno"> 6791</span> </div>
<div class="line"><span class="lineno"> 6792</span>    nut = nutation_rot(&amp;time, 1);</div>
<div class="line"><span class="lineno"> 6793</span>    prec = precession_rot(time.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>, 0.0);</div>
<div class="line"><span class="lineno"> 6794</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a0563a05b3f05a7694e447c50a2c2c4d2">Astronomy_CombineRotation</a>(nut, prec);</div>
<div class="line"><span class="lineno"> 6795</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06294">Astronomy_CombineRotation()</a> y <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06955">Astronomy_Rotation_EQD_ECL()</a> y <a class="el" href="astronomy_8c_source.html#l06901">Astronomy_Rotation_HOR_EQJ()</a>.</p>

</div>
</div>
<a id="afee1fe9bb55f1ca2054f9f627621c6d6" name="afee1fe9bb55f1ca2054f9f627621c6d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afee1fe9bb55f1ca2054f9f627621c6d6">&#9670;&#160;</a></span>Astronomy_Rotation_EQD_HOR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_EQD_HOR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from equatorial of-date (EQD) to horizontal (HOR). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: EQD = equatorial system, using equator of the specified date/time. Target: HOR = horizontal system.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time at which the Earth's equator applies.</td></tr>
    <tr><td class="paramname">observer</td><td>A location near the Earth's mean sea level that defines the observer's horizon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts EQD to HOR at <span class="tt">time</span> and for <span class="tt">observer</span>. The components of the horizontal vector are: x = north, y = west, z = zenith (straight up from the observer). These components are chosen so that the "right-hand rule" works for the vector and so that north represents the direction where azimuth = 0. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06820">6820</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6821</span>{</div>
<div class="line"><span class="lineno"> 6822</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> rot;</div>
<div class="line"><span class="lineno"> 6823</span>    <span class="keywordtype">double</span> uze[3], une[3], uwe[3];</div>
<div class="line"><span class="lineno"> 6824</span>    <span class="keywordtype">double</span> uz[3], un[3], uw[3];</div>
<div class="line"><span class="lineno"> 6825</span>    <span class="keywordtype">double</span> spin_angle;</div>
<div class="line"><span class="lineno"> 6826</span> </div>
<div class="line"><span class="lineno"> 6827</span>    <span class="keywordtype">double</span> sinlat = sin(observer.<a class="code hl_variable" href="structastro__observer__t.html#a4ece76c5061138651f91cdc0a43fabea">latitude</a> * DEG2RAD);</div>
<div class="line"><span class="lineno"> 6828</span>    <span class="keywordtype">double</span> coslat = cos(observer.<a class="code hl_variable" href="structastro__observer__t.html#a4ece76c5061138651f91cdc0a43fabea">latitude</a> * DEG2RAD);</div>
<div class="line"><span class="lineno"> 6829</span>    <span class="keywordtype">double</span> sinlon = sin(observer.<a class="code hl_variable" href="structastro__observer__t.html#aa54800e341dd1fcdd8ae257f702c3872">longitude</a> * DEG2RAD);</div>
<div class="line"><span class="lineno"> 6830</span>    <span class="keywordtype">double</span> coslon = cos(observer.<a class="code hl_variable" href="structastro__observer__t.html#aa54800e341dd1fcdd8ae257f702c3872">longitude</a> * DEG2RAD);</div>
<div class="line"><span class="lineno"> 6831</span> </div>
<div class="line"><span class="lineno"> 6832</span>    uze[0] = coslat * coslon;</div>
<div class="line"><span class="lineno"> 6833</span>    uze[1] = coslat * sinlon;</div>
<div class="line"><span class="lineno"> 6834</span>    uze[2] = sinlat;</div>
<div class="line"><span class="lineno"> 6835</span> </div>
<div class="line"><span class="lineno"> 6836</span>    une[0] = -sinlat * coslon;</div>
<div class="line"><span class="lineno"> 6837</span>    une[1] = -sinlat * sinlon;</div>
<div class="line"><span class="lineno"> 6838</span>    une[2] = coslat;</div>
<div class="line"><span class="lineno"> 6839</span> </div>
<div class="line"><span class="lineno"> 6840</span>    uwe[0] = sinlon;</div>
<div class="line"><span class="lineno"> 6841</span>    uwe[1] = -coslon;</div>
<div class="line"><span class="lineno"> 6842</span>    uwe[2] = 0.0;</div>
<div class="line"><span class="lineno"> 6843</span> </div>
<div class="line"><span class="lineno"> 6844</span>    spin_angle = -15.0 * sidereal_time(&amp;time);</div>
<div class="line"><span class="lineno"> 6845</span>    spin(spin_angle, uze, uz);</div>
<div class="line"><span class="lineno"> 6846</span>    spin(spin_angle, une, un);</div>
<div class="line"><span class="lineno"> 6847</span>    spin(spin_angle, uwe, uw);</div>
<div class="line"><span class="lineno"> 6848</span> </div>
<div class="line"><span class="lineno"> 6849</span>    rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][0] = un[0]; rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][0] = un[1]; rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][0] = un[2];</div>
<div class="line"><span class="lineno"> 6850</span>    rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][1] = uw[0]; rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][1] = uw[1]; rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][1] = uw[2];</div>
<div class="line"><span class="lineno"> 6851</span>    rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][2] = uz[0]; rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][2] = uz[1]; rot.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][2] = uz[2];</div>
<div class="line"><span class="lineno"> 6852</span> </div>
<div class="line"><span class="lineno"> 6853</span>    rot.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6854</span>    <span class="keywordflow">return</span> rot;</div>
<div class="line"><span class="lineno"> 6855</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00239">astro_observer_t::latitude</a>, <a class="el" href="astronomy_8h_source.html#l00240">astro_observer_t::longitude</a>, <a class="el" href="astronomy_8h_source.html#l00299">astro_rotation_t::rot</a> y <a class="el" href="astronomy_8h_source.html#l00298">astro_rotation_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07009">Astronomy_Rotation_ECL_HOR()</a> y <a class="el" href="astronomy_8c_source.html#l06876">Astronomy_Rotation_HOR_EQD()</a>.</p>

</div>
</div>
<a id="ae0381acbeed44c51d69900b0792d644d" name="ae0381acbeed44c51d69900b0792d644d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0381acbeed44c51d69900b0792d644d">&#9670;&#160;</a></span>Astronomy_Rotation_EQJ_ECL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_EQJ_ECL </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from equatorial J2000 (EQJ) to ecliptic J2000 (ECL). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: EQJ = equatorial system, using equator at J2000 epoch. Target: ECL = ecliptic system, using equator at J2000 epoch.</p>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts EQJ to ECL. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06709">6709</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6710</span>{</div>
<div class="line"><span class="lineno"> 6711</span>    <span class="comment">/* ob = mean obliquity of the J2000 ecliptic = 0.40909260059599012 radians. */</span></div>
<div class="line"><span class="lineno"> 6712</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> c = 0.9174821430670688;    <span class="comment">/* cos(ob) */</span></div>
<div class="line"><span class="lineno"> 6713</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> s = 0.3977769691083922;    <span class="comment">/* sin(ob) */</span></div>
<div class="line"><span class="lineno"> 6714</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> r;</div>
<div class="line"><span class="lineno"> 6715</span> </div>
<div class="line"><span class="lineno"> 6716</span>    r.<a class="code hl_variable" href="structastro__rotation__t.html#a344f997f3bd54fef2573b0a24a91f8a0">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6717</span>    r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][0] = 1.0;  r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][0] = 0.0;  r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][0] = 0.0;</div>
<div class="line"><span class="lineno"> 6718</span>    r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][1] = 0.0;  r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][1] = +c;   r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][1] = +s;</div>
<div class="line"><span class="lineno"> 6719</span>    r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[0][2] = 0.0;  r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[1][2] = -s;   r.<a class="code hl_variable" href="structastro__rotation__t.html#a2497cdcc71703cf132de87e828736bac">rot</a>[2][2] = +c;</div>
<div class="line"><span class="lineno"> 6720</span>    <span class="keywordflow">return</span> r;</div>
<div class="line"><span class="lineno"> 6721</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00299">astro_rotation_t::rot</a> y <a class="el" href="astronomy_8h_source.html#l00298">astro_rotation_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06955">Astronomy_Rotation_EQD_ECL()</a>.</p>

</div>
</div>
<a id="a70c3909183a19e1469a1308560be7b5b" name="a70c3909183a19e1469a1308560be7b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70c3909183a19e1469a1308560be7b5b">&#9670;&#160;</a></span>Astronomy_Rotation_EQJ_EQD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_EQJ_EQD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from equatorial J2000 (EQJ) to equatorial of-date (EQD). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: EQJ = equatorial system, using equator at J2000 epoch. Target: EQD = equatorial system, using equator of the specified date/time.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time at which the Earth's equator defines the target orientation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts EQJ to EQD at <span class="tt">time</span>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06764">6764</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6765</span>{</div>
<div class="line"><span class="lineno"> 6766</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> prec, nut;</div>
<div class="line"><span class="lineno"> 6767</span> </div>
<div class="line"><span class="lineno"> 6768</span>    prec = precession_rot(0.0, time.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>);</div>
<div class="line"><span class="lineno"> 6769</span>    nut = nutation_rot(&amp;time, 0);</div>
<div class="line"><span class="lineno"> 6770</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a0563a05b3f05a7694e447c50a2c2c4d2">Astronomy_CombineRotation</a>(prec, nut);</div>
<div class="line"><span class="lineno"> 6771</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06294">Astronomy_CombineRotation()</a> y <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07535">Astronomy_Constellation()</a>.</p>

</div>
</div>
<a id="ad883629b504a6e7ceee841741a4e4721" name="ad883629b504a6e7ceee841741a4e4721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad883629b504a6e7ceee841741a4e4721">&#9670;&#160;</a></span>Astronomy_Rotation_EQJ_HOR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_EQJ_HOR </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from equatorial J2000 (EQJ) to horizontal (HOR). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: EQJ = equatorial system, using the equator at the J2000 epoch. Target: HOR = horizontal system.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time of the desired horizontal orientation.</td></tr>
    <tr><td class="paramname">observer</td><td>A location near the Earth's mean sea level that defines the observer's horizon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts EQJ to HOR at <span class="tt">time</span> and for <span class="tt">observer</span>. The components of the horizontal vector are: x = north, y = west, z = zenith (straight up from the observer). These components are chosen so that the "right-hand rule" works for the vector and so that north represents the direction where azimuth = 0. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06933">6933</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6934</span>{</div>
<div class="line"><span class="lineno"> 6935</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> rot = <a class="code hl_function" href="astronomy_8c.html#abac2ee2890e82d37889bbeeadbb49918">Astronomy_Rotation_HOR_EQJ</a>(time, observer);</div>
<div class="line"><span class="lineno"> 6936</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a3edc238ee17d2639c006950bed61d1b4">Astronomy_InverseRotation</a>(rot);</div>
<div class="line"><span class="lineno"> 6937</span>}</div>
<div class="ttc" id="aastronomy_8c_html_abac2ee2890e82d37889bbeeadbb49918"><div class="ttname"><a href="astronomy_8c.html#abac2ee2890e82d37889bbeeadbb49918">Astronomy_Rotation_HOR_EQJ</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_HOR_EQJ(astro_time_t time, astro_observer_t observer)</div><div class="ttdoc">Calculates a rotation matrix from horizontal (HOR) to J2000 equatorial (EQJ).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06901">astronomy.c:6901</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06258">Astronomy_InverseRotation()</a> y <a class="el" href="astronomy_8c_source.html#l06901">Astronomy_Rotation_HOR_EQJ()</a>.</p>

</div>
</div>
<a id="a29cf6a1ccd24015db0196664493ff8cc" name="a29cf6a1ccd24015db0196664493ff8cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29cf6a1ccd24015db0196664493ff8cc">&#9670;&#160;</a></span>Astronomy_Rotation_HOR_ECL()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_HOR_ECL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from horizontal (HOR) to ecliptic J2000 (ECL). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: HOR = horizontal system. Target: ECL = ecliptic system, using equator at J2000 epoch.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time of the horizontal observation.</td></tr>
    <tr><td class="paramname">observer</td><td>The location of the horizontal observer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts HOR to ECL. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l07034">7034</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7035</span>{</div>
<div class="line"><span class="lineno"> 7036</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> rot = <a class="code hl_function" href="astronomy_8c.html#a742fa4460a82126b8eeb7155b32cc112">Astronomy_Rotation_ECL_HOR</a>(time, observer);</div>
<div class="line"><span class="lineno"> 7037</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a3edc238ee17d2639c006950bed61d1b4">Astronomy_InverseRotation</a>(rot);</div>
<div class="line"><span class="lineno"> 7038</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a742fa4460a82126b8eeb7155b32cc112"><div class="ttname"><a href="astronomy_8c.html#a742fa4460a82126b8eeb7155b32cc112">Astronomy_Rotation_ECL_HOR</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_ECL_HOR(astro_time_t time, astro_observer_t observer)</div><div class="ttdoc">Calculates a rotation matrix from ecliptic J2000 (ECL) to horizontal (HOR).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l07009">astronomy.c:7009</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06258">Astronomy_InverseRotation()</a> y <a class="el" href="astronomy_8c_source.html#l07009">Astronomy_Rotation_ECL_HOR()</a>.</p>

</div>
</div>
<a id="a39ddcd70a2b60a4f8ee3c4b991a4ee63" name="a39ddcd70a2b60a4f8ee3c4b991a4ee63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39ddcd70a2b60a4f8ee3c4b991a4ee63">&#9670;&#160;</a></span>Astronomy_Rotation_HOR_EQD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_HOR_EQD </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from horizontal (HOR) to equatorial of-date (EQD). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: HOR = horizontal system (x=North, y=West, z=Zenith). Target: EQD = equatorial system, using equator of the specified date/time.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time at which the Earth's equator applies.</td></tr>
    <tr><td class="paramname">observer</td><td>A location near the Earth's mean sea level that defines the observer's horizon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts HOR to EQD at <span class="tt">time</span> and for <span class="tt">observer</span>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06876">6876</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6877</span>{</div>
<div class="line"><span class="lineno"> 6878</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> rot = <a class="code hl_function" href="astronomy_8c.html#afee1fe9bb55f1ca2054f9f627621c6d6">Astronomy_Rotation_EQD_HOR</a>(time, observer);</div>
<div class="line"><span class="lineno"> 6879</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a3edc238ee17d2639c006950bed61d1b4">Astronomy_InverseRotation</a>(rot);</div>
<div class="line"><span class="lineno"> 6880</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06258">Astronomy_InverseRotation()</a> y <a class="el" href="astronomy_8c_source.html#l06820">Astronomy_Rotation_EQD_HOR()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06901">Astronomy_Rotation_HOR_EQJ()</a>.</p>

</div>
</div>
<a id="abac2ee2890e82d37889bbeeadbb49918" name="abac2ee2890e82d37889bbeeadbb49918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac2ee2890e82d37889bbeeadbb49918">&#9670;&#160;</a></span>Astronomy_Rotation_HOR_EQJ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__rotation__t.html">astro_rotation_t</a> Astronomy_Rotation_HOR_EQJ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a rotation matrix from horizontal (HOR) to J2000 equatorial (EQJ). </p>
<p>This is one of the family of functions that returns a rotation matrix for converting from one orientation to another. Source: HOR = horizontal system (x=North, y=West, z=Zenith). Target: EQJ = equatorial system, using equator at the J2000 epoch.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time of the observation.</td></tr>
    <tr><td class="paramname">observer</td><td>A location near the Earth's mean sea level that defines the observer's horizon.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A rotation matrix that converts HOR to EQD at <span class="tt">time</span> and for <span class="tt">observer</span>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06901">6901</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6902</span>{</div>
<div class="line"><span class="lineno"> 6903</span>    <a class="code hl_struct" href="structastro__rotation__t.html">astro_rotation_t</a> hor_eqd, eqd_eqj;</div>
<div class="line"><span class="lineno"> 6904</span> </div>
<div class="line"><span class="lineno"> 6905</span>    hor_eqd = <a class="code hl_function" href="astronomy_8c.html#a39ddcd70a2b60a4f8ee3c4b991a4ee63">Astronomy_Rotation_HOR_EQD</a>(time, observer);</div>
<div class="line"><span class="lineno"> 6906</span>    eqd_eqj = <a class="code hl_function" href="astronomy_8c.html#aabfb5eef2841f5269b861f5c61e0d231">Astronomy_Rotation_EQD_EQJ</a>(time);</div>
<div class="line"><span class="lineno"> 6907</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a0563a05b3f05a7694e447c50a2c2c4d2">Astronomy_CombineRotation</a>(hor_eqd, eqd_eqj);</div>
<div class="line"><span class="lineno"> 6908</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a39ddcd70a2b60a4f8ee3c4b991a4ee63"><div class="ttname"><a href="astronomy_8c.html#a39ddcd70a2b60a4f8ee3c4b991a4ee63">Astronomy_Rotation_HOR_EQD</a></div><div class="ttdeci">astro_rotation_t Astronomy_Rotation_HOR_EQD(astro_time_t time, astro_observer_t observer)</div><div class="ttdoc">Calculates a rotation matrix from horizontal (HOR) to equatorial of-date (EQD).</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06876">astronomy.c:6876</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l06294">Astronomy_CombineRotation()</a>, <a class="el" href="astronomy_8c_source.html#l06788">Astronomy_Rotation_EQD_EQJ()</a> y <a class="el" href="astronomy_8c_source.html#l06876">Astronomy_Rotation_HOR_EQD()</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06933">Astronomy_Rotation_EQJ_HOR()</a>.</p>

</div>
</div>
<a id="acfc7b56d0aa2c81c6a10dc6af1748596" name="acfc7b56d0aa2c81c6a10dc6af1748596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc7b56d0aa2c81c6a10dc6af1748596">&#9670;&#160;</a></span>Astronomy_Search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a> Astronomy_Search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a4a9f28e7e03615fd48f124d6b1644086">astro_search_func_t</a></td>          <td class="paramname"><span class="paramname"><em>func</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>context</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>t1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>t2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>dt_tolerance_seconds</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for a time at which a function's value increases through zero. </p>
<p>Certain astronomy calculations involve finding a time when an event occurs. Often such events can be defined as the root of a function: the time at which the function's value becomes zero.</p>
<p><span class="tt"><a class="el" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a></span> finds the <em>ascending root</em> of a function: the time at which the function's value becomes zero while having a positive slope. That is, as time increases, the function transitions from a negative value, through zero at a specific moment, to a positive value later. The goal of the search is to find that specific moment.</p>
<p>The search function is specified by two parameters: <span class="tt">func</span> and <span class="tt">context</span>. The <span class="tt">func</span> parameter is a pointer to the function itself, which accepts a time and a context containing any other arguments needed to evaluate the function. The <span class="tt">context</span> parameter supplies that context for the given search. As an example, a caller may wish to find the moment a celestial body reaches a certain ecliptic longitude. In that case, the caller might create a structure that contains an <a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928" title="A celestial body.">astro_body_t</a> member to specify the body and a <span class="tt">double</span> to hold the target longitude. The function would cast the pointer <span class="tt">context</span> passed in as a pointer to that structure type. It could subtract the target longitude from the actual longitude at a given time; thus the difference would equal zero at the moment in time the planet reaches the desired longitude.</p>
<p>The <span class="tt">func</span> returns an <a class="el" href="structastro__func__result__t.html" title="A real value returned by a function whose ascending root is to be found.">astro_func_result_t</a> structure every time it is called. If the returned structure has a value of <span class="tt">status</span> other than <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>, the search immediately fails and reports that same error code in the <span class="tt">status</span> returned by <span class="tt"><a class="el" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a></span>. Otherwise, <span class="tt">status</span> is <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and <span class="tt">value</span> is the value of the function, and the search proceeds until it either finds the ascending root or fails for some reason.</p>
<p>The search calls <span class="tt">func</span> repeatedly to rapidly narrow in on any ascending root within the time window specified by <span class="tt">t1</span> and <span class="tt">t2</span>. The search never reports a solution outside this time window.</p>
<p><span class="tt"><a class="el" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a></span> uses a combination of bisection and quadratic interpolation to minimize the number of function calls. However, it is critical that the supplied time window be small enough that there cannot be more than one root (ascedning or descending) within it; otherwise the search can fail. Beyond that, it helps to make the time window as small as possible, ideally such that the function itself resembles a smooth parabolic curve within that window.</p>
<p>If an ascending root is not found, or more than one root (ascending and/or descending) exists within the window <span class="tt">t1</span>..<span class="tt">t2</span>, the search will fail with status code <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a></span>.</p>
<p>If the search does not converge within 20 iterations, it will fail with status code <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680">ASTRO_NO_CONVERGE</a></span>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>The function for which to find the time of an ascending root. See function remarks for more details.</td></tr>
    <tr><td class="paramname">context</td><td>Any ancillary data needed by the function <span class="tt">func</span> to calculate a value. The data type varies depending on the function passed in. For example, the function may involve a specific celestial body that must be specified somehow.</td></tr>
    <tr><td class="paramname">t1</td><td>The lower time bound of the search window. See function remarks for more details.</td></tr>
    <tr><td class="paramname">t2</td><td>The upper time bound of the search window. See function remarks for more details.</td></tr>
    <tr><td class="paramname">dt_tolerance_seconds</td><td>Specifies an amount of time in seconds within which a bounded ascending root is considered accurate enough to stop. A typical value is 1 second.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the returned structure has <span class="tt">status</span> equal to <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and <span class="tt">time</span> set to a value within <span class="tt">dt_tolerance_seconds</span> of an ascending root. On success, the <span class="tt">time</span> value will always be in the inclusive range [<span class="tt">t1</span>, <span class="tt">t2</span>]. If the search fails, <span class="tt">status</span> will be set to a value other than <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>. See function remarks for more details. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04110">4110</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4116</span>{</div>
<div class="line"><span class="lineno"> 4117</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> result;</div>
<div class="line"><span class="lineno"> 4118</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> tmid;</div>
<div class="line"><span class="lineno"> 4119</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> tq;</div>
<div class="line"><span class="lineno"> 4120</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> funcres;</div>
<div class="line"><span class="lineno"> 4121</span>    <span class="keywordtype">double</span> f1, f2, fmid=0.0, fq, dt_days, dt, dt_guess;</div>
<div class="line"><span class="lineno"> 4122</span>    <span class="keywordtype">double</span> q_x, q_ut, q_df_dt;</div>
<div class="line"><span class="lineno"> 4123</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> iter_limit = 20;</div>
<div class="line"><span class="lineno"> 4124</span>    <span class="keywordtype">int</span> iter = 0;</div>
<div class="line"><span class="lineno"> 4125</span>    <span class="keywordtype">int</span> calc_fmid = 1;</div>
<div class="line"><span class="lineno"> 4126</span> </div>
<div class="line"><span class="lineno"> 4127</span>    dt_days = fabs(dt_tolerance_seconds / SECONDS_PER_DAY);</div>
<div class="line"><span class="lineno"> 4128</span>    CALLFUNC(f1, t1);</div>
<div class="line"><span class="lineno"> 4129</span>    CALLFUNC(f2, t2);</div>
<div class="line"><span class="lineno"> 4130</span> </div>
<div class="line"><span class="lineno"> 4131</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno"> 4132</span>    {</div>
<div class="line"><span class="lineno"> 4133</span>        <span class="keywordflow">if</span> (++iter &gt; iter_limit)</div>
<div class="line"><span class="lineno"> 4134</span>            <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680">ASTRO_NO_CONVERGE</a>);</div>
<div class="line"><span class="lineno"> 4135</span> </div>
<div class="line"><span class="lineno"> 4136</span>        dt = (t2.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> - t1.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>) / 2.0;</div>
<div class="line"><span class="lineno"> 4137</span>        tmid = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(t1, dt);</div>
<div class="line"><span class="lineno"> 4138</span>        <span class="keywordflow">if</span> (fabs(dt) &lt; dt_days)</div>
<div class="line"><span class="lineno"> 4139</span>        {</div>
<div class="line"><span class="lineno"> 4140</span>            <span class="comment">/* We are close enough to the event to stop the search. */</span></div>
<div class="line"><span class="lineno"> 4141</span>            result.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a> = tmid;</div>
<div class="line"><span class="lineno"> 4142</span>            result.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 4143</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 4144</span>        }</div>
<div class="line"><span class="lineno"> 4145</span> </div>
<div class="line"><span class="lineno"> 4146</span>        <span class="keywordflow">if</span> (calc_fmid)</div>
<div class="line"><span class="lineno"> 4147</span>            CALLFUNC(fmid, tmid);</div>
<div class="line"><span class="lineno"> 4148</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4149</span>            calc_fmid = 1;      <span class="comment">/* we already have the correct value of fmid from the previous loop */</span></div>
<div class="line"><span class="lineno"> 4150</span> </div>
<div class="line"><span class="lineno"> 4151</span>        <span class="comment">/* Quadratic interpolation: */</span></div>
<div class="line"><span class="lineno"> 4152</span>        <span class="comment">/* Try to find a parabola that passes through the 3 points we have sampled: */</span></div>
<div class="line"><span class="lineno"> 4153</span>        <span class="comment">/* (t1,f1), (tmid,fmid), (t2,f2) */</span></div>
<div class="line"><span class="lineno"> 4154</span> </div>
<div class="line"><span class="lineno"> 4155</span>        <span class="keywordflow">if</span> (QuadInterp(tmid.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>, t2.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> - tmid.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>, f1, fmid, f2, &amp;q_x, &amp;q_ut, &amp;q_df_dt))</div>
<div class="line"><span class="lineno"> 4156</span>        {</div>
<div class="line"><span class="lineno"> 4157</span>            tq = <a class="code hl_function" href="astronomy_8c.html#a6604474b568bbd210622c62912782cbf">Astronomy_TimeFromDays</a>(q_ut);</div>
<div class="line"><span class="lineno"> 4158</span>            CALLFUNC(fq, tq);</div>
<div class="line"><span class="lineno"> 4159</span>            <span class="keywordflow">if</span> (q_df_dt != 0.0)</div>
<div class="line"><span class="lineno"> 4160</span>            {</div>
<div class="line"><span class="lineno"> 4161</span>                dt_guess = fabs(fq / q_df_dt);</div>
<div class="line"><span class="lineno"> 4162</span>                <span class="keywordflow">if</span> (dt_guess &lt; dt_days)</div>
<div class="line"><span class="lineno"> 4163</span>                {</div>
<div class="line"><span class="lineno"> 4164</span>                    <span class="comment">/* The estimated time error is small enough that we can quit now. */</span></div>
<div class="line"><span class="lineno"> 4165</span>                    result.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a> = tq;</div>
<div class="line"><span class="lineno"> 4166</span>                    result.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 4167</span>                    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 4168</span>                }</div>
<div class="line"><span class="lineno"> 4169</span> </div>
<div class="line"><span class="lineno"> 4170</span>                <span class="comment">/* Try guessing a tighter boundary with the interpolated root at the center. */</span></div>
<div class="line"><span class="lineno"> 4171</span>                dt_guess *= 1.2;</div>
<div class="line"><span class="lineno"> 4172</span>                <span class="keywordflow">if</span> (dt_guess &lt; dt/10.0)</div>
<div class="line"><span class="lineno"> 4173</span>                {</div>
<div class="line"><span class="lineno"> 4174</span>                    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> tleft = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(tq, -dt_guess);</div>
<div class="line"><span class="lineno"> 4175</span>                    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> tright = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(tq, +dt_guess);</div>
<div class="line"><span class="lineno"> 4176</span>                    <span class="keywordflow">if</span> ((tleft.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> - t1.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>)*(tleft.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> - t2.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>) &lt; 0)</div>
<div class="line"><span class="lineno"> 4177</span>                    {</div>
<div class="line"><span class="lineno"> 4178</span>                        <span class="keywordflow">if</span> ((tright.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> - t1.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>)*(tright.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> - t2.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a>) &lt; 0)</div>
<div class="line"><span class="lineno"> 4179</span>                        {</div>
<div class="line"><span class="lineno"> 4180</span>                            <span class="keywordtype">double</span> fleft, fright;</div>
<div class="line"><span class="lineno"> 4181</span>                            CALLFUNC(fleft, tleft);</div>
<div class="line"><span class="lineno"> 4182</span>                            CALLFUNC(fright, tright);</div>
<div class="line"><span class="lineno"> 4183</span>                            <span class="keywordflow">if</span> (fleft&lt;0.0 &amp;&amp; fright&gt;=0.0)</div>
<div class="line"><span class="lineno"> 4184</span>                            {</div>
<div class="line"><span class="lineno"> 4185</span>                                f1 = fleft;</div>
<div class="line"><span class="lineno"> 4186</span>                                f2 = fright;</div>
<div class="line"><span class="lineno"> 4187</span>                                t1 = tleft;</div>
<div class="line"><span class="lineno"> 4188</span>                                t2 = tright;</div>
<div class="line"><span class="lineno"> 4189</span>                                fmid = fq;</div>
<div class="line"><span class="lineno"> 4190</span>                                calc_fmid = 0;  <span class="comment">/* save a little work -- no need to re-calculate fmid next time around the loop */</span></div>
<div class="line"><span class="lineno"> 4191</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4192</span>                            }</div>
<div class="line"><span class="lineno"> 4193</span>                        }</div>
<div class="line"><span class="lineno"> 4194</span>                    }</div>
<div class="line"><span class="lineno"> 4195</span>                }</div>
<div class="line"><span class="lineno"> 4196</span>            }</div>
<div class="line"><span class="lineno"> 4197</span>        }</div>
<div class="line"><span class="lineno"> 4198</span> </div>
<div class="line"><span class="lineno"> 4199</span>        <span class="comment">/* After quadratic interpolation attempt. */</span></div>
<div class="line"><span class="lineno"> 4200</span>        <span class="comment">/* Now just divide the region in two parts and pick whichever one appears to contain a root. */</span></div>
<div class="line"><span class="lineno"> 4201</span>        <span class="keywordflow">if</span> (f1 &lt; 0.0 &amp;&amp; fmid &gt;= 0.0)</div>
<div class="line"><span class="lineno"> 4202</span>        {</div>
<div class="line"><span class="lineno"> 4203</span>            t2 = tmid;</div>
<div class="line"><span class="lineno"> 4204</span>            f2 = fmid;</div>
<div class="line"><span class="lineno"> 4205</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4206</span>        }</div>
<div class="line"><span class="lineno"> 4207</span> </div>
<div class="line"><span class="lineno"> 4208</span>        <span class="keywordflow">if</span> (fmid &lt; 0.0 &amp;&amp; f2 &gt;= 0.0)</div>
<div class="line"><span class="lineno"> 4209</span>        {</div>
<div class="line"><span class="lineno"> 4210</span>            t1 = tmid;</div>
<div class="line"><span class="lineno"> 4211</span>            f1 = fmid;</div>
<div class="line"><span class="lineno"> 4212</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 4213</span>        }</div>
<div class="line"><span class="lineno"> 4214</span> </div>
<div class="line"><span class="lineno"> 4215</span>        <span class="comment">/* Either there is no ascending zero-crossing in this range */</span></div>
<div class="line"><span class="lineno"> 4216</span>        <span class="comment">/* or the search window is too wide (more than one zero-crossing). */</span></div>
<div class="line"><span class="lineno"> 4217</span>        <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>);</div>
<div class="line"><span class="lineno"> 4218</span>    }</div>
<div class="line"><span class="lineno"> 4219</span>}</div>
<div class="ttc" id="astructastro__search__result__t_html"><div class="ttname"><a href="structastro__search__result__t.html">astro_search_result_t</a></div><div class="ttdoc">The result of a search for an astronomical event.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00317">astronomy.h:318</a></div></div>
<div class="ttc" id="astructastro__search__result__t_html_aafdec98ea6e300d1b5b5ce996d6cda0a"><div class="ttname"><a href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">astro_search_result_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00319">astronomy.h:319</a></div></div>
<div class="ttc" id="astructastro__search__result__t_html_afa7bbea2c648a30a5d1c3dd575f62b89"><div class="ttname"><a href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">astro_search_result_t::time</a></div><div class="ttdeci">astro_time_t time</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00320">astronomy.h:320</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00047">ASTRO_NO_CONVERGE</a>, <a class="el" href="astronomy_8h_source.html#l00050">ASTRO_SEARCH_FAILURE</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l00724">Astronomy_TimeFromDays()</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a> y <a class="el" href="astronomy_8h_source.html#l00121">astro_time_t::ut</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l05778">Astronomy_SearchLunarApsis()</a>, <a class="el" href="astronomy_8c_source.html#l04486">Astronomy_SearchMaxElongation()</a>, <a class="el" href="astronomy_8c_source.html#l04755">Astronomy_SearchMoonPhase()</a>, <a class="el" href="astronomy_8c_source.html#l05611">Astronomy_SearchPeakMagnitude()</a>, <a class="el" href="astronomy_8c_source.html#l06110">Astronomy_SearchPlanetApsis()</a>, <a class="el" href="astronomy_8c_source.html#l05207">Astronomy_SearchRiseSet()</a> y <a class="el" href="astronomy_8c_source.html#l04014">Astronomy_SearchSunLongitude()</a>.</p>

</div>
</div>
<a id="ac1506481ab4a41d67b5e3db3ba0f4d61" name="ac1506481ab4a41d67b5e3db3ba0f4d61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1506481ab4a41d67b5e3db3ba0f4d61">&#9670;&#160;</a></span>Astronomy_SearchGlobalSolarEclipse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__global__solar__eclipse__t.html">astro_global_solar_eclipse_t</a> Astronomy_SearchGlobalSolarEclipse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for a solar eclipse visible anywhere on the Earth's surface. </p>
<p>This function finds the first solar eclipse that occurs after <span class="tt">startTime</span>. A solar eclipse may be partial, annular, or total. See <a class="el" href="structastro__global__solar__eclipse__t.html" title="Reports the time and geographic location of the peak of a solar eclipse.">astro_global_solar_eclipse_t</a> for more information. To find a series of solar eclipses, call this function once, then keep calling <a class="el" href="astronomy_8c.html#a71ca6bd3b05448fe0a0fb35460140391" title="Searches for the next global solar eclipse in a series.">Astronomy_NextGlobalSolarEclipse</a> as many times as desired, passing in the <span class="tt">peak</span> value returned from the previous call.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">startTime</td><td>The date and time for starting the search for a solar eclipse.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure will contain <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the remaining structure fields are as described in <a class="el" href="structastro__global__solar__eclipse__t.html" title="Reports the time and geographic location of the peak of a solar eclipse.">astro_global_solar_eclipse_t</a>. Any other value indicates an error. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l08197">8197</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8198</span>{</div>
<div class="line"><span class="lineno"> 8199</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> PruneLatitude = 1.8;   <span class="comment">/* Moon&#39;s ecliptic latitude beyond which eclipse is impossible */</span></div>
<div class="line"><span class="lineno"> 8200</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> nmtime;</div>
<div class="line"><span class="lineno"> 8201</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> newmoon;</div>
<div class="line"><span class="lineno"> 8202</span>    shadow_t shadow;</div>
<div class="line"><span class="lineno"> 8203</span>    <span class="keywordtype">int</span> nmcount;</div>
<div class="line"><span class="lineno"> 8204</span>    <span class="keywordtype">double</span> eclip_lat, eclip_lon, distance;</div>
<div class="line"><span class="lineno"> 8205</span> </div>
<div class="line"><span class="lineno"> 8206</span>    <span class="comment">/* Iterate through consecutive new moons until we find a solar eclipse visible somewhere on Earth. */</span></div>
<div class="line"><span class="lineno"> 8207</span>    nmtime = startTime;</div>
<div class="line"><span class="lineno"> 8208</span>    <span class="keywordflow">for</span> (nmcount=0; nmcount &lt; 12; ++nmcount)</div>
<div class="line"><span class="lineno"> 8209</span>    {</div>
<div class="line"><span class="lineno"> 8210</span>        <span class="comment">/* Search for the next new moon. Any eclipse will be near it. */</span></div>
<div class="line"><span class="lineno"> 8211</span>        newmoon = <a class="code hl_function" href="astronomy_8c.html#a65b684108b11b56f4ec1f550f6a722ed">Astronomy_SearchMoonPhase</a>(0.0, nmtime, 40.0);</div>
<div class="line"><span class="lineno"> 8212</span>        <span class="keywordflow">if</span> (newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8213</span>            <span class="keywordflow">return</span> GlobalSolarEclipseError(newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 8214</span> </div>
<div class="line"><span class="lineno"> 8215</span>        <span class="comment">/* Pruning: if the new moon&#39;s ecliptic latitude is too large, a solar eclipse is not possible. */</span></div>
<div class="line"><span class="lineno"> 8216</span>        CalcMoon(newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> / 36525.0, &amp;eclip_lon, &amp;eclip_lat, &amp;distance);</div>
<div class="line"><span class="lineno"> 8217</span>        <span class="keywordflow">if</span> (RAD2DEG * fabs(eclip_lat) &lt; PruneLatitude)</div>
<div class="line"><span class="lineno"> 8218</span>        {</div>
<div class="line"><span class="lineno"> 8219</span>            <span class="comment">/* Search near the new moon for the time when the center of the Earth */</span></div>
<div class="line"><span class="lineno"> 8220</span>            <span class="comment">/* is closest to the line passing through the centers of the Sun and Moon. */</span></div>
<div class="line"><span class="lineno"> 8221</span>            shadow = PeakMoonShadow(newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 8222</span>            <span class="keywordflow">if</span> (shadow.status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8223</span>                <span class="keywordflow">return</span> GlobalSolarEclipseError(shadow.status);</div>
<div class="line"><span class="lineno"> 8224</span> </div>
<div class="line"><span class="lineno"> 8225</span>            <span class="keywordflow">if</span> (shadow.r &lt; shadow.p + <a class="code hl_define" href="astronomy_8c.html#a4f871ae7b48abc94cdcce8dc57ad84d4">EARTH_MEAN_RADIUS_KM</a>)</div>
<div class="line"><span class="lineno"> 8226</span>            {</div>
<div class="line"><span class="lineno"> 8227</span>                <span class="comment">/* This is at least a partial solar eclipse visible somewhere on Earth. */</span></div>
<div class="line"><span class="lineno"> 8228</span>                <span class="comment">/* Try to find an intersection between the shadow axis and the Earth&#39;s oblate geoid. */</span></div>
<div class="line"><span class="lineno"> 8229</span>                <span class="keywordflow">return</span> GeoidIntersect(shadow);</div>
<div class="line"><span class="lineno"> 8230</span>            }</div>
<div class="line"><span class="lineno"> 8231</span>        }</div>
<div class="line"><span class="lineno"> 8232</span> </div>
<div class="line"><span class="lineno"> 8233</span>        <span class="comment">/* We didn&#39;t find an eclipse on this new moon, so search for the next one. */</span></div>
<div class="line"><span class="lineno"> 8234</span>        nmtime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>, 10.0);</div>
<div class="line"><span class="lineno"> 8235</span>    }</div>
<div class="line"><span class="lineno"> 8236</span> </div>
<div class="line"><span class="lineno"> 8237</span>    <span class="comment">/* Safety valve to prevent infinite loop. */</span></div>
<div class="line"><span class="lineno"> 8238</span>    <span class="comment">/* This should never happen, because at least 2 solar eclipses happen per year. */</span></div>
<div class="line"><span class="lineno"> 8239</span>    <span class="keywordflow">return</span> GlobalSolarEclipseError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno"> 8240</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a4f871ae7b48abc94cdcce8dc57ad84d4"><div class="ttname"><a href="astronomy_8c.html#a4f871ae7b48abc94cdcce8dc57ad84d4">EARTH_MEAN_RADIUS_KM</a></div><div class="ttdeci">#define EARTH_MEAN_RADIUS_KM</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00162">astronomy.c:162</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a65b684108b11b56f4ec1f550f6a722ed"><div class="ttname"><a href="astronomy_8c.html#a65b684108b11b56f4ec1f550f6a722ed">Astronomy_SearchMoonPhase</a></div><div class="ttdeci">astro_search_result_t Astronomy_SearchMoonPhase(double targetLon, astro_time_t startTime, double limitDays)</div><div class="ttdoc">Searches for the time that the Moon reaches a specified phase.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l04755">astronomy.c:4755</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l04755">Astronomy_SearchMoonPhase()</a>, <a class="el" href="astronomy_8c_source.html#l00162">EARTH_MEAN_RADIUS_KM</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a> y <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l08260">Astronomy_NextGlobalSolarEclipse()</a>.</p>

</div>
</div>
<a id="a94cf56d7d9a86137c4b78d12cde159de" name="a94cf56d7d9a86137c4b78d12cde159de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94cf56d7d9a86137c4b78d12cde159de">&#9670;&#160;</a></span>Astronomy_SearchHourAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__hour__angle__t.html">astro_hour_angle_t</a> Astronomy_SearchHourAngle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>hourAngle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the time when a celestial body reaches a specified hour angle as seen by an observer on the Earth. </p>
<p>The <em>hour angle</em> of a celestial body indicates its position in the sky with respect to the Earth's rotation. The hour angle depends on the location of the observer on the Earth. The hour angle is 0 when the body reaches its highest angle above the horizon in a given day. The hour angle increases by 1 unit for every sidereal hour that passes after that point, up to 24 sidereal hours when it reaches the highest point again. So the hour angle indicates the number of hours that have passed since the most recent time that the body has culminated, or reached its highest point.</p>
<p>This function searches for the next time a celestial body reaches the given hour angle after the date and time specified by <span class="tt">startTime</span>. To find when a body culminates, pass 0 for <span class="tt">hourAngle</span>. To find when a body reaches its lowest point in the sky, pass 12 for <span class="tt">hourAngle</span>.</p>
<p>Note that, especially close to the Earth's poles, a body as seen on a given day may always be above the horizon or always below the horizon, so the caller cannot assume that a culminating object is visible nor that an object is below the horizon at its minimum altitude.</p>
<p>On success, the function reports the date and time, along with the horizontal coordinates of the body at that time, as seen by the given observer.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The celestial body, which can the Sun, the Moon, or any planet other than the Earth.</td></tr>
    <tr><td class="paramname">observer</td><td>Indicates a location on or near the surface of the Earth where the observer is located. Call <a class="el" href="astronomy_8c.html#aa7f8314916665a647df682f28d425b3a" title="Creates an observer object that represents a location on or near the surface of the Earth.">Astronomy_MakeObserver</a> to create an observer structure.</td></tr>
    <tr><td class="paramname">hourAngle</td><td>An hour angle value in the range [0, 24) indicating the number of sidereal hours after the body's most recent culmination.</td></tr>
    <tr><td class="paramname">startTime</td><td>The date and time at which to start the search.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure holds <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the other structure fields are valid. Otherwise, <span class="tt">status</span> holds some other value that indicates an error condition. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l05049">5049</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5054</span>{</div>
<div class="line"><span class="lineno"> 5055</span>    <span class="keywordtype">int</span> iter = 0;</div>
<div class="line"><span class="lineno"> 5056</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> time;</div>
<div class="line"><span class="lineno"> 5057</span>    <a class="code hl_struct" href="structastro__equatorial__t.html">astro_equatorial_t</a> ofdate;</div>
<div class="line"><span class="lineno"> 5058</span>    <a class="code hl_struct" href="structastro__hour__angle__t.html">astro_hour_angle_t</a> result;</div>
<div class="line"><span class="lineno"> 5059</span>    <span class="keywordtype">double</span> delta_sidereal_hours, delta_days, gast;</div>
<div class="line"><span class="lineno"> 5060</span> </div>
<div class="line"><span class="lineno"> 5061</span>    <span class="keywordflow">if</span> (body &lt; MIN_BODY || body &gt; <a class="code hl_define" href="#addd9ba1b79de512abcc9bc277a233dca">MAX_BODY</a>)</div>
<div class="line"><span class="lineno"> 5062</span>        <span class="keywordflow">return</span> HourAngleError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>);</div>
<div class="line"><span class="lineno"> 5063</span> </div>
<div class="line"><span class="lineno"> 5064</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>)</div>
<div class="line"><span class="lineno"> 5065</span>        <span class="keywordflow">return</span> HourAngleError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a>);</div>
<div class="line"><span class="lineno"> 5066</span> </div>
<div class="line"><span class="lineno"> 5067</span>    <span class="keywordflow">if</span> (hourAngle &lt; 0.0 || hourAngle &gt;= 24.0)</div>
<div class="line"><span class="lineno"> 5068</span>        <span class="keywordflow">return</span> HourAngleError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 5069</span> </div>
<div class="line"><span class="lineno"> 5070</span>    time = startTime;</div>
<div class="line"><span class="lineno"> 5071</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno"> 5072</span>    {</div>
<div class="line"><span class="lineno"> 5073</span>        ++iter;</div>
<div class="line"><span class="lineno"> 5074</span> </div>
<div class="line"><span class="lineno"> 5075</span>        <span class="comment">/* Calculate Greenwich Apparent Sidereal Time (GAST) at the given time. */</span></div>
<div class="line"><span class="lineno"> 5076</span>        gast = sidereal_time(&amp;time);</div>
<div class="line"><span class="lineno"> 5077</span> </div>
<div class="line"><span class="lineno"> 5078</span>        <span class="comment">/* Obtain equatorial coordinates of date for the body. */</span></div>
<div class="line"><span class="lineno"> 5079</span>        ofdate = <a class="code hl_function" href="astronomy_8c.html#aa0bb7ca3d4e511d37cd5e0b5ab437273">Astronomy_Equator</a>(body, &amp;time, observer, <a class="code hl_enumvalue" href="#acfd27b57f62aed3dde359047a35ac00cac524852dd5b5e0c5e9581bd63a8dec03">EQUATOR_OF_DATE</a>, <a class="code hl_enumvalue" href="#a3ab2a1a2ef0ecb9093ce1e877c431dc6ab67ab7f38f0f52b82cf13d7bd722a026">ABERRATION</a>);</div>
<div class="line"><span class="lineno"> 5080</span>        <span class="keywordflow">if</span> (ofdate.<a class="code hl_variable" href="structastro__equatorial__t.html#afab33097965cc037477a3cceefdedf17">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5081</span>            <span class="keywordflow">return</span> HourAngleError(ofdate.<a class="code hl_variable" href="structastro__equatorial__t.html#afab33097965cc037477a3cceefdedf17">status</a>);</div>
<div class="line"><span class="lineno"> 5082</span> </div>
<div class="line"><span class="lineno"> 5083</span>        <span class="comment">/* Calculate the adjustment needed in sidereal time */</span></div>
<div class="line"><span class="lineno"> 5084</span>        <span class="comment">/* to bring the hour angle to the desired value. */</span></div>
<div class="line"><span class="lineno"> 5085</span> </div>
<div class="line"><span class="lineno"> 5086</span>        delta_sidereal_hours = fmod((hourAngle + ofdate.<a class="code hl_variable" href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">ra</a> - observer.<a class="code hl_variable" href="structastro__observer__t.html#aa54800e341dd1fcdd8ae257f702c3872">longitude</a>/15) - gast, 24.0);</div>
<div class="line"><span class="lineno"> 5087</span>        <span class="keywordflow">if</span> (iter == 1)</div>
<div class="line"><span class="lineno"> 5088</span>        {</div>
<div class="line"><span class="lineno"> 5089</span>            <span class="comment">/* On the first iteration, always search forward in time. */</span></div>
<div class="line"><span class="lineno"> 5090</span>            <span class="keywordflow">if</span> (delta_sidereal_hours &lt; 0)</div>
<div class="line"><span class="lineno"> 5091</span>                delta_sidereal_hours += 24;</div>
<div class="line"><span class="lineno"> 5092</span>        }</div>
<div class="line"><span class="lineno"> 5093</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5094</span>        {</div>
<div class="line"><span class="lineno"> 5095</span>            <span class="comment">/* On subsequent iterations, we make the smallest possible adjustment, */</span></div>
<div class="line"><span class="lineno"> 5096</span>            <span class="comment">/* either forward or backward in time. */</span></div>
<div class="line"><span class="lineno"> 5097</span>            <span class="keywordflow">if</span> (delta_sidereal_hours &lt; -12.0)</div>
<div class="line"><span class="lineno"> 5098</span>                delta_sidereal_hours += 24.0;</div>
<div class="line"><span class="lineno"> 5099</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (delta_sidereal_hours &gt; +12.0)</div>
<div class="line"><span class="lineno"> 5100</span>                delta_sidereal_hours -= 24.0;</div>
<div class="line"><span class="lineno"> 5101</span>        }</div>
<div class="line"><span class="lineno"> 5102</span> </div>
<div class="line"><span class="lineno"> 5103</span>        <span class="comment">/* If the error is tolerable (less than 0.1 seconds), the search has succeeded. */</span></div>
<div class="line"><span class="lineno"> 5104</span>        <span class="keywordflow">if</span> (fabs(delta_sidereal_hours) * 3600.0 &lt; 0.1)</div>
<div class="line"><span class="lineno"> 5105</span>        {</div>
<div class="line"><span class="lineno"> 5106</span>            result.<a class="code hl_variable" href="structastro__hour__angle__t.html#a7e6b30b3c23dc2dacb3bb80b09ef205e">hor</a> = <a class="code hl_function" href="astronomy_8c.html#a010c68c33f44cc7a7ad3de40bedcc3b5">Astronomy_Horizon</a>(&amp;time, observer, ofdate.<a class="code hl_variable" href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">ra</a>, ofdate.<a class="code hl_variable" href="structastro__equatorial__t.html#af313e351ebecda5b3d4c00dccff26278">dec</a>, <a class="code hl_enumvalue" href="#affbe5c88a5c372b8585d62414b6d03d3a05847fc23412cd1dd845e42796f43f73">REFRACTION_NORMAL</a>);</div>
<div class="line"><span class="lineno"> 5107</span>            result.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a> = time;</div>
<div class="line"><span class="lineno"> 5108</span>            result.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 5109</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 5110</span>        }</div>
<div class="line"><span class="lineno"> 5111</span> </div>
<div class="line"><span class="lineno"> 5112</span>        <span class="comment">/* We need to loop another time to get more accuracy. */</span></div>
<div class="line"><span class="lineno"> 5113</span>        <span class="comment">/* Update the terrestrial time (in solar days) adjusting by sidereal time (sidereal hours). */</span></div>
<div class="line"><span class="lineno"> 5114</span>        delta_days = (delta_sidereal_hours / 24.0) * SOLAR_DAYS_PER_SIDEREAL_DAY;</div>
<div class="line"><span class="lineno"> 5115</span>        time = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(time, delta_days);</div>
<div class="line"><span class="lineno"> 5116</span>    }</div>
<div class="line"><span class="lineno"> 5117</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a010c68c33f44cc7a7ad3de40bedcc3b5"><div class="ttname"><a href="astronomy_8c.html#a010c68c33f44cc7a7ad3de40bedcc3b5">Astronomy_Horizon</a></div><div class="ttdeci">astro_horizon_t Astronomy_Horizon(astro_time_t *time, astro_observer_t observer, double ra, double dec, astro_refraction_t refraction)</div><div class="ttdoc">Calculates the apparent location of a body relative to the local horizon of an observer on the Earth.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l03714">astronomy.c:3714</a></div></div>
<div class="ttc" id="aastronomy_8c_html_aa0bb7ca3d4e511d37cd5e0b5ab437273"><div class="ttname"><a href="astronomy_8c.html#aa0bb7ca3d4e511d37cd5e0b5ab437273">Astronomy_Equator</a></div><div class="ttdeci">astro_equatorial_t Astronomy_Equator(astro_body_t body, astro_time_t *time, astro_observer_t observer, astro_equator_date_t equdate, astro_aberration_t aberration)</div><div class="ttdoc">Calculates equatorial coordinates of a celestial body as seen by an observer on the Earth&#39;s surface.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l03627">astronomy.c:3627</a></div></div>
<div class="ttc" id="aastronomy_8h_html_addd9ba1b79de512abcc9bc277a233dca"><div class="ttname"><a href="#addd9ba1b79de512abcc9bc277a233dca">MAX_BODY</a></div><div class="ttdeci">#define MAX_BODY</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00223">astronomy.h:223</a></div></div>
<div class="ttc" id="astructastro__hour__angle__t_html"><div class="ttname"><a href="structastro__hour__angle__t.html">astro_hour_angle_t</a></div><div class="ttdoc">Information about a celestial body crossing a specific hour angle.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00442">astronomy.h:443</a></div></div>
<div class="ttc" id="astructastro__hour__angle__t_html_a7e6b30b3c23dc2dacb3bb80b09ef205e"><div class="ttname"><a href="structastro__hour__angle__t.html#a7e6b30b3c23dc2dacb3bb80b09ef205e">astro_hour_angle_t::hor</a></div><div class="ttdeci">astro_horizon_t hor</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00446">astronomy.h:446</a></div></div>
<div class="ttc" id="astructastro__hour__angle__t_html_aa7a75ac99b4133967ea4e62330535d34"><div class="ttname"><a href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">astro_hour_angle_t::time</a></div><div class="ttdeci">astro_time_t time</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00445">astronomy.h:445</a></div></div>
<div class="ttc" id="astructastro__hour__angle__t_html_ac410b728be11fc8bb31c971b275309e4"><div class="ttname"><a href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">astro_hour_angle_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00444">astronomy.h:444</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00707">ABERRATION</a>, <a class="el" href="astronomy_8h_source.html#l00051">ASTRO_EARTH_NOT_ALLOWED</a>, <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l03627">Astronomy_Equator()</a>, <a class="el" href="astronomy_8c_source.html#l03714">Astronomy_Horizon()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00255">astro_equatorial_t::dec</a>, <a class="el" href="astronomy_8h_source.html#l00731">EQUATOR_OF_DATE</a>, <a class="el" href="astronomy_8h_source.html#l00446">astro_hour_angle_t::hor</a>, <a class="el" href="astronomy_8h_source.html#l00240">astro_observer_t::longitude</a>, <a class="el" href="astronomy_8h_source.html#l00223">MAX_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00254">astro_equatorial_t::ra</a>, <a class="el" href="astronomy_8h_source.html#l00309">REFRACTION_NORMAL</a>, <a class="el" href="astronomy_8h_source.html#l00253">astro_equatorial_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00444">astro_hour_angle_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00445">astro_hour_angle_t::time</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l05207">Astronomy_SearchRiseSet()</a>.</p>

</div>
</div>
<a id="ab4b7afe904907d32ec6f4bb0fa0150e1" name="ab4b7afe904907d32ec6f4bb0fa0150e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4b7afe904907d32ec6f4bb0fa0150e1">&#9670;&#160;</a></span>Astronomy_SearchLocalSolarEclipse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__local__solar__eclipse__t.html">astro_local_solar_eclipse_t</a> Astronomy_SearchLocalSolarEclipse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for a solar eclipse visible at a specific location on the Earth's surface. </p>
<p>This function finds the first solar eclipse that occurs after <span class="tt">startTime</span>. A solar eclipse may be partial, annular, or total. See <a class="el" href="structastro__local__solar__eclipse__t.html" title="Information about a solar eclipse as seen by an observer at a given time and geographic location.">astro_local_solar_eclipse_t</a> for more information. To find a series of solar eclipses, call this function once, then keep calling <a class="el" href="astronomy_8c.html#af80a1f2856c22f187e324fa1015dbf2d" title="Searches for the next local solar eclipse in a series.">Astronomy_NextLocalSolarEclipse</a> as many times as desired, passing in the <span class="tt">peak</span> value returned from the previous call.</p>
<p>IMPORTANT: An eclipse reported by this function might be partly or completely invisible to the observer due to the time of day.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">startTime</td><td>The date and time for starting the search for a solar eclipse.</td></tr>
    <tr><td class="paramname">observer</td><td>The geographic location of the observer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure will contain <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the remaining structure fields are as described in <a class="el" href="structastro__local__solar__eclipse__t.html" title="Information about a solar eclipse as seen by an observer at a given time and geographic location.">astro_local_solar_eclipse_t</a>. Any other value indicates an error. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l08552">8552</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8555</span>{</div>
<div class="line"><span class="lineno"> 8556</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> PruneLatitude = 1.8;   <span class="comment">/* Moon&#39;s ecliptic latitude beyond which eclipse is impossible */</span></div>
<div class="line"><span class="lineno"> 8557</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> nmtime;</div>
<div class="line"><span class="lineno"> 8558</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> newmoon;</div>
<div class="line"><span class="lineno"> 8559</span>    shadow_t shadow;</div>
<div class="line"><span class="lineno"> 8560</span>    <span class="keywordtype">double</span> eclip_lat, eclip_lon, distance;</div>
<div class="line"><span class="lineno"> 8561</span>    <a class="code hl_struct" href="structastro__local__solar__eclipse__t.html">astro_local_solar_eclipse_t</a> eclipse;</div>
<div class="line"><span class="lineno"> 8562</span> </div>
<div class="line"><span class="lineno"> 8563</span>    <span class="comment">/* Iterate through consecutive new moons until we find a solar eclipse visible somewhere on Earth. */</span></div>
<div class="line"><span class="lineno"> 8564</span>    nmtime = startTime;</div>
<div class="line"><span class="lineno"> 8565</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno"> 8566</span>    {</div>
<div class="line"><span class="lineno"> 8567</span>        <span class="comment">/* Search for the next new moon. Any eclipse will be near it. */</span></div>
<div class="line"><span class="lineno"> 8568</span>        newmoon = <a class="code hl_function" href="astronomy_8c.html#a65b684108b11b56f4ec1f550f6a722ed">Astronomy_SearchMoonPhase</a>(0.0, nmtime, 40.0);</div>
<div class="line"><span class="lineno"> 8569</span>        <span class="keywordflow">if</span> (newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8570</span>            <span class="keywordflow">return</span> LocalSolarEclipseError(newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 8571</span> </div>
<div class="line"><span class="lineno"> 8572</span>        <span class="comment">/* Pruning: if the new moon&#39;s ecliptic latitude is too large, a solar eclipse is not possible. */</span></div>
<div class="line"><span class="lineno"> 8573</span>        CalcMoon(newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> / 36525.0, &amp;eclip_lon, &amp;eclip_lat, &amp;distance);</div>
<div class="line"><span class="lineno"> 8574</span>        <span class="keywordflow">if</span> (RAD2DEG * fabs(eclip_lat) &lt; PruneLatitude)</div>
<div class="line"><span class="lineno"> 8575</span>        {</div>
<div class="line"><span class="lineno"> 8576</span>            <span class="comment">/* Search near the new moon for the time when the observer */</span></div>
<div class="line"><span class="lineno"> 8577</span>            <span class="comment">/* is closest to the line passing through the centers of the Sun and Moon. */</span></div>
<div class="line"><span class="lineno"> 8578</span>            shadow = PeakLocalMoonShadow(newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>, observer);</div>
<div class="line"><span class="lineno"> 8579</span>            <span class="keywordflow">if</span> (shadow.status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8580</span>                <span class="keywordflow">return</span> LocalSolarEclipseError(shadow.status);</div>
<div class="line"><span class="lineno"> 8581</span> </div>
<div class="line"><span class="lineno"> 8582</span>            <span class="keywordflow">if</span> (shadow.r &lt; shadow.p)</div>
<div class="line"><span class="lineno"> 8583</span>            {</div>
<div class="line"><span class="lineno"> 8584</span>                <span class="comment">/* This is at least a partial solar eclipse for the observer. */</span></div>
<div class="line"><span class="lineno"> 8585</span>                eclipse = LocalEclipse(shadow, observer);</div>
<div class="line"><span class="lineno"> 8586</span> </div>
<div class="line"><span class="lineno"> 8587</span>                <span class="comment">/* If any error occurs, something is really wrong and we should bail out. */</span></div>
<div class="line"><span class="lineno"> 8588</span>                <span class="keywordflow">if</span> (eclipse.<a class="code hl_variable" href="structastro__local__solar__eclipse__t.html#a7c5a3c1e11e8bd03b97010e318a9094c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8589</span>                    <span class="keywordflow">return</span> eclipse;</div>
<div class="line"><span class="lineno"> 8590</span> </div>
<div class="line"><span class="lineno"> 8591</span>                <span class="comment">/* Ignore any eclipse that happens completely at night. */</span></div>
<div class="line"><span class="lineno"> 8592</span>                <span class="comment">/* More precisely, the center of the Sun must be above the horizon */</span></div>
<div class="line"><span class="lineno"> 8593</span>                <span class="comment">/* at the beginning or the end of the eclipse, or we skip the event. */</span></div>
<div class="line"><span class="lineno"> 8594</span>                <span class="keywordflow">if</span> (eclipse.<a class="code hl_variable" href="structastro__local__solar__eclipse__t.html#a9e2fd074d0262a60771893f7d841804c">partial_begin</a>.<a class="code hl_variable" href="structastro__eclipse__event__t.html#a9890b97cba9cf7c704df9278c75fe26b">altitude</a> &gt; 0.0 || eclipse.<a class="code hl_variable" href="structastro__local__solar__eclipse__t.html#a75b63c025e4e2c3434057eb0b6879a40">partial_end</a>.<a class="code hl_variable" href="structastro__eclipse__event__t.html#a9890b97cba9cf7c704df9278c75fe26b">altitude</a> &gt; 0.0)</div>
<div class="line"><span class="lineno"> 8595</span>                    <span class="keywordflow">return</span> eclipse;</div>
<div class="line"><span class="lineno"> 8596</span>            }</div>
<div class="line"><span class="lineno"> 8597</span>        }</div>
<div class="line"><span class="lineno"> 8598</span> </div>
<div class="line"><span class="lineno"> 8599</span>        <span class="comment">/* We didn&#39;t find an eclipse on this new moon, so search for the next one. */</span></div>
<div class="line"><span class="lineno"> 8600</span>        nmtime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(newmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>, 10.0);</div>
<div class="line"><span class="lineno"> 8601</span>    }</div>
<div class="line"><span class="lineno"> 8602</span>}</div>
<div class="ttc" id="astructastro__eclipse__event__t_html_a9890b97cba9cf7c704df9278c75fe26b"><div class="ttname"><a href="structastro__eclipse__event__t.html#a9890b97cba9cf7c704df9278c75fe26b">astro_eclipse_event_t::altitude</a></div><div class="ttdeci">double altitude</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00613">astronomy.h:613</a></div></div>
<div class="ttc" id="astructastro__local__solar__eclipse__t_html"><div class="ttname"><a href="structastro__local__solar__eclipse__t.html">astro_local_solar_eclipse_t</a></div><div class="ttdoc">Information about a solar eclipse as seen by an observer at a given time and geographic location.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00645">astronomy.h:646</a></div></div>
<div class="ttc" id="astructastro__local__solar__eclipse__t_html_a75b63c025e4e2c3434057eb0b6879a40"><div class="ttname"><a href="structastro__local__solar__eclipse__t.html#a75b63c025e4e2c3434057eb0b6879a40">astro_local_solar_eclipse_t::partial_end</a></div><div class="ttdeci">astro_eclipse_event_t partial_end</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00653">astronomy.h:653</a></div></div>
<div class="ttc" id="astructastro__local__solar__eclipse__t_html_a7c5a3c1e11e8bd03b97010e318a9094c"><div class="ttname"><a href="structastro__local__solar__eclipse__t.html#a7c5a3c1e11e8bd03b97010e318a9094c">astro_local_solar_eclipse_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00647">astronomy.h:647</a></div></div>
<div class="ttc" id="astructastro__local__solar__eclipse__t_html_a9e2fd074d0262a60771893f7d841804c"><div class="ttname"><a href="structastro__local__solar__eclipse__t.html#a9e2fd074d0262a60771893f7d841804c">astro_local_solar_eclipse_t::partial_begin</a></div><div class="ttdeci">astro_eclipse_event_t partial_begin</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00649">astronomy.h:649</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00613">astro_eclipse_event_t::altitude</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l04755">Astronomy_SearchMoonPhase()</a>, <a class="el" href="astronomy_8h_source.html#l00649">astro_local_solar_eclipse_t::partial_begin</a>, <a class="el" href="astronomy_8h_source.html#l00653">astro_local_solar_eclipse_t::partial_end</a>, <a class="el" href="astronomy_8h_source.html#l00647">astro_local_solar_eclipse_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a> y <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l08625">Astronomy_NextLocalSolarEclipse()</a>.</p>

</div>
</div>
<a id="ac7f2980f796f36f7c2b657efa494f9a5" name="ac7f2980f796f36f7c2b657efa494f9a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f2980f796f36f7c2b657efa494f9a5">&#9670;&#160;</a></span>Astronomy_SearchLunarApsis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a> Astronomy_SearchLunarApsis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the date and time of the Moon's closest distance (perigee) or farthest distance (apogee) with respect to the Earth. </p>
<p>Given a date and time to start the search in <span class="tt">startTime</span>, this function finds the next date and time that the center of the Moon reaches the closest or farthest point in its orbit with respect to the center of the Earth, whichever comes first after <span class="tt">startTime</span>.</p>
<p>The closest point is called <em>perigee</em> and the farthest point is called <em>apogee</em>. The word <em>apsis</em> refers to either event.</p>
<p>To iterate through consecutive alternating perigee and apogee events, call <span class="tt"><a class="el" href="astronomy_8c.html#ac7f2980f796f36f7c2b657efa494f9a5" title="Finds the date and time of the Moon&#39;s closest distance (perigee) or farthest distance (apogee) with r...">Astronomy_SearchLunarApsis</a></span> once, then use the return value to call <a class="el" href="astronomy_8c.html#ad11d7f8389aeb1d50320d4d958a22c73" title="Finds the next lunar perigee or apogee event in a series.">Astronomy_NextLunarApsis</a>. After that, keep feeding the previous return value from <span class="tt"><a class="el" href="astronomy_8c.html#ad11d7f8389aeb1d50320d4d958a22c73" title="Finds the next lunar perigee or apogee event in a series.">Astronomy_NextLunarApsis</a></span> into another call of <span class="tt"><a class="el" href="astronomy_8c.html#ad11d7f8389aeb1d50320d4d958a22c73" title="Finds the next lunar perigee or apogee event in a series.">Astronomy_NextLunarApsis</a></span> as many times as desired.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">startTime</td><td>The date and time at which to start searching for the next perigee or apogee.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure holds <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>, <span class="tt">time</span> holds the date and time of the next lunar apsis, <span class="tt">kind</span> holds either <span class="tt"><a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a></span> for perigee or <span class="tt"><a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a></span> for apogee, and the distance values <span class="tt">dist_au</span> (astronomical units) and <span class="tt">dist_km</span> (kilometers) are valid. If the function fails, <span class="tt">status</span> holds some value other than <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> that indicates what went wrong, and the other structure fields are invalid. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l05778">5778</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5779</span>{</div>
<div class="line"><span class="lineno"> 5780</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> t1, t2;</div>
<div class="line"><span class="lineno"> 5781</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> search;</div>
<div class="line"><span class="lineno"> 5782</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> m1, m2;</div>
<div class="line"><span class="lineno"> 5783</span>    <span class="keywordtype">int</span> positive_direction = +1;</div>
<div class="line"><span class="lineno"> 5784</span>    <span class="keywordtype">int</span> negative_direction = -1;</div>
<div class="line"><span class="lineno"> 5785</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> increment = 5.0;   <span class="comment">/* number of days to skip in each iteration */</span></div>
<div class="line"><span class="lineno"> 5786</span>    <a class="code hl_struct" href="structastro__apsis__t.html">astro_apsis_t</a> result;</div>
<div class="line"><span class="lineno"> 5787</span>    <span class="keywordtype">int</span> iter;</div>
<div class="line"><span class="lineno"> 5788</span> </div>
<div class="line"><span class="lineno"> 5789</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 5790</span><span class="comment">        Check the rate of change of the distance dr/dt at the start time.</span></div>
<div class="line"><span class="lineno"> 5791</span><span class="comment">        If it is positive, the Moon is currently getting farther away,</span></div>
<div class="line"><span class="lineno"> 5792</span><span class="comment">        so start looking for apogee.</span></div>
<div class="line"><span class="lineno"> 5793</span><span class="comment">        Conversely, if dr/dt &lt; 0, start looking for perigee.</span></div>
<div class="line"><span class="lineno"> 5794</span><span class="comment">        Either way, the polarity of the slope will change, so the product will be negative.</span></div>
<div class="line"><span class="lineno"> 5795</span><span class="comment">        Handle the crazy corner case of exactly touching zero by checking for m1*m2 &lt;= 0.</span></div>
<div class="line"><span class="lineno"> 5796</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 5797</span> </div>
<div class="line"><span class="lineno"> 5798</span>    t1 = startTime;</div>
<div class="line"><span class="lineno"> 5799</span>    m1 = moon_distance_slope(&amp;positive_direction, t1);</div>
<div class="line"><span class="lineno"> 5800</span>    <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5801</span>        <span class="keywordflow">return</span> ApsisError(m1.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5802</span> </div>
<div class="line"><span class="lineno"> 5803</span>    <span class="keywordflow">for</span> (iter=0; iter * increment &lt; 2.0 * MEAN_SYNODIC_MONTH; ++iter)</div>
<div class="line"><span class="lineno"> 5804</span>    {</div>
<div class="line"><span class="lineno"> 5805</span>        t2 = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(t1, increment);</div>
<div class="line"><span class="lineno"> 5806</span>        m2 = moon_distance_slope(&amp;positive_direction, t2);</div>
<div class="line"><span class="lineno"> 5807</span>        <span class="keywordflow">if</span> (m2.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5808</span>            <span class="keywordflow">return</span> ApsisError(m2.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5809</span> </div>
<div class="line"><span class="lineno"> 5810</span>        <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> * m2.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt;= 0.0)</div>
<div class="line"><span class="lineno"> 5811</span>        {</div>
<div class="line"><span class="lineno"> 5812</span>            <span class="comment">/* There is a change of slope polarity within the time range [t1, t2]. */</span></div>
<div class="line"><span class="lineno"> 5813</span>            <span class="comment">/* Therefore this time range contains an apsis. */</span></div>
<div class="line"><span class="lineno"> 5814</span>            <span class="comment">/* Figure out whether it is perigee or apogee. */</span></div>
<div class="line"><span class="lineno"> 5815</span> </div>
<div class="line"><span class="lineno"> 5816</span>            <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt; 0.0 || m2.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt; 0.0)</div>
<div class="line"><span class="lineno"> 5817</span>            {</div>
<div class="line"><span class="lineno"> 5818</span>                <span class="comment">/* We found a minimum-distance event: perigee. */</span></div>
<div class="line"><span class="lineno"> 5819</span>                <span class="comment">/* Search the time range for the time when the slope goes from negative to positive. */</span></div>
<div class="line"><span class="lineno"> 5820</span>                search = <a class="code hl_function" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a>(moon_distance_slope, &amp;positive_direction, t1, t2, 1.0);</div>
<div class="line"><span class="lineno"> 5821</span>                result.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> = <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a>;</div>
<div class="line"><span class="lineno"> 5822</span>            }</div>
<div class="line"><span class="lineno"> 5823</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt; 0.0 || m2.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt; 0.0)</div>
<div class="line"><span class="lineno"> 5824</span>            {</div>
<div class="line"><span class="lineno"> 5825</span>                <span class="comment">/* We found a maximum-distance event: apogee. */</span></div>
<div class="line"><span class="lineno"> 5826</span>                <span class="comment">/* Search the time range for the time when the slope goes from positive to negative. */</span></div>
<div class="line"><span class="lineno"> 5827</span>                search = <a class="code hl_function" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a>(moon_distance_slope, &amp;negative_direction, t1, t2, 1.0);</div>
<div class="line"><span class="lineno"> 5828</span>                result.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> = <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a>;</div>
<div class="line"><span class="lineno"> 5829</span>            }</div>
<div class="line"><span class="lineno"> 5830</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5831</span>            {</div>
<div class="line"><span class="lineno"> 5832</span>                <span class="comment">/* This should never happen. It should not be possible for both slopes to be zero. */</span></div>
<div class="line"><span class="lineno"> 5833</span>                <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno"> 5834</span>            }</div>
<div class="line"><span class="lineno"> 5835</span> </div>
<div class="line"><span class="lineno"> 5836</span>            <span class="keywordflow">if</span> (search.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5837</span>                <span class="keywordflow">return</span> ApsisError(search.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 5838</span> </div>
<div class="line"><span class="lineno"> 5839</span>            result.<a class="code hl_variable" href="structastro__apsis__t.html#ac65536f8f131c7bf91ae2d5744666247">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 5840</span>            result.<a class="code hl_variable" href="structastro__apsis__t.html#a3c22db68e225d218c54f401952b63516">time</a> = search.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>;</div>
<div class="line"><span class="lineno"> 5841</span>            result.<a class="code hl_variable" href="structastro__apsis__t.html#ada2d465ace3e0cfbe1547cd122117a7b">dist_au</a> = MoonDistance(search.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 5842</span>            result.<a class="code hl_variable" href="structastro__apsis__t.html#a1ff80b5f6e5d1cb863a5ccbcd362007f">dist_km</a> = result.<a class="code hl_variable" href="structastro__apsis__t.html#ada2d465ace3e0cfbe1547cd122117a7b">dist_au</a> * KM_PER_AU;</div>
<div class="line"><span class="lineno"> 5843</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 5844</span>        }</div>
<div class="line"><span class="lineno"> 5845</span> </div>
<div class="line"><span class="lineno"> 5846</span>        <span class="comment">/* We have not yet found a slope polarity change. Keep searching. */</span></div>
<div class="line"><span class="lineno"> 5847</span>        t1 = t2;</div>
<div class="line"><span class="lineno"> 5848</span>        m1 = m2;</div>
<div class="line"><span class="lineno"> 5849</span>    }</div>
<div class="line"><span class="lineno"> 5850</span> </div>
<div class="line"><span class="lineno"> 5851</span>    <span class="comment">/* It should not be possible to fail to find an apsis within 2 synodic months. */</span></div>
<div class="line"><span class="lineno"> 5852</span>    <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno"> 5853</span>}</div>
<div class="ttc" id="aastronomy_8c_html_acfc7b56d0aa2c81c6a10dc6af1748596"><div class="ttname"><a href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a></div><div class="ttdeci">astro_search_result_t Astronomy_Search(astro_search_func_t func, void *context, astro_time_t t1, astro_time_t t2, double dt_tolerance_seconds)</div><div class="ttdoc">Searches for a time at which a function&#39;s value increases through zero.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l04110">astronomy.c:4110</a></div></div>
<div class="ttc" id="astructastro__apsis__t_html_a1ff80b5f6e5d1cb863a5ccbcd362007f"><div class="ttname"><a href="structastro__apsis__t.html#a1ff80b5f6e5d1cb863a5ccbcd362007f">astro_apsis_t::dist_km</a></div><div class="ttdeci">double dist_km</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00499">astronomy.h:499</a></div></div>
<div class="ttc" id="astructastro__apsis__t_html_ada2d465ace3e0cfbe1547cd122117a7b"><div class="ttname"><a href="structastro__apsis__t.html#ada2d465ace3e0cfbe1547cd122117a7b">astro_apsis_t::dist_au</a></div><div class="ttdeci">double dist_au</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00498">astronomy.h:498</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00473">APSIS_APOCENTER</a>, <a class="el" href="astronomy_8h_source.html#l00472">APSIS_PERICENTER</a>, <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>, <a class="el" href="astronomy_8h_source.html#l00498">astro_apsis_t::dist_au</a>, <a class="el" href="astronomy_8h_source.html#l00499">astro_apsis_t::dist_km</a>, <a class="el" href="astronomy_8h_source.html#l00497">astro_apsis_t::kind</a>, <a class="el" href="astronomy_8h_source.html#l00495">astro_apsis_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00364">astro_func_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00496">astro_apsis_t::time</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a> y <a class="el" href="astronomy_8h_source.html#l00365">astro_func_result_t::value</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l05872">Astronomy_NextLunarApsis()</a>.</p>

</div>
</div>
<a id="abd507e53fe2f3dd32ae125825dcd0310" name="abd507e53fe2f3dd32ae125825dcd0310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd507e53fe2f3dd32ae125825dcd0310">&#9670;&#160;</a></span>Astronomy_SearchLunarEclipse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__lunar__eclipse__t.html">astro_lunar_eclipse_t</a> Astronomy_SearchLunarEclipse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for a lunar eclipse. </p>
<p>This function finds the first lunar eclipse that occurs after <span class="tt">startTime</span>. A lunar eclipse may be penumbral, partial, or total. See <a class="el" href="structastro__lunar__eclipse__t.html" title="Information about a lunar eclipse.">astro_lunar_eclipse_t</a> for more information. To find a series of lunar eclipses, call this function once, then keep calling <a class="el" href="astronomy_8c.html#a7f18a085f498a9cb2ea46804961cb9f2" title="Searches for the next lunar eclipse in a series.">Astronomy_NextLunarEclipse</a> as many times as desired, passing in the <span class="tt">peak</span> value returned from the previous call.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">startTime</td><td>The date and time for starting the search for a lunar eclipse.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure will contain <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the remaining structure fields will be valid. Any other value indicates an error. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l07945">7945</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 7946</span>{</div>
<div class="line"><span class="lineno"> 7947</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> PruneLatitude = 1.8;   <span class="comment">/* full Moon&#39;s ecliptic latitude above which eclipse is impossible */</span></div>
<div class="line"><span class="lineno"> 7948</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> fmtime;</div>
<div class="line"><span class="lineno"> 7949</span>    <a class="code hl_struct" href="structastro__lunar__eclipse__t.html">astro_lunar_eclipse_t</a> eclipse;</div>
<div class="line"><span class="lineno"> 7950</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> fullmoon;</div>
<div class="line"><span class="lineno"> 7951</span>    shadow_t shadow;</div>
<div class="line"><span class="lineno"> 7952</span>    <span class="keywordtype">int</span> fmcount;</div>
<div class="line"><span class="lineno"> 7953</span>    <span class="keywordtype">double</span> eclip_lat, eclip_lon, distance;</div>
<div class="line"><span class="lineno"> 7954</span> </div>
<div class="line"><span class="lineno"> 7955</span>    <span class="comment">/* Iterate through consecutive full moons until we find any kind of lunar eclipse. */</span></div>
<div class="line"><span class="lineno"> 7956</span>    fmtime = startTime;</div>
<div class="line"><span class="lineno"> 7957</span>    <span class="keywordflow">for</span> (fmcount=0; fmcount &lt; 12; ++fmcount)</div>
<div class="line"><span class="lineno"> 7958</span>    {</div>
<div class="line"><span class="lineno"> 7959</span>        <span class="comment">/* Search for the next full moon. Any eclipse will be near it. */</span></div>
<div class="line"><span class="lineno"> 7960</span>        fullmoon = <a class="code hl_function" href="astronomy_8c.html#a65b684108b11b56f4ec1f550f6a722ed">Astronomy_SearchMoonPhase</a>(180.0, fmtime, 40.0);</div>
<div class="line"><span class="lineno"> 7961</span>        <span class="keywordflow">if</span> (fullmoon.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 7962</span>            <span class="keywordflow">return</span> LunarEclipseError(fullmoon.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 7963</span> </div>
<div class="line"><span class="lineno"> 7964</span>        <span class="comment">/* Pruning: if the full Moon&#39;s ecliptic latitude is too large, a lunar eclipse is not possible. */</span></div>
<div class="line"><span class="lineno"> 7965</span>        CalcMoon(fullmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> / 36525.0, &amp;eclip_lon, &amp;eclip_lat, &amp;distance);</div>
<div class="line"><span class="lineno"> 7966</span>        <span class="keywordflow">if</span> (RAD2DEG * fabs(eclip_lat) &lt; PruneLatitude)</div>
<div class="line"><span class="lineno"> 7967</span>        {</div>
<div class="line"><span class="lineno"> 7968</span>            <span class="comment">/* Search near the full moon for the time when the center of the Moon */</span></div>
<div class="line"><span class="lineno"> 7969</span>            <span class="comment">/* is closest to the line passing through the centers of the Sun and Earth. */</span></div>
<div class="line"><span class="lineno"> 7970</span>            shadow = PeakEarthShadow(fullmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 7971</span>            <span class="keywordflow">if</span> (shadow.status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 7972</span>                <span class="keywordflow">return</span> LunarEclipseError(shadow.status);</div>
<div class="line"><span class="lineno"> 7973</span> </div>
<div class="line"><span class="lineno"> 7974</span>            <span class="keywordflow">if</span> (shadow.r &lt; shadow.p + <a class="code hl_define" href="astronomy_8c.html#a9b2ce2eb2d48c20018ff99db448b2023">MOON_MEAN_RADIUS_KM</a>)</div>
<div class="line"><span class="lineno"> 7975</span>            {</div>
<div class="line"><span class="lineno"> 7976</span>                <span class="comment">/* This is at least a penumbral eclipse. We will return a result. */</span></div>
<div class="line"><span class="lineno"> 7977</span>                eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#a27d3a3043f11195022839e1208507de0">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 7978</span>                eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#a5c0835e71a9aeb689cada8d859f11562">kind</a> = <a class="code hl_enumvalue" href="#a47b549ecf1d701370816c8a2475a5ab0a6c812835ae62ff9ac283f5679d887e99">ECLIPSE_PENUMBRAL</a>;</div>
<div class="line"><span class="lineno"> 7979</span>                eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#a60374107dfb19fa7daca88417e348c35">peak</a> = shadow.time;</div>
<div class="line"><span class="lineno"> 7980</span>                eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#a686e9c3c49f46311d5c6fa2258ec055f">sd_total</a> = 0.0;</div>
<div class="line"><span class="lineno"> 7981</span>                eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#ae6eeef2c4b9c9df5f9d067f39e3704fd">sd_partial</a> = 0.0;</div>
<div class="line"><span class="lineno"> 7982</span>                eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#aaeba38eb30b4e9df273d2b6f320ff699">sd_penum</a> = ShadowSemiDurationMinutes(shadow.time, shadow.p + <a class="code hl_define" href="astronomy_8c.html#a9b2ce2eb2d48c20018ff99db448b2023">MOON_MEAN_RADIUS_KM</a>, 200.0);</div>
<div class="line"><span class="lineno"> 7983</span>                <span class="keywordflow">if</span> (eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#aaeba38eb30b4e9df273d2b6f320ff699">sd_penum</a> &lt;= 0.0)</div>
<div class="line"><span class="lineno"> 7984</span>                    <span class="keywordflow">return</span> LunarEclipseError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>);</div>
<div class="line"><span class="lineno"> 7985</span> </div>
<div class="line"><span class="lineno"> 7986</span>                <span class="keywordflow">if</span> (shadow.r &lt; shadow.k + <a class="code hl_define" href="astronomy_8c.html#a9b2ce2eb2d48c20018ff99db448b2023">MOON_MEAN_RADIUS_KM</a>)</div>
<div class="line"><span class="lineno"> 7987</span>                {</div>
<div class="line"><span class="lineno"> 7988</span>                    <span class="comment">/* This is at least a partial eclipse. */</span></div>
<div class="line"><span class="lineno"> 7989</span>                    eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#a5c0835e71a9aeb689cada8d859f11562">kind</a> = <a class="code hl_enumvalue" href="#a47b549ecf1d701370816c8a2475a5ab0ae0bac54c134d87ebb6cf5a0b93a8d693">ECLIPSE_PARTIAL</a>;</div>
<div class="line"><span class="lineno"> 7990</span>                    eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#ae6eeef2c4b9c9df5f9d067f39e3704fd">sd_partial</a> = ShadowSemiDurationMinutes(shadow.time, shadow.k + <a class="code hl_define" href="astronomy_8c.html#a9b2ce2eb2d48c20018ff99db448b2023">MOON_MEAN_RADIUS_KM</a>, eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#aaeba38eb30b4e9df273d2b6f320ff699">sd_penum</a>);</div>
<div class="line"><span class="lineno"> 7991</span>                    <span class="keywordflow">if</span> (eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#ae6eeef2c4b9c9df5f9d067f39e3704fd">sd_partial</a> &lt;= 0.0)</div>
<div class="line"><span class="lineno"> 7992</span>                        <span class="keywordflow">return</span> LunarEclipseError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>);</div>
<div class="line"><span class="lineno"> 7993</span> </div>
<div class="line"><span class="lineno"> 7994</span>                    <span class="keywordflow">if</span> (shadow.r + <a class="code hl_define" href="astronomy_8c.html#a9b2ce2eb2d48c20018ff99db448b2023">MOON_MEAN_RADIUS_KM</a> &lt; shadow.k)</div>
<div class="line"><span class="lineno"> 7995</span>                    {</div>
<div class="line"><span class="lineno"> 7996</span>                        <span class="comment">/* This is a total eclipse. */</span></div>
<div class="line"><span class="lineno"> 7997</span>                        eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#a5c0835e71a9aeb689cada8d859f11562">kind</a> = <a class="code hl_enumvalue" href="#a47b549ecf1d701370816c8a2475a5ab0a05cb8c0f98ce41ffe81dda3b65f0c822">ECLIPSE_TOTAL</a>;</div>
<div class="line"><span class="lineno"> 7998</span>                        eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#a686e9c3c49f46311d5c6fa2258ec055f">sd_total</a> = ShadowSemiDurationMinutes(shadow.time, shadow.k - <a class="code hl_define" href="astronomy_8c.html#a9b2ce2eb2d48c20018ff99db448b2023">MOON_MEAN_RADIUS_KM</a>, eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#ae6eeef2c4b9c9df5f9d067f39e3704fd">sd_partial</a>);</div>
<div class="line"><span class="lineno"> 7999</span>                        <span class="keywordflow">if</span> (eclipse.<a class="code hl_variable" href="structastro__lunar__eclipse__t.html#a686e9c3c49f46311d5c6fa2258ec055f">sd_total</a> &lt;= 0.0)</div>
<div class="line"><span class="lineno"> 8000</span>                            <span class="keywordflow">return</span> LunarEclipseError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>);</div>
<div class="line"><span class="lineno"> 8001</span>                    }</div>
<div class="line"><span class="lineno"> 8002</span>                }</div>
<div class="line"><span class="lineno"> 8003</span>                <span class="keywordflow">return</span> eclipse;</div>
<div class="line"><span class="lineno"> 8004</span>            }</div>
<div class="line"><span class="lineno"> 8005</span>        }</div>
<div class="line"><span class="lineno"> 8006</span> </div>
<div class="line"><span class="lineno"> 8007</span>        <span class="comment">/* We didn&#39;t find an eclipse on this full moon, so search for the next one. */</span></div>
<div class="line"><span class="lineno"> 8008</span>        fmtime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(fullmoon.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>, 10.0);</div>
<div class="line"><span class="lineno"> 8009</span>    }</div>
<div class="line"><span class="lineno"> 8010</span> </div>
<div class="line"><span class="lineno"> 8011</span>    <span class="comment">/* Safety valve to prevent infinite loop. */</span></div>
<div class="line"><span class="lineno"> 8012</span>    <span class="comment">/* This should never happen, because at least 2 lunar eclipses happen per year. */</span></div>
<div class="line"><span class="lineno"> 8013</span>    <span class="keywordflow">return</span> LunarEclipseError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno"> 8014</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a9b2ce2eb2d48c20018ff99db448b2023"><div class="ttname"><a href="astronomy_8c.html#a9b2ce2eb2d48c20018ff99db448b2023">MOON_MEAN_RADIUS_KM</a></div><div class="ttdeci">#define MOON_MEAN_RADIUS_KM</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00168">astronomy.c:168</a></div></div>
<div class="ttc" id="astructastro__lunar__eclipse__t_html"><div class="ttname"><a href="structastro__lunar__eclipse__t.html">astro_lunar_eclipse_t</a></div><div class="ttdoc">Information about a lunar eclipse.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00541">astronomy.h:542</a></div></div>
<div class="ttc" id="astructastro__lunar__eclipse__t_html_a27d3a3043f11195022839e1208507de0"><div class="ttname"><a href="structastro__lunar__eclipse__t.html#a27d3a3043f11195022839e1208507de0">astro_lunar_eclipse_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00543">astronomy.h:543</a></div></div>
<div class="ttc" id="astructastro__lunar__eclipse__t_html_a5c0835e71a9aeb689cada8d859f11562"><div class="ttname"><a href="structastro__lunar__eclipse__t.html#a5c0835e71a9aeb689cada8d859f11562">astro_lunar_eclipse_t::kind</a></div><div class="ttdeci">astro_eclipse_kind_t kind</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00544">astronomy.h:544</a></div></div>
<div class="ttc" id="astructastro__lunar__eclipse__t_html_a60374107dfb19fa7daca88417e348c35"><div class="ttname"><a href="structastro__lunar__eclipse__t.html#a60374107dfb19fa7daca88417e348c35">astro_lunar_eclipse_t::peak</a></div><div class="ttdeci">astro_time_t peak</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00545">astronomy.h:545</a></div></div>
<div class="ttc" id="astructastro__lunar__eclipse__t_html_a686e9c3c49f46311d5c6fa2258ec055f"><div class="ttname"><a href="structastro__lunar__eclipse__t.html#a686e9c3c49f46311d5c6fa2258ec055f">astro_lunar_eclipse_t::sd_total</a></div><div class="ttdeci">double sd_total</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00548">astronomy.h:548</a></div></div>
<div class="ttc" id="astructastro__lunar__eclipse__t_html_aaeba38eb30b4e9df273d2b6f320ff699"><div class="ttname"><a href="structastro__lunar__eclipse__t.html#aaeba38eb30b4e9df273d2b6f320ff699">astro_lunar_eclipse_t::sd_penum</a></div><div class="ttdeci">double sd_penum</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00546">astronomy.h:546</a></div></div>
<div class="ttc" id="astructastro__lunar__eclipse__t_html_ae6eeef2c4b9c9df5f9d067f39e3704fd"><div class="ttname"><a href="structastro__lunar__eclipse__t.html#ae6eeef2c4b9c9df5f9d067f39e3704fd">astro_lunar_eclipse_t::sd_partial</a></div><div class="ttdeci">double sd_partial</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00547">astronomy.h:547</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00050">ASTRO_SEARCH_FAILURE</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l04755">Astronomy_SearchMoonPhase()</a>, <a class="el" href="astronomy_8h_source.html#l00510">ECLIPSE_PARTIAL</a>, <a class="el" href="astronomy_8h_source.html#l00509">ECLIPSE_PENUMBRAL</a>, <a class="el" href="astronomy_8h_source.html#l00512">ECLIPSE_TOTAL</a>, <a class="el" href="astronomy_8h_source.html#l00544">astro_lunar_eclipse_t::kind</a>, <a class="el" href="astronomy_8c_source.html#l00168">MOON_MEAN_RADIUS_KM</a>, <a class="el" href="astronomy_8h_source.html#l00545">astro_lunar_eclipse_t::peak</a>, <a class="el" href="astronomy_8h_source.html#l00547">astro_lunar_eclipse_t::sd_partial</a>, <a class="el" href="astronomy_8h_source.html#l00546">astro_lunar_eclipse_t::sd_penum</a>, <a class="el" href="astronomy_8h_source.html#l00548">astro_lunar_eclipse_t::sd_total</a>, <a class="el" href="astronomy_8h_source.html#l00543">astro_lunar_eclipse_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a> y <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l08033">Astronomy_NextLunarEclipse()</a>.</p>

</div>
</div>
<a id="a8a55a0edb77f90977ce3b11fe4346599" name="a8a55a0edb77f90977ce3b11fe4346599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a55a0edb77f90977ce3b11fe4346599">&#9670;&#160;</a></span>Astronomy_SearchMaxElongation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__elongation__t.html">astro_elongation_t</a> Astronomy_SearchMaxElongation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds a date and time when Mercury or Venus reaches its maximum angle from the Sun as seen from the Earth. </p>
<p>Mercury and Venus are are often difficult to observe because they are closer to the Sun than the Earth is. Mercury especially is almost always impossible to see because it gets lost in the Sun's glare. The best opportunities for spotting Mercury, and the best opportunities for viewing Venus through a telescope without atmospheric interference, are when these planets reach maximum elongation. These are events where the planets reach the maximum angle from the Sun as seen from the Earth.</p>
<p>This function solves for those times, reporting the next maximum elongation event's date and time, the elongation value itself, the relative longitude with the Sun, and whether the planet is best observed in the morning or evening. See <a class="el" href="astronomy_8c.html#a00bfd7542d6ca36be8603ce9185fd83a" title="Determines visibility of a celestial body relative to the Sun, as seen from the Earth.">Astronomy_Elongation</a> for more details about the returned structure.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>Either <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a></span> or <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a></span>. Any other value will fail with the error <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a></span>. To find the best viewing opportunites for planets farther from the Sun than the Earth is (Mars through Pluto) use <a class="el" href="astronomy_8c.html#a00dac3feb188bfabf94e0b81cfa7aa84" title="Searches for the time when the Earth and another planet are separated by a specified angle in eclipti...">Astronomy_SearchRelativeLongitude</a> to find the next opposition event.</td></tr>
    <tr><td class="paramname">startTime</td><td>The date and time at which to begin the search. The maximum elongation event found will always be the first one that occurs after this date and time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field of the returned structure will be <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the other structure fields will be valid. Otherwise, <span class="tt">status</span> will contain some other value indicating an error. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04486">4486</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4487</span>{</div>
<div class="line"><span class="lineno"> 4488</span>    <span class="keywordtype">double</span> s1, s2;</div>
<div class="line"><span class="lineno"> 4489</span>    <span class="keywordtype">int</span> iter;</div>
<div class="line"><span class="lineno"> 4490</span>    <a class="code hl_struct" href="structastro__angle__result__t.html">astro_angle_result_t</a> plon, elon;</div>
<div class="line"><span class="lineno"> 4491</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> t_start;</div>
<div class="line"><span class="lineno"> 4492</span>    <span class="keywordtype">double</span> rlon, rlon_lo, rlon_hi, adjust_days;</div>
<div class="line"><span class="lineno"> 4493</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> syn;</div>
<div class="line"><span class="lineno"> 4494</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> search1, search2, searchx;</div>
<div class="line"><span class="lineno"> 4495</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> t1, t2;</div>
<div class="line"><span class="lineno"> 4496</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> m1, m2;</div>
<div class="line"><span class="lineno"> 4497</span> </div>
<div class="line"><span class="lineno"> 4498</span>    <span class="comment">/* Determine the range of relative longitudes within which maximum elongation can occur for this planet. */</span></div>
<div class="line"><span class="lineno"> 4499</span>    <span class="keywordflow">switch</span> (body)</div>
<div class="line"><span class="lineno"> 4500</span>    {</div>
<div class="line"><span class="lineno"> 4501</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a>:</div>
<div class="line"><span class="lineno"> 4502</span>        s1 = 50.0;</div>
<div class="line"><span class="lineno"> 4503</span>        s2 = 85.0;</div>
<div class="line"><span class="lineno"> 4504</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4505</span> </div>
<div class="line"><span class="lineno"> 4506</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>:</div>
<div class="line"><span class="lineno"> 4507</span>        s1 = 40.0;</div>
<div class="line"><span class="lineno"> 4508</span>        s2 = 50.0;</div>
<div class="line"><span class="lineno"> 4509</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 4510</span> </div>
<div class="line"><span class="lineno"> 4511</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 4512</span>        <span class="comment">/* SearchMaxElongation works for Mercury and Venus only. */</span></div>
<div class="line"><span class="lineno"> 4513</span>        <span class="keywordflow">return</span> ElongError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>);</div>
<div class="line"><span class="lineno"> 4514</span>    }</div>
<div class="line"><span class="lineno"> 4515</span> </div>
<div class="line"><span class="lineno"> 4516</span>    syn = SynodicPeriod(body);</div>
<div class="line"><span class="lineno"> 4517</span>    <span class="keywordflow">if</span> (syn.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4518</span>        <span class="keywordflow">return</span> ElongError(syn.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 4519</span> </div>
<div class="line"><span class="lineno"> 4520</span>    iter = 0;</div>
<div class="line"><span class="lineno"> 4521</span>    <span class="keywordflow">while</span> (++iter &lt;= 2)</div>
<div class="line"><span class="lineno"> 4522</span>    {</div>
<div class="line"><span class="lineno"> 4523</span>        plon = <a class="code hl_function" href="astronomy_8c.html#a59a36426375cf0171db007d775fdcaa4">Astronomy_EclipticLongitude</a>(body, startTime);</div>
<div class="line"><span class="lineno"> 4524</span>        <span class="keywordflow">if</span> (plon.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4525</span>            <span class="keywordflow">return</span> ElongError(plon.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 4526</span> </div>
<div class="line"><span class="lineno"> 4527</span>        elon = <a class="code hl_function" href="astronomy_8c.html#a59a36426375cf0171db007d775fdcaa4">Astronomy_EclipticLongitude</a>(<a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>, startTime);</div>
<div class="line"><span class="lineno"> 4528</span>        <span class="keywordflow">if</span> (elon.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4529</span>            <span class="keywordflow">return</span> ElongError(elon.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 4530</span> </div>
<div class="line"><span class="lineno"> 4531</span>        rlon = LongitudeOffset(plon.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a> - elon.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>);    <span class="comment">/* clamp to (-180, +180] */</span></div>
<div class="line"><span class="lineno"> 4532</span> </div>
<div class="line"><span class="lineno"> 4533</span>        <span class="comment">/* The slope function is not well-behaved when rlon is near 0 degrees or 180 degrees */</span></div>
<div class="line"><span class="lineno"> 4534</span>        <span class="comment">/* because there is a cusp there that causes a discontinuity in the derivative. */</span></div>
<div class="line"><span class="lineno"> 4535</span>        <span class="comment">/* So we need to guard against searching near such times. */</span></div>
<div class="line"><span class="lineno"> 4536</span>        <span class="keywordflow">if</span> (rlon &gt;= -s1 &amp;&amp; rlon &lt; +s1)</div>
<div class="line"><span class="lineno"> 4537</span>        {</div>
<div class="line"><span class="lineno"> 4538</span>            <span class="comment">/* Seek to the window [+s1, +s2]. */</span></div>
<div class="line"><span class="lineno"> 4539</span>            adjust_days = 0.0;</div>
<div class="line"><span class="lineno"> 4540</span>            <span class="comment">/* Search forward for the time t1 when rel lon = +s1. */</span></div>
<div class="line"><span class="lineno"> 4541</span>            rlon_lo = +s1;</div>
<div class="line"><span class="lineno"> 4542</span>            <span class="comment">/* Search forward for the time t2 when rel lon = +s2. */</span></div>
<div class="line"><span class="lineno"> 4543</span>            rlon_hi = +s2;</div>
<div class="line"><span class="lineno"> 4544</span>        }</div>
<div class="line"><span class="lineno"> 4545</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rlon &gt; +s2 || rlon &lt; -s2)</div>
<div class="line"><span class="lineno"> 4546</span>        {</div>
<div class="line"><span class="lineno"> 4547</span>            <span class="comment">/* Seek to the next search window at [-s2, -s1]. */</span></div>
<div class="line"><span class="lineno"> 4548</span>            adjust_days = 0.0;</div>
<div class="line"><span class="lineno"> 4549</span>            <span class="comment">/* Search forward for the time t1 when rel lon = -s2. */</span></div>
<div class="line"><span class="lineno"> 4550</span>            rlon_lo = -s2;</div>
<div class="line"><span class="lineno"> 4551</span>            <span class="comment">/* Search forward for the time t2 when rel lon = -s1. */</span></div>
<div class="line"><span class="lineno"> 4552</span>            rlon_hi = -s1;</div>
<div class="line"><span class="lineno"> 4553</span>        }</div>
<div class="line"><span class="lineno"> 4554</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rlon &gt;= 0.0)</div>
<div class="line"><span class="lineno"> 4555</span>        {</div>
<div class="line"><span class="lineno"> 4556</span>            <span class="comment">/* rlon must be in the middle of the window [+s1, +s2]. */</span></div>
<div class="line"><span class="lineno"> 4557</span>            <span class="comment">/* Search BACKWARD for the time t1 when rel lon = +s1. */</span></div>
<div class="line"><span class="lineno"> 4558</span>            adjust_days = -syn.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> / 4.0;</div>
<div class="line"><span class="lineno"> 4559</span>            rlon_lo = +s1;</div>
<div class="line"><span class="lineno"> 4560</span>            rlon_hi = +s2;</div>
<div class="line"><span class="lineno"> 4561</span>            <span class="comment">/* Search forward from t1 to find t2 such that rel lon = +s2. */</span></div>
<div class="line"><span class="lineno"> 4562</span>        }</div>
<div class="line"><span class="lineno"> 4563</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 4564</span>        {</div>
<div class="line"><span class="lineno"> 4565</span>            <span class="comment">/* rlon must be in the middle of the window [-s2, -s1]. */</span></div>
<div class="line"><span class="lineno"> 4566</span>            <span class="comment">/* Search BACKWARD for the time t1 when rel lon = -s2. */</span></div>
<div class="line"><span class="lineno"> 4567</span>            adjust_days = -syn.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> / 4.0;</div>
<div class="line"><span class="lineno"> 4568</span>            rlon_lo = -s2;</div>
<div class="line"><span class="lineno"> 4569</span>            <span class="comment">/* Search forward from t1 to find t2 such that rel lon = -s1. */</span></div>
<div class="line"><span class="lineno"> 4570</span>            rlon_hi = -s1;</div>
<div class="line"><span class="lineno"> 4571</span>        }</div>
<div class="line"><span class="lineno"> 4572</span> </div>
<div class="line"><span class="lineno"> 4573</span>        t_start = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(startTime, adjust_days);</div>
<div class="line"><span class="lineno"> 4574</span> </div>
<div class="line"><span class="lineno"> 4575</span>        search1 = <a class="code hl_function" href="astronomy_8c.html#a00dac3feb188bfabf94e0b81cfa7aa84">Astronomy_SearchRelativeLongitude</a>(body, rlon_lo, t_start);</div>
<div class="line"><span class="lineno"> 4576</span>        <span class="keywordflow">if</span> (search1.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4577</span>            <span class="keywordflow">return</span> ElongError(search1.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 4578</span>        t1 = search1.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>;</div>
<div class="line"><span class="lineno"> 4579</span> </div>
<div class="line"><span class="lineno"> 4580</span>        search2 = <a class="code hl_function" href="astronomy_8c.html#a00dac3feb188bfabf94e0b81cfa7aa84">Astronomy_SearchRelativeLongitude</a>(body, rlon_hi, t1);</div>
<div class="line"><span class="lineno"> 4581</span>        <span class="keywordflow">if</span> (search2.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4582</span>            <span class="keywordflow">return</span> ElongError(search2.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 4583</span>        t2 = search2.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>;</div>
<div class="line"><span class="lineno"> 4584</span> </div>
<div class="line"><span class="lineno"> 4585</span>        <span class="comment">/* Now we have a time range [t1,t2] that brackets a maximum elongation event. */</span></div>
<div class="line"><span class="lineno"> 4586</span>        <span class="comment">/* Confirm the bracketing. */</span></div>
<div class="line"><span class="lineno"> 4587</span>        m1 = neg_elong_slope(&amp;body, t1);</div>
<div class="line"><span class="lineno"> 4588</span>        <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4589</span>            <span class="keywordflow">return</span> ElongError(m1.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 4590</span> </div>
<div class="line"><span class="lineno"> 4591</span>        <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt;= 0)</div>
<div class="line"><span class="lineno"> 4592</span>            <span class="keywordflow">return</span> ElongError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);    <span class="comment">/* there is a bug in the bracketing algorithm! */</span></div>
<div class="line"><span class="lineno"> 4593</span> </div>
<div class="line"><span class="lineno"> 4594</span>        m2 = neg_elong_slope(&amp;body, t2);</div>
<div class="line"><span class="lineno"> 4595</span>        <span class="keywordflow">if</span> (m2.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4596</span>            <span class="keywordflow">return</span> ElongError(m2.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 4597</span> </div>
<div class="line"><span class="lineno"> 4598</span>        <span class="keywordflow">if</span> (m2.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt;= 0)</div>
<div class="line"><span class="lineno"> 4599</span>            <span class="keywordflow">return</span> ElongError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);    <span class="comment">/* there is a bug in the bracketing algorithm! */</span></div>
<div class="line"><span class="lineno"> 4600</span> </div>
<div class="line"><span class="lineno"> 4601</span>        <span class="comment">/* Use the generic search algorithm to home in on where the slope crosses from negative to positive. */</span></div>
<div class="line"><span class="lineno"> 4602</span>        searchx = <a class="code hl_function" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a>(neg_elong_slope, &amp;body, t1, t2, 10.0);</div>
<div class="line"><span class="lineno"> 4603</span>        <span class="keywordflow">if</span> (searchx.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4604</span>            <span class="keywordflow">return</span> ElongError(searchx.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 4605</span> </div>
<div class="line"><span class="lineno"> 4606</span>        <span class="keywordflow">if</span> (searchx.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> &gt;= startTime.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>)</div>
<div class="line"><span class="lineno"> 4607</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a00bfd7542d6ca36be8603ce9185fd83a">Astronomy_Elongation</a>(body, searchx.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 4608</span> </div>
<div class="line"><span class="lineno"> 4609</span>        <span class="comment">/* This event is in the past (earlier than startTime). */</span></div>
<div class="line"><span class="lineno"> 4610</span>        <span class="comment">/* We need to search forward from t2 to find the next possible window. */</span></div>
<div class="line"><span class="lineno"> 4611</span>        <span class="comment">/* We never need to search more than twice. */</span></div>
<div class="line"><span class="lineno"> 4612</span>        startTime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(t2, 1.0);</div>
<div class="line"><span class="lineno"> 4613</span>    }</div>
<div class="line"><span class="lineno"> 4614</span> </div>
<div class="line"><span class="lineno"> 4615</span>    <span class="keywordflow">return</span> ElongError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>);</div>
<div class="line"><span class="lineno"> 4616</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a00bfd7542d6ca36be8603ce9185fd83a"><div class="ttname"><a href="astronomy_8c.html#a00bfd7542d6ca36be8603ce9185fd83a">Astronomy_Elongation</a></div><div class="ttdeci">astro_elongation_t Astronomy_Elongation(astro_body_t body, astro_time_t time)</div><div class="ttdoc">Determines visibility of a celestial body relative to the Sun, as seen from the Earth.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l04405">astronomy.c:4405</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a00dac3feb188bfabf94e0b81cfa7aa84"><div class="ttname"><a href="astronomy_8c.html#a00dac3feb188bfabf94e0b81cfa7aa84">Astronomy_SearchRelativeLongitude</a></div><div class="ttdeci">astro_search_result_t Astronomy_SearchRelativeLongitude(astro_body_t body, double targetRelLon, astro_time_t startTime)</div><div class="ttdoc">Searches for the time when the Earth and another planet are separated by a specified angle in eclipti...</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l04940">astronomy.c:4940</a></div></div>
<div class="ttc" id="aastronomy_8c_html_a59a36426375cf0171db007d775fdcaa4"><div class="ttname"><a href="astronomy_8c.html#a59a36426375cf0171db007d775fdcaa4">Astronomy_EclipticLongitude</a></div><div class="ttdeci">astro_angle_result_t Astronomy_EclipticLongitude(astro_body_t body, astro_time_t time)</div><div class="ttdoc">Calculates heliocentric ecliptic longitude of a body based on the J2000 equinox.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l03918">astronomy.c:3918</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00196">astro_angle_result_t::angle</a>, <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00050">ASTRO_SEARCH_FAILURE</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l03918">Astronomy_EclipticLongitude()</a>, <a class="el" href="astronomy_8c_source.html#l04405">Astronomy_Elongation()</a>, <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>, <a class="el" href="astronomy_8c_source.html#l04940">Astronomy_SearchRelativeLongitude()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00206">BODY_MERCURY</a>, <a class="el" href="astronomy_8h_source.html#l00207">BODY_VENUS</a>, <a class="el" href="astronomy_8h_source.html#l00195">astro_angle_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00364">astro_func_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a> y <a class="el" href="astronomy_8h_source.html#l00365">astro_func_result_t::value</a>.</p>

</div>
</div>
<a id="a65b684108b11b56f4ec1f550f6a722ed" name="a65b684108b11b56f4ec1f550f6a722ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65b684108b11b56f4ec1f550f6a722ed">&#9670;&#160;</a></span>Astronomy_SearchMoonPhase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a> Astronomy_SearchMoonPhase </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>targetLon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>limitDays</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the time that the Moon reaches a specified phase. </p>
<p>Lunar phases are conventionally defined in terms of the Moon's geocentric ecliptic longitude with respect to the Sun's geocentric ecliptic longitude. When the Moon and the Sun have the same longitude, that is defined as a new moon. When their longitudes are 180 degrees apart, that is defined as a full moon.</p>
<p>This function searches for any value of the lunar phase expressed as an angle in degrees in the range [0, 360).</p>
<p>If you want to iterate through lunar quarters (new moon, first quarter, full moon, third quarter) it is much easier to call the functions <a class="el" href="astronomy_8c.html#a6b711ffea7ca8c3fda84e8b852afbfcc" title="Finds the first lunar quarter after the specified date and time.">Astronomy_SearchMoonQuarter</a> and <a class="el" href="astronomy_8c.html#a8afb350495d15af59c428039676a60c3" title="Continues searching for lunar quarters from a previous search.">Astronomy_NextMoonQuarter</a>. This function is useful for finding general phase angles outside those four quarters.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetLon</td><td>The difference in geocentric longitude between the Sun and Moon that specifies the lunar phase being sought. This can be any value in the range [0, 360). Certain values have conventional names: 0 = new moon, 90 = first quarter, 180 = full moon, 270 = third quarter.</td></tr>
    <tr><td class="paramname">startTime</td><td>The beginning of the time window in which to search for the Moon reaching the specified phase.</td></tr>
    <tr><td class="paramname">limitDays</td><td>The number of days after <span class="tt">startTime</span> that limits the time window for the search.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>On success, the <span class="tt">status</span> field in the returned structure holds <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the <span class="tt">time</span> field holds the date and time when the Moon reaches the target longitude. On failure, <span class="tt">status</span> holds some other value as an error code. One possible error code is <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214adb7bba8df971053f5d72e4052fd9b637">ASTRO_NO_MOON_QUARTER</a></span> if <span class="tt">startTime</span> and <span class="tt">limitDays</span> do not enclose the desired event. See remarks in <a class="el" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a> for other possible error codes. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04755">4755</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4756</span>{</div>
<div class="line"><span class="lineno"> 4757</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 4758</span><span class="comment">        To avoid discontinuities in the moon_offset function causing problems,</span></div>
<div class="line"><span class="lineno"> 4759</span><span class="comment">        we need to approximate when that function will next return 0.</span></div>
<div class="line"><span class="lineno"> 4760</span><span class="comment">        We probe it with the start time and take advantage of the fact</span></div>
<div class="line"><span class="lineno"> 4761</span><span class="comment">        that every lunar phase repeats roughly every 29.5 days.</span></div>
<div class="line"><span class="lineno"> 4762</span><span class="comment">        There is a surprising uncertainty in the quarter timing,</span></div>
<div class="line"><span class="lineno"> 4763</span><span class="comment">        due to the eccentricity of the moon&#39;s orbit.</span></div>
<div class="line"><span class="lineno"> 4764</span><span class="comment">        I have seen up to 0.826 days away from the simple prediction.</span></div>
<div class="line"><span class="lineno"> 4765</span><span class="comment">        To be safe, we take the predicted time of the event and search</span></div>
<div class="line"><span class="lineno"> 4766</span><span class="comment">        +/-0.9 days around it (a 1.8-day wide window).</span></div>
<div class="line"><span class="lineno"> 4767</span><span class="comment">        Return ASTRO_NO_MOON_QUARTER if the final result goes beyond limitDays after startTime.</span></div>
<div class="line"><span class="lineno"> 4768</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 4769</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> uncertainty = 0.9;</div>
<div class="line"><span class="lineno"> 4770</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> funcres;</div>
<div class="line"><span class="lineno"> 4771</span>    <span class="keywordtype">double</span> ya, est_dt, dt1, dt2;</div>
<div class="line"><span class="lineno"> 4772</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> t1, t2;</div>
<div class="line"><span class="lineno"> 4773</span> </div>
<div class="line"><span class="lineno"> 4774</span>    funcres = moon_offset(&amp;targetLon, startTime);</div>
<div class="line"><span class="lineno"> 4775</span>    <span class="keywordflow">if</span> (funcres.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4776</span>        <span class="keywordflow">return</span> SearchError(funcres.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 4777</span> </div>
<div class="line"><span class="lineno"> 4778</span>    ya = funcres.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a>;</div>
<div class="line"><span class="lineno"> 4779</span>    <span class="keywordflow">if</span> (ya &gt; 0.0) ya -= 360.0;  <span class="comment">/* force searching forward in time, not backward */</span></div>
<div class="line"><span class="lineno"> 4780</span>    est_dt = -(MEAN_SYNODIC_MONTH * ya) / 360.0;</div>
<div class="line"><span class="lineno"> 4781</span>    dt1 = est_dt - uncertainty;</div>
<div class="line"><span class="lineno"> 4782</span>    <span class="keywordflow">if</span> (dt1 &gt; limitDays)</div>
<div class="line"><span class="lineno"> 4783</span>        <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214adb7bba8df971053f5d72e4052fd9b637">ASTRO_NO_MOON_QUARTER</a>);    <span class="comment">/* not possible for moon phase to occur within specified window (too short) */</span></div>
<div class="line"><span class="lineno"> 4784</span>    dt2 = est_dt + uncertainty;</div>
<div class="line"><span class="lineno"> 4785</span>    <span class="keywordflow">if</span> (limitDays &lt; dt2)</div>
<div class="line"><span class="lineno"> 4786</span>        dt2 = limitDays;</div>
<div class="line"><span class="lineno"> 4787</span>    t1 = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(startTime, dt1);</div>
<div class="line"><span class="lineno"> 4788</span>    t2 = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(startTime, dt2);</div>
<div class="line"><span class="lineno"> 4789</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a>(moon_offset, &amp;targetLon, t1, t2, 1.0);</div>
<div class="line"><span class="lineno"> 4790</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00052">ASTRO_NO_MOON_QUARTER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>, <a class="el" href="astronomy_8h_source.html#l00364">astro_func_result_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00365">astro_func_result_t::value</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l08197">Astronomy_SearchGlobalSolarEclipse()</a>, <a class="el" href="astronomy_8c_source.html#l08552">Astronomy_SearchLocalSolarEclipse()</a>, <a class="el" href="astronomy_8c_source.html#l07945">Astronomy_SearchLunarEclipse()</a> y <a class="el" href="astronomy_8c_source.html#l04813">Astronomy_SearchMoonQuarter()</a>.</p>

</div>
</div>
<a id="a6b711ffea7ca8c3fda84e8b852afbfcc" name="a6b711ffea7ca8c3fda84e8b852afbfcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b711ffea7ca8c3fda84e8b852afbfcc">&#9670;&#160;</a></span>Astronomy_SearchMoonQuarter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a> Astronomy_SearchMoonQuarter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the first lunar quarter after the specified date and time. </p>
<p>A lunar quarter is one of the following four lunar phase events: new moon, first quarter, full moon, third quarter. This function finds the lunar quarter that happens soonest after the specified date and time.</p>
<p>To continue iterating through consecutive lunar quarters, call this function once, followed by calls to <a class="el" href="astronomy_8c.html#a8afb350495d15af59c428039676a60c3" title="Continues searching for lunar quarters from a previous search.">Astronomy_NextMoonQuarter</a> as many times as desired.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">startTime</td><td>The date and time at which to start the search.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>This function should always succeed, indicated by the <span class="tt">status</span> field in the returned structure holding <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>. Any other value indicates an internal error, which should be <a href="https://github.com/cosinekitty/astronomy/issues">reported as an issue</a>. To be safe, calling code should always check the <span class="tt">status</span> field for errors. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04813">4813</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4814</span>{</div>
<div class="line"><span class="lineno"> 4815</span>    <a class="code hl_struct" href="structastro__moon__quarter__t.html">astro_moon_quarter_t</a> mq;</div>
<div class="line"><span class="lineno"> 4816</span>    <a class="code hl_struct" href="structastro__angle__result__t.html">astro_angle_result_t</a> angres;</div>
<div class="line"><span class="lineno"> 4817</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> srchres;</div>
<div class="line"><span class="lineno"> 4818</span> </div>
<div class="line"><span class="lineno"> 4819</span>    <span class="comment">/* Determine what the next quarter phase will be. */</span></div>
<div class="line"><span class="lineno"> 4820</span>    angres = <a class="code hl_function" href="astronomy_8c.html#ab76d11c320a6cbf0ba27f8884587cc6b">Astronomy_MoonPhase</a>(startTime);</div>
<div class="line"><span class="lineno"> 4821</span>    <span class="keywordflow">if</span> (angres.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4822</span>        <span class="keywordflow">return</span> MoonQuarterError(angres.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 4823</span> </div>
<div class="line"><span class="lineno"> 4824</span>    mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#acf3ebb2207eb4d23f3be53302a70dcb5">quarter</a> = (1 + (int)floor(angres.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a> / 90.0)) % 4;</div>
<div class="line"><span class="lineno"> 4825</span>    srchres = <a class="code hl_function" href="astronomy_8c.html#a65b684108b11b56f4ec1f550f6a722ed">Astronomy_SearchMoonPhase</a>(90.0 * mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#acf3ebb2207eb4d23f3be53302a70dcb5">quarter</a>, startTime, 10.0);</div>
<div class="line"><span class="lineno"> 4826</span>    <span class="keywordflow">if</span> (srchres.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4827</span>        <span class="keywordflow">return</span> MoonQuarterError(srchres.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 4828</span> </div>
<div class="line"><span class="lineno"> 4829</span>    mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#acd7a098d48ed7c5ab904744b988b5414">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 4830</span>    mq.<a class="code hl_variable" href="structastro__moon__quarter__t.html#ae726bcbd11b18a504d9e619df91d6c64">time</a> = srchres.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>;</div>
<div class="line"><span class="lineno"> 4831</span>    <span class="keywordflow">return</span> mq;</div>
<div class="line"><span class="lineno"> 4832</span>}</div>
<div class="ttc" id="aastronomy_8c_html_ab76d11c320a6cbf0ba27f8884587cc6b"><div class="ttname"><a href="astronomy_8c.html#ab76d11c320a6cbf0ba27f8884587cc6b">Astronomy_MoonPhase</a></div><div class="ttdeci">astro_angle_result_t Astronomy_MoonPhase(astro_time_t time)</div><div class="ttdoc">Returns the Moon&#39;s phase as an angle from 0 to 360 degrees.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l04702">astronomy.c:4702</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00196">astro_angle_result_t::angle</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l04702">Astronomy_MoonPhase()</a>, <a class="el" href="astronomy_8c_source.html#l04755">Astronomy_SearchMoonPhase()</a>, <a class="el" href="astronomy_8h_source.html#l00345">astro_moon_quarter_t::quarter</a>, <a class="el" href="astronomy_8h_source.html#l00195">astro_angle_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00344">astro_moon_quarter_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00346">astro_moon_quarter_t::time</a> y <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l04852">Astronomy_NextMoonQuarter()</a>.</p>

</div>
</div>
<a id="ac6f6e5cf8c1ada04175fbecb7db0570e" name="ac6f6e5cf8c1ada04175fbecb7db0570e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6f6e5cf8c1ada04175fbecb7db0570e">&#9670;&#160;</a></span>Astronomy_SearchPeakMagnitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__illum__t.html">astro_illum_t</a> Astronomy_SearchPeakMagnitude </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the date and time Venus will next appear brightest as seen from the Earth. </p>
<p>This function searches for the date and time Venus appears brightest as seen from the Earth. Currently only Venus is supported for the <span class="tt">body</span> parameter, though this could change in the future. Mercury's peak magnitude occurs at superior conjunction, when it is virtually impossible to see from the Earth, so peak magnitude events have little practical value for that planet. Planets other than Venus and Mercury reach peak magnitude at opposition, which can be found using <a class="el" href="astronomy_8c.html#a00dac3feb188bfabf94e0b81cfa7aa84" title="Searches for the time when the Earth and another planet are separated by a specified angle in eclipti...">Astronomy_SearchRelativeLongitude</a>. The Moon reaches peak magnitude at full moon, which can be found using <a class="el" href="astronomy_8c.html#a6b711ffea7ca8c3fda84e8b852afbfcc" title="Finds the first lunar quarter after the specified date and time.">Astronomy_SearchMoonQuarter</a> or <a class="el" href="astronomy_8c.html#a65b684108b11b56f4ec1f550f6a722ed" title="Searches for the time that the Moon reaches a specified phase.">Astronomy_SearchMoonPhase</a>. The Sun reaches peak magnitude at perihelion, which occurs each year in January. However, the difference is minor and has little practical value.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>Currently only <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a></span> is allowed. Any other value results in the error <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a></span>. See function remarks for more details.</td></tr>
    <tr><td class="paramname">startTime</td><td>The date and time to start searching for the next peak magnitude event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>See documentation about the return value from <a class="el" href="astronomy_8c.html#a25bd01696c3a6cf73441364e007fb4f6" title="Finds visual magnitude, phase angle, and other illumination information about a celestial body.">Astronomy_Illumination</a>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l05611">5611</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5612</span>{</div>
<div class="line"><span class="lineno"> 5613</span>    <span class="comment">/* s1 and s2 are relative longitudes within which peak magnitude of Venus can occur. */</span></div>
<div class="line"><span class="lineno"> 5614</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> s1 = 10.0;</div>
<div class="line"><span class="lineno"> 5615</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> s2 = 30.0;</div>
<div class="line"><span class="lineno"> 5616</span>    <span class="keywordtype">int</span> iter;</div>
<div class="line"><span class="lineno"> 5617</span>    <a class="code hl_struct" href="structastro__angle__result__t.html">astro_angle_result_t</a> plon, elon;</div>
<div class="line"><span class="lineno"> 5618</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> t1, t2, tx;</div>
<div class="line"><span class="lineno"> 5619</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> syn, m1, m2;</div>
<div class="line"><span class="lineno"> 5620</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> t_start;</div>
<div class="line"><span class="lineno"> 5621</span>    <span class="keywordtype">double</span> rlon, rlon_lo, rlon_hi, adjust_days;</div>
<div class="line"><span class="lineno"> 5622</span> </div>
<div class="line"><span class="lineno"> 5623</span>    <span class="keywordflow">if</span> (body != <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>)</div>
<div class="line"><span class="lineno"> 5624</span>        <span class="keywordflow">return</span> IllumError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>);</div>
<div class="line"><span class="lineno"> 5625</span> </div>
<div class="line"><span class="lineno"> 5626</span>    iter = 0;</div>
<div class="line"><span class="lineno"> 5627</span>    <span class="keywordflow">while</span> (++iter &lt;= 2)</div>
<div class="line"><span class="lineno"> 5628</span>    {</div>
<div class="line"><span class="lineno"> 5629</span>        <span class="comment">/* Find current heliocentric relative longitude between the */</span></div>
<div class="line"><span class="lineno"> 5630</span>        <span class="comment">/* inferior planet and the Earth. */</span></div>
<div class="line"><span class="lineno"> 5631</span>        plon = <a class="code hl_function" href="astronomy_8c.html#a59a36426375cf0171db007d775fdcaa4">Astronomy_EclipticLongitude</a>(body, startTime);</div>
<div class="line"><span class="lineno"> 5632</span>        <span class="keywordflow">if</span> (plon.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5633</span>            <span class="keywordflow">return</span> IllumError(plon.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 5634</span> </div>
<div class="line"><span class="lineno"> 5635</span>        elon = <a class="code hl_function" href="astronomy_8c.html#a59a36426375cf0171db007d775fdcaa4">Astronomy_EclipticLongitude</a>(<a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>, startTime);</div>
<div class="line"><span class="lineno"> 5636</span>        <span class="keywordflow">if</span> (elon.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5637</span>            <span class="keywordflow">return</span> IllumError(elon.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 5638</span> </div>
<div class="line"><span class="lineno"> 5639</span>        rlon = LongitudeOffset(plon.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a> - elon.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>);    <span class="comment">/* clamp to (-180, +180]. */</span></div>
<div class="line"><span class="lineno"> 5640</span> </div>
<div class="line"><span class="lineno"> 5641</span>        <span class="comment">/* The slope function is not well-behaved when rlon is near 0 degrees or 180 degrees */</span></div>
<div class="line"><span class="lineno"> 5642</span>        <span class="comment">/* because there is a cusp there that causes a discontinuity in the derivative. */</span></div>
<div class="line"><span class="lineno"> 5643</span>        <span class="comment">/* So we need to guard against searching near such times. */</span></div>
<div class="line"><span class="lineno"> 5644</span> </div>
<div class="line"><span class="lineno"> 5645</span>        <span class="keywordflow">if</span> (rlon &gt;= -s1 &amp;&amp; rlon &lt; +s1)</div>
<div class="line"><span class="lineno"> 5646</span>        {</div>
<div class="line"><span class="lineno"> 5647</span>            <span class="comment">/* Seek to the window [+s1, +s2]. */</span></div>
<div class="line"><span class="lineno"> 5648</span>            adjust_days = 0.0;</div>
<div class="line"><span class="lineno"> 5649</span>            <span class="comment">/* Search forward for the time t1 when rel lon = +s1. */</span></div>
<div class="line"><span class="lineno"> 5650</span>            rlon_lo = +s1;</div>
<div class="line"><span class="lineno"> 5651</span>            <span class="comment">/* Search forward for the time t2 when rel lon = +s2. */</span></div>
<div class="line"><span class="lineno"> 5652</span>            rlon_hi = +s2;</div>
<div class="line"><span class="lineno"> 5653</span>        }</div>
<div class="line"><span class="lineno"> 5654</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rlon &gt;= +s2 || rlon &lt; -s2)</div>
<div class="line"><span class="lineno"> 5655</span>        {</div>
<div class="line"><span class="lineno"> 5656</span>            <span class="comment">/* Seek to the next search window at [-s2, -s1]. */</span></div>
<div class="line"><span class="lineno"> 5657</span>            adjust_days = 0.0;</div>
<div class="line"><span class="lineno"> 5658</span>            <span class="comment">/* Search forward for the time t1 when rel lon = -s2. */</span></div>
<div class="line"><span class="lineno"> 5659</span>            rlon_lo = -s2;</div>
<div class="line"><span class="lineno"> 5660</span>            <span class="comment">/* Search forward for the time t2 when rel lon = -s1. */</span></div>
<div class="line"><span class="lineno"> 5661</span>            rlon_hi = -s1;</div>
<div class="line"><span class="lineno"> 5662</span>        }</div>
<div class="line"><span class="lineno"> 5663</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rlon &gt;= 0)</div>
<div class="line"><span class="lineno"> 5664</span>        {</div>
<div class="line"><span class="lineno"> 5665</span>            <span class="comment">/* rlon must be in the middle of the window [+s1, +s2]. */</span></div>
<div class="line"><span class="lineno"> 5666</span>            <span class="comment">/* Search BACKWARD for the time t1 when rel lon = +s1. */</span></div>
<div class="line"><span class="lineno"> 5667</span>            syn = SynodicPeriod(body);</div>
<div class="line"><span class="lineno"> 5668</span>            <span class="keywordflow">if</span> (syn.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5669</span>                <span class="keywordflow">return</span> IllumError(syn.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5670</span>            adjust_days = -syn.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> / 4;</div>
<div class="line"><span class="lineno"> 5671</span>            rlon_lo = +s1;</div>
<div class="line"><span class="lineno"> 5672</span>            <span class="comment">/* Search forward from t1 to find t2 such that rel lon = +s2. */</span></div>
<div class="line"><span class="lineno"> 5673</span>            rlon_hi = +s2;</div>
<div class="line"><span class="lineno"> 5674</span>        }</div>
<div class="line"><span class="lineno"> 5675</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5676</span>        {</div>
<div class="line"><span class="lineno"> 5677</span>            <span class="comment">/* rlon must be in the middle of the window [-s2, -s1]. */</span></div>
<div class="line"><span class="lineno"> 5678</span>            <span class="comment">/* Search BACKWARD for the time t1 when rel lon = -s2. */</span></div>
<div class="line"><span class="lineno"> 5679</span>            syn = SynodicPeriod(body);</div>
<div class="line"><span class="lineno"> 5680</span>            <span class="keywordflow">if</span> (syn.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5681</span>                <span class="keywordflow">return</span> IllumError(syn.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5682</span>            adjust_days = -syn.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> / 4;</div>
<div class="line"><span class="lineno"> 5683</span>            rlon_lo = -s2;</div>
<div class="line"><span class="lineno"> 5684</span>            <span class="comment">/* Search forward from t1 to find t2 such that rel lon = -s1. */</span></div>
<div class="line"><span class="lineno"> 5685</span>            rlon_hi = -s1;</div>
<div class="line"><span class="lineno"> 5686</span>        }</div>
<div class="line"><span class="lineno"> 5687</span>        t_start = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(startTime, adjust_days);</div>
<div class="line"><span class="lineno"> 5688</span>        t1 = <a class="code hl_function" href="astronomy_8c.html#a00dac3feb188bfabf94e0b81cfa7aa84">Astronomy_SearchRelativeLongitude</a>(body, rlon_lo, t_start);</div>
<div class="line"><span class="lineno"> 5689</span>        <span class="keywordflow">if</span> (t1.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5690</span>            <span class="keywordflow">return</span> IllumError(t1.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 5691</span>        t2 = <a class="code hl_function" href="astronomy_8c.html#a00dac3feb188bfabf94e0b81cfa7aa84">Astronomy_SearchRelativeLongitude</a>(body, rlon_hi, t1.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 5692</span>        <span class="keywordflow">if</span> (t2.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5693</span>            <span class="keywordflow">return</span> IllumError(t2.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 5694</span> </div>
<div class="line"><span class="lineno"> 5695</span>        <span class="comment">/* Now we have a time range [t1,t2] that brackets a maximum magnitude event. */</span></div>
<div class="line"><span class="lineno"> 5696</span>        <span class="comment">/* Confirm the bracketing. */</span></div>
<div class="line"><span class="lineno"> 5697</span>        m1 = mag_slope(&amp;body, t1.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 5698</span>        <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5699</span>            <span class="keywordflow">return</span> IllumError(m1.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5700</span>        <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt;= 0.0)</div>
<div class="line"><span class="lineno"> 5701</span>            <span class="keywordflow">return</span> IllumError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);    <span class="comment">/* should never happen! */</span></div>
<div class="line"><span class="lineno"> 5702</span> </div>
<div class="line"><span class="lineno"> 5703</span>        m2 = mag_slope(&amp;body, t2.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 5704</span>        <span class="keywordflow">if</span> (m2.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5705</span>            <span class="keywordflow">return</span> IllumError(m2.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5706</span>        <span class="keywordflow">if</span> (m2.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt;= 0.0)</div>
<div class="line"><span class="lineno"> 5707</span>            <span class="keywordflow">return</span> IllumError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);    <span class="comment">/* should never happen! */</span></div>
<div class="line"><span class="lineno"> 5708</span> </div>
<div class="line"><span class="lineno"> 5709</span>        <span class="comment">/* Use the generic search algorithm to home in on where the slope crosses from negative to positive. */</span></div>
<div class="line"><span class="lineno"> 5710</span>        tx = <a class="code hl_function" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a>(mag_slope, &amp;body, t1.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>, t2.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>, 10.0);</div>
<div class="line"><span class="lineno"> 5711</span>        <span class="keywordflow">if</span> (tx.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5712</span>            <span class="keywordflow">return</span> IllumError(tx.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 5713</span> </div>
<div class="line"><span class="lineno"> 5714</span>        <span class="keywordflow">if</span> (tx.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> &gt;= startTime.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>)</div>
<div class="line"><span class="lineno"> 5715</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a25bd01696c3a6cf73441364e007fb4f6">Astronomy_Illumination</a>(body, tx.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 5716</span> </div>
<div class="line"><span class="lineno"> 5717</span>        <span class="comment">/* This event is in the past (earlier than startTime). */</span></div>
<div class="line"><span class="lineno"> 5718</span>        <span class="comment">/* We need to search forward from t2 to find the next possible window. */</span></div>
<div class="line"><span class="lineno"> 5719</span>        <span class="comment">/* We never need to search more than twice. */</span></div>
<div class="line"><span class="lineno"> 5720</span>        startTime = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(t2.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>, 1.0);</div>
<div class="line"><span class="lineno"> 5721</span>    }</div>
<div class="line"><span class="lineno"> 5722</span> </div>
<div class="line"><span class="lineno"> 5723</span>    <span class="keywordflow">return</span> IllumError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>);</div>
<div class="line"><span class="lineno"> 5724</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a25bd01696c3a6cf73441364e007fb4f6"><div class="ttname"><a href="astronomy_8c.html#a25bd01696c3a6cf73441364e007fb4f6">Astronomy_Illumination</a></div><div class="ttdeci">astro_illum_t Astronomy_Illumination(astro_body_t body, astro_time_t time)</div><div class="ttdoc">Finds visual magnitude, phase angle, and other illumination information about a celestial body.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l05450">astronomy.c:5450</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00196">astro_angle_result_t::angle</a>, <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00050">ASTRO_SEARCH_FAILURE</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l03918">Astronomy_EclipticLongitude()</a>, <a class="el" href="astronomy_8c_source.html#l05450">Astronomy_Illumination()</a>, <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>, <a class="el" href="astronomy_8c_source.html#l04940">Astronomy_SearchRelativeLongitude()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00207">BODY_VENUS</a>, <a class="el" href="astronomy_8h_source.html#l00195">astro_angle_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00364">astro_func_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a> y <a class="el" href="astronomy_8h_source.html#l00365">astro_func_result_t::value</a>.</p>

</div>
</div>
<a id="a1feb036341314870753afb2e3f1ebe36" name="a1feb036341314870753afb2e3f1ebe36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1feb036341314870753afb2e3f1ebe36">&#9670;&#160;</a></span>Astronomy_SearchPlanetApsis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__apsis__t.html">astro_apsis_t</a> Astronomy_SearchPlanetApsis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the date and time of a planet's perihelion (closest approach to the Sun) or aphelion (farthest distance from the Sun) after a given time. </p>
<p>Given a date and time to start the search in <span class="tt">startTime</span>, this function finds the next date and time that the center of the specified planet reaches the closest or farthest point in its orbit with respect to the center of the Sun, whichever comes first after <span class="tt">startTime</span>.</p>
<p>The closest point is called <em>perihelion</em> and the farthest point is called <em>aphelion</em>. The word <em>apsis</em> refers to either event.</p>
<p>To iterate through consecutive alternating perihelion and aphelion events, call <span class="tt"><a class="el" href="astronomy_8c.html#a1feb036341314870753afb2e3f1ebe36" title="Finds the date and time of a planet&#39;s perihelion (closest approach to the Sun) or aphelion (farthest ...">Astronomy_SearchPlanetApsis</a></span> once, then use the return value to call <a class="el" href="astronomy_8c.html#a3d003463708889dd98e8ebbd947988d6" title="Finds the next planetary perihelion or aphelion event in a series.">Astronomy_NextPlanetApsis</a>. After that, keep feeding the previous return value from <span class="tt"><a class="el" href="astronomy_8c.html#a3d003463708889dd98e8ebbd947988d6" title="Finds the next planetary perihelion or aphelion event in a series.">Astronomy_NextPlanetApsis</a></span> into another call of <span class="tt"><a class="el" href="astronomy_8c.html#a3d003463708889dd98e8ebbd947988d6" title="Finds the next planetary perihelion or aphelion event in a series.">Astronomy_NextPlanetApsis</a></span> as many times as desired.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The planet for which to find the next perihelion/aphelion event. Not allowed to be <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a></span> or <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a></span>.</td></tr>
    <tr><td class="paramname">startTime</td><td>The date and time at which to start searching for the next perihelion or aphelion.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure holds <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>, <span class="tt">time</span> holds the date and time of the next planetary apsis, <span class="tt">kind</span> holds either <span class="tt"><a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a></span> for perihelion or <span class="tt"><a class="el" href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a></span> for aphelion, and the distance values <span class="tt">dist_au</span> (astronomical units) and <span class="tt">dist_km</span> (kilometers) are valid. If the function fails, <span class="tt">status</span> holds some value other than <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> that indicates what went wrong, and the other structure fields are invalid. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06110">6110</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6111</span>{</div>
<div class="line"><span class="lineno"> 6112</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> t1, t2;</div>
<div class="line"><span class="lineno"> 6113</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> search;</div>
<div class="line"><span class="lineno"> 6114</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> m1, m2;</div>
<div class="line"><span class="lineno"> 6115</span>    planet_distance_context_t context;</div>
<div class="line"><span class="lineno"> 6116</span>    <a class="code hl_struct" href="structastro__apsis__t.html">astro_apsis_t</a> result;</div>
<div class="line"><span class="lineno"> 6117</span>    <span class="keywordtype">int</span> iter;</div>
<div class="line"><span class="lineno"> 6118</span>    <span class="keywordtype">double</span> orbit_period_days;</div>
<div class="line"><span class="lineno"> 6119</span>    <span class="keywordtype">double</span> increment;   <span class="comment">/* number of days to skip in each iteration */</span></div>
<div class="line"><span class="lineno"> 6120</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> dist;</div>
<div class="line"><span class="lineno"> 6121</span> </div>
<div class="line"><span class="lineno"> 6122</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a645f142c7e3aa09205eabd6ac0e6d250">BODY_NEPTUNE</a> || body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a743cc812e4ce814620e93664a961cffa">BODY_PLUTO</a>)</div>
<div class="line"><span class="lineno"> 6123</span>        <span class="keywordflow">return</span> BruteSearchPlanetApsis(body, startTime);</div>
<div class="line"><span class="lineno"> 6124</span> </div>
<div class="line"><span class="lineno"> 6125</span>    orbit_period_days = PlanetOrbitalPeriod(body);</div>
<div class="line"><span class="lineno"> 6126</span>    <span class="keywordflow">if</span> (orbit_period_days == 0.0)</div>
<div class="line"><span class="lineno"> 6127</span>        <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>);      <span class="comment">/* The body must be a planet. */</span></div>
<div class="line"><span class="lineno"> 6128</span> </div>
<div class="line"><span class="lineno"> 6129</span>    increment = orbit_period_days / 6.0;</div>
<div class="line"><span class="lineno"> 6130</span> </div>
<div class="line"><span class="lineno"> 6131</span>    context.body = body;</div>
<div class="line"><span class="lineno"> 6132</span> </div>
<div class="line"><span class="lineno"> 6133</span>    t1 = startTime;</div>
<div class="line"><span class="lineno"> 6134</span>    context.direction = +1;</div>
<div class="line"><span class="lineno"> 6135</span>    m1 = planet_distance_slope(&amp;context, t1);</div>
<div class="line"><span class="lineno"> 6136</span>    <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6137</span>        <span class="keywordflow">return</span> ApsisError(m1.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 6138</span> </div>
<div class="line"><span class="lineno"> 6139</span>    <span class="keywordflow">for</span> (iter=0; iter * increment &lt; 2.0 * orbit_period_days; ++iter)</div>
<div class="line"><span class="lineno"> 6140</span>    {</div>
<div class="line"><span class="lineno"> 6141</span>        t2 = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(t1, increment);</div>
<div class="line"><span class="lineno"> 6142</span>        context.direction = +1;</div>
<div class="line"><span class="lineno"> 6143</span>        m2 = planet_distance_slope(&amp;context, t2);</div>
<div class="line"><span class="lineno"> 6144</span>        <span class="keywordflow">if</span> (m2.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6145</span>            <span class="keywordflow">return</span> ApsisError(m2.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 6146</span> </div>
<div class="line"><span class="lineno"> 6147</span>        <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> * m2.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt;= 0.0)</div>
<div class="line"><span class="lineno"> 6148</span>        {</div>
<div class="line"><span class="lineno"> 6149</span>            <span class="comment">/* There is a change of slope polarity within the time range [t1, t2]. */</span></div>
<div class="line"><span class="lineno"> 6150</span>            <span class="comment">/* Therefore this time range contains an apsis. */</span></div>
<div class="line"><span class="lineno"> 6151</span>            <span class="comment">/* Figure out whether it is perihelion or aphelion. */</span></div>
<div class="line"><span class="lineno"> 6152</span> </div>
<div class="line"><span class="lineno"> 6153</span>            <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt; 0.0 || m2.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt; 0.0)</div>
<div class="line"><span class="lineno"> 6154</span>            {</div>
<div class="line"><span class="lineno"> 6155</span>                <span class="comment">/* We found a minimum-distance event: perihelion. */</span></div>
<div class="line"><span class="lineno"> 6156</span>                <span class="comment">/* Search the time range for the time when the slope goes from negative to positive. */</span></div>
<div class="line"><span class="lineno"> 6157</span>                context.direction = +1;</div>
<div class="line"><span class="lineno"> 6158</span>                result.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> = <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a6ade54886bd432ef002cac56039daa2d">APSIS_PERICENTER</a>;</div>
<div class="line"><span class="lineno"> 6159</span>            }</div>
<div class="line"><span class="lineno"> 6160</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m1.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt; 0.0 || m2.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt; 0.0)</div>
<div class="line"><span class="lineno"> 6161</span>            {</div>
<div class="line"><span class="lineno"> 6162</span>                <span class="comment">/* We found a maximum-distance event: aphelion. */</span></div>
<div class="line"><span class="lineno"> 6163</span>                <span class="comment">/* Search the time range for the time when the slope goes from positive to negative. */</span></div>
<div class="line"><span class="lineno"> 6164</span>                context.direction = -1;</div>
<div class="line"><span class="lineno"> 6165</span>                result.<a class="code hl_variable" href="structastro__apsis__t.html#a2bf33f8d08caf0eaf226539c22dceb09">kind</a> = <a class="code hl_enumvalue" href="#a637f68d8e61bfb5f1e49d6a115a05330a9c513b47e587176dc5a0197dd0e5118a">APSIS_APOCENTER</a>;</div>
<div class="line"><span class="lineno"> 6166</span>            }</div>
<div class="line"><span class="lineno"> 6167</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6168</span>            {</div>
<div class="line"><span class="lineno"> 6169</span>                <span class="comment">/* This should never happen. It should not be possible for both slopes to be zero. */</span></div>
<div class="line"><span class="lineno"> 6170</span>                <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno"> 6171</span>            }</div>
<div class="line"><span class="lineno"> 6172</span> </div>
<div class="line"><span class="lineno"> 6173</span>            search = <a class="code hl_function" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a>(planet_distance_slope, &amp;context, t1, t2, 1.0);</div>
<div class="line"><span class="lineno"> 6174</span>            <span class="keywordflow">if</span> (search.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6175</span>                <span class="keywordflow">return</span> ApsisError(search.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 6176</span> </div>
<div class="line"><span class="lineno"> 6177</span>            dist = <a class="code hl_function" href="astronomy_8c.html#a1968d4049c663695141340e1747cc5ca">Astronomy_HelioDistance</a>(body, search.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 6178</span>            <span class="keywordflow">if</span> (dist.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6179</span>                <span class="keywordflow">return</span> ApsisError(dist.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 6180</span> </div>
<div class="line"><span class="lineno"> 6181</span>            result.<a class="code hl_variable" href="structastro__apsis__t.html#ac65536f8f131c7bf91ae2d5744666247">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6182</span>            result.<a class="code hl_variable" href="structastro__apsis__t.html#a3c22db68e225d218c54f401952b63516">time</a> = search.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>;</div>
<div class="line"><span class="lineno"> 6183</span>            result.<a class="code hl_variable" href="structastro__apsis__t.html#ada2d465ace3e0cfbe1547cd122117a7b">dist_au</a> = dist.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a>;</div>
<div class="line"><span class="lineno"> 6184</span>            result.<a class="code hl_variable" href="structastro__apsis__t.html#a1ff80b5f6e5d1cb863a5ccbcd362007f">dist_km</a> = dist.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> * KM_PER_AU;</div>
<div class="line"><span class="lineno"> 6185</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 6186</span>        }</div>
<div class="line"><span class="lineno"> 6187</span> </div>
<div class="line"><span class="lineno"> 6188</span>        <span class="comment">/* We have not yet found a slope polarity change. Keep searching. */</span></div>
<div class="line"><span class="lineno"> 6189</span>        t1 = t2;</div>
<div class="line"><span class="lineno"> 6190</span>        m1 = m2;</div>
<div class="line"><span class="lineno"> 6191</span>    }</div>
<div class="line"><span class="lineno"> 6192</span> </div>
<div class="line"><span class="lineno"> 6193</span>    <span class="comment">/* It should not be possible to fail to find an apsis within 2 orbits. */</span></div>
<div class="line"><span class="lineno"> 6194</span>    <span class="keywordflow">return</span> ApsisError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad9faa503a8f1b8c6e9d49e50bbac5863">ASTRO_INTERNAL_ERROR</a>);</div>
<div class="line"><span class="lineno"> 6195</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a1968d4049c663695141340e1747cc5ca"><div class="ttname"><a href="astronomy_8c.html#a1968d4049c663695141340e1747cc5ca">Astronomy_HelioDistance</a></div><div class="ttdeci">astro_func_result_t Astronomy_HelioDistance(astro_body_t body, astro_time_t time)</div><div class="ttdoc">Calculates the distance from a body to the Sun at a given time.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l03458">astronomy.c:3458</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00473">APSIS_APOCENTER</a>, <a class="el" href="astronomy_8h_source.html#l00472">APSIS_PERICENTER</a>, <a class="el" href="astronomy_8h_source.html#l00054">ASTRO_INTERNAL_ERROR</a>, <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l03458">Astronomy_HelioDistance()</a>, <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>, <a class="el" href="astronomy_8h_source.html#l00213">BODY_NEPTUNE</a>, <a class="el" href="astronomy_8h_source.html#l00214">BODY_PLUTO</a>, <a class="el" href="astronomy_8h_source.html#l00498">astro_apsis_t::dist_au</a>, <a class="el" href="astronomy_8h_source.html#l00499">astro_apsis_t::dist_km</a>, <a class="el" href="astronomy_8h_source.html#l00497">astro_apsis_t::kind</a>, <a class="el" href="astronomy_8h_source.html#l00495">astro_apsis_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00364">astro_func_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00496">astro_apsis_t::time</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a> y <a class="el" href="astronomy_8h_source.html#l00365">astro_func_result_t::value</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06218">Astronomy_NextPlanetApsis()</a>.</p>

</div>
</div>
<a id="a00dac3feb188bfabf94e0b81cfa7aa84" name="a00dac3feb188bfabf94e0b81cfa7aa84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00dac3feb188bfabf94e0b81cfa7aa84">&#9670;&#160;</a></span>Astronomy_SearchRelativeLongitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a> Astronomy_SearchRelativeLongitude </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>targetRelLon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the time when the Earth and another planet are separated by a specified angle in ecliptic longitude, as seen from the Sun. </p>
<p>A relative longitude is the angle between two bodies measured in the plane of the Earth's orbit (the ecliptic plane). The distance of the bodies above or below the ecliptic plane is ignored. If you imagine the shadow of the body cast onto the ecliptic plane, and the angle measured around that plane from one body to the other in the direction the planets orbit the Sun, you will get an angle somewhere between 0 and 360 degrees. This is the relative longitude.</p>
<p>Given a planet other than the Earth in <span class="tt">body</span> and a time to start the search in <span class="tt">startTime</span>, this function searches for the next time that the relative longitude measured from the planet to the Earth is <span class="tt">targetRelLon</span>.</p>
<p>Certain astronomical events are defined in terms of relative longitude between the Earth and another planet:</p>
<ul>
<li>When the relative longitude is 0 degrees, it means both planets are in the same direction from the Sun. For planets that orbit closer to the Sun (Mercury and Venus), this is known as <em>inferior conjunction</em>, a time when the other planet becomes very difficult to see because of being lost in the Sun's glare. (The only exception is in the rare event of a transit, when we see the silhouette of the planet passing between the Earth and the Sun.)</li>
<li>When the relative longitude is 0 degrees and the other planet orbits farther from the Sun, this is known as <em>opposition</em>. Opposition is when the planet is closest to the Earth, and also when it is visible for most of the night, so it is considered the best time to observe the planet.</li>
<li>When the relative longitude is 180 degrees, it means the other planet is on the opposite side of the Sun from the Earth. This is called <em>superior conjunction</em>. Like inferior conjunction, the planet is very difficult to see from the Earth. Superior conjunction is possible for any planet other than the Earth.</li>
</ul>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>A planet other than the Earth. If <span class="tt">body</span> is not a planet other than the Earth, an error occurs.</td></tr>
    <tr><td class="paramname">targetRelLon</td><td>The desired relative longitude, expressed in degrees. Must be in the range [0, 360).</td></tr>
    <tr><td class="paramname">startTime</td><td>The date and time at which to begin the search.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure will contain <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and <span class="tt">time</span> will hold the date and time of the relative longitude event. Otherwise <span class="tt">status</span> will hold some other value that indicates an error condition. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04940">4940</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4941</span>{</div>
<div class="line"><span class="lineno"> 4942</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> result;</div>
<div class="line"><span class="lineno"> 4943</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> syn;</div>
<div class="line"><span class="lineno"> 4944</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> error_angle;</div>
<div class="line"><span class="lineno"> 4945</span>    <span class="keywordtype">double</span> prev_angle;</div>
<div class="line"><span class="lineno"> 4946</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> time;</div>
<div class="line"><span class="lineno"> 4947</span>    <span class="keywordtype">int</span> iter, direction;</div>
<div class="line"><span class="lineno"> 4948</span> </div>
<div class="line"><span class="lineno"> 4949</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>)</div>
<div class="line"><span class="lineno"> 4950</span>        <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a>);</div>
<div class="line"><span class="lineno"> 4951</span> </div>
<div class="line"><span class="lineno"> 4952</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a> || body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>)</div>
<div class="line"><span class="lineno"> 4953</span>        <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>);</div>
<div class="line"><span class="lineno"> 4954</span> </div>
<div class="line"><span class="lineno"> 4955</span>    syn = SynodicPeriod(body);</div>
<div class="line"><span class="lineno"> 4956</span>    <span class="keywordflow">if</span> (syn.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4957</span>        <span class="keywordflow">return</span> SearchError(syn.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 4958</span> </div>
<div class="line"><span class="lineno"> 4959</span>    direction = IsSuperiorPlanet(body) ? +1 : -1;</div>
<div class="line"><span class="lineno"> 4960</span> </div>
<div class="line"><span class="lineno"> 4961</span>    <span class="comment">/* Iterate until we converge on the desired event. */</span></div>
<div class="line"><span class="lineno"> 4962</span>    <span class="comment">/* Calculate the error angle, which will be a negative number of degrees, */</span></div>
<div class="line"><span class="lineno"> 4963</span>    <span class="comment">/* meaning we are &quot;behind&quot; the target relative longitude. */</span></div>
<div class="line"><span class="lineno"> 4964</span> </div>
<div class="line"><span class="lineno"> 4965</span>    error_angle = rlon_offset(body, startTime, direction, targetRelLon);</div>
<div class="line"><span class="lineno"> 4966</span>    <span class="keywordflow">if</span> (error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4967</span>        <span class="keywordflow">return</span> SearchError(error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 4968</span> </div>
<div class="line"><span class="lineno"> 4969</span>    <span class="keywordflow">if</span> (error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt; 0)</div>
<div class="line"><span class="lineno"> 4970</span>        error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> -= 360;    <span class="comment">/* force searching forward in time */</span></div>
<div class="line"><span class="lineno"> 4971</span> </div>
<div class="line"><span class="lineno"> 4972</span>    time = startTime;</div>
<div class="line"><span class="lineno"> 4973</span>    <span class="keywordflow">for</span> (iter = 0; iter &lt; 100; ++iter)</div>
<div class="line"><span class="lineno"> 4974</span>    {</div>
<div class="line"><span class="lineno"> 4975</span>        <span class="comment">/* Estimate how many days in the future (positive) or past (negative) */</span></div>
<div class="line"><span class="lineno"> 4976</span>        <span class="comment">/* we have to go to get closer to the target relative longitude. */</span></div>
<div class="line"><span class="lineno"> 4977</span>        <span class="keywordtype">double</span> day_adjust = (-error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a>/360.0) * syn.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a>;</div>
<div class="line"><span class="lineno"> 4978</span>        time = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(time, day_adjust);</div>
<div class="line"><span class="lineno"> 4979</span>        <span class="keywordflow">if</span> (fabs(day_adjust) * SECONDS_PER_DAY &lt; 1.0)</div>
<div class="line"><span class="lineno"> 4980</span>        {</div>
<div class="line"><span class="lineno"> 4981</span>            result.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a> = time;</div>
<div class="line"><span class="lineno"> 4982</span>            result.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 4983</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 4984</span>        }</div>
<div class="line"><span class="lineno"> 4985</span> </div>
<div class="line"><span class="lineno"> 4986</span>        prev_angle = error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a>;</div>
<div class="line"><span class="lineno"> 4987</span>        error_angle = rlon_offset(body, time, direction, targetRelLon);</div>
<div class="line"><span class="lineno"> 4988</span>        <span class="keywordflow">if</span> (error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 4989</span>            <span class="keywordflow">return</span> SearchError(error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 4990</span> </div>
<div class="line"><span class="lineno"> 4991</span>        <span class="keywordflow">if</span> (fabs(prev_angle) &lt; 30.0 &amp;&amp; (prev_angle != error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a>))</div>
<div class="line"><span class="lineno"> 4992</span>        {</div>
<div class="line"><span class="lineno"> 4993</span>            <span class="comment">/* Improve convergence for Mercury/Mars (eccentric orbits) */</span></div>
<div class="line"><span class="lineno"> 4994</span>            <span class="comment">/* by adjusting the synodic period to more closely match the */</span></div>
<div class="line"><span class="lineno"> 4995</span>            <span class="comment">/* variable speed of both planets in this part of their respective orbits. */</span></div>
<div class="line"><span class="lineno"> 4996</span>            <span class="keywordtype">double</span> ratio = prev_angle / (prev_angle - error_angle.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a>);</div>
<div class="line"><span class="lineno"> 4997</span>            <span class="keywordflow">if</span> (ratio &gt; 0.5 &amp;&amp; ratio &lt; 2.0)</div>
<div class="line"><span class="lineno"> 4998</span>                syn.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> *= ratio;</div>
<div class="line"><span class="lineno"> 4999</span>        }</div>
<div class="line"><span class="lineno"> 5000</span>    }</div>
<div class="line"><span class="lineno"> 5001</span> </div>
<div class="line"><span class="lineno"> 5002</span>    <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aee480a21d29de5b05c5b4cd5654b1680">ASTRO_NO_CONVERGE</a>);</div>
<div class="line"><span class="lineno"> 5003</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00051">ASTRO_EARTH_NOT_ALLOWED</a>, <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00047">ASTRO_NO_CONVERGE</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00216">BODY_MOON</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00364">astro_func_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a> y <a class="el" href="astronomy_8h_source.html#l00365">astro_func_result_t::value</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l04486">Astronomy_SearchMaxElongation()</a>, <a class="el" href="astronomy_8c_source.html#l05611">Astronomy_SearchPeakMagnitude()</a> y <a class="el" href="astronomy_8c_source.html#l08688">Astronomy_SearchTransit()</a>.</p>

</div>
</div>
<a id="a647a1a81f1a046f1dacf851483802e4a" name="a647a1a81f1a046f1dacf851483802e4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a647a1a81f1a046f1dacf851483802e4a">&#9670;&#160;</a></span>Astronomy_SearchRiseSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a> Astronomy_SearchRiseSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__observer__t.html">astro_observer_t</a></td>          <td class="paramname"><span class="paramname"><em>observer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#a842102856a76a7f456f9fe3264bac94e">astro_direction_t</a></td>          <td class="paramname"><span class="paramname"><em>direction</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>limitDays</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the next time a celestial body rises or sets as seen by an observer on the Earth. </p>
<p>This function finds the next rise or set time of the Sun, Moon, or planet other than the Earth. Rise time is when the body first starts to be visible above the horizon. For example, sunrise is the moment that the top of the Sun first appears to peek above the horizon. Set time is the moment when the body appears to vanish below the horizon.</p>
<p>This function corrects for typical atmospheric refraction, which causes celestial bodies to appear higher above the horizon than they would if the Earth had no atmosphere. It also adjusts for the apparent angular radius of the observed body (significant only for the Sun and Moon).</p>
<p>Note that rise or set may not occur in every 24 hour period. For example, near the Earth's poles, there are long periods of time where the Sun stays below the horizon, never rising. Also, it is possible for the Moon to rise just before midnight but not set during the subsequent 24-hour day. This is because the Moon sets nearly an hour later each day due to orbiting the Earth a significant amount during each rotation of the Earth. Therefore callers must not assume that the function will always succeed.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The Sun, Moon, or any planet other than the Earth.</td></tr>
    <tr><td class="paramname">observer</td><td>The location where observation takes place. You can create an observer structure by calling <a class="el" href="astronomy_8c.html#aa7f8314916665a647df682f28d425b3a" title="Creates an observer object that represents a location on or near the surface of the Earth.">Astronomy_MakeObserver</a>.</td></tr>
    <tr><td class="paramname">direction</td><td>Either <span class="tt"><a class="el" href="#a842102856a76a7f456f9fe3264bac94eae3a092326954b9747c124ced8122c4ea">DIRECTION_RISE</a></span> to find a rise time or <span class="tt"><a class="el" href="#a842102856a76a7f456f9fe3264bac94ead5e08c51ffaf866f6a03b6ef0094aae8">DIRECTION_SET</a></span> to find a set time.</td></tr>
    <tr><td class="paramname">startTime</td><td>The date and time at which to start the search.</td></tr>
    <tr><td class="paramname">limitDays</td><td>Limits how many days to search for a rise or set time. To limit a rise or set time to the same day, you can use a value of 1 day. In cases where you want to find the next rise or set time no matter how far in the future (for example, for an observer near the south pole), you can pass in a larger value like 365.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>On success, the <span class="tt">status</span> field in the returned structure contains <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the <span class="tt">time</span> field contains the date and time of the rise or set time as requested. If the <span class="tt">status</span> field contains <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a></span>, it means the rise or set event does not occur within <span class="tt">limitDays</span> days of <span class="tt">startTime</span>. This is a normal condition, not an error. Any other value of <span class="tt">status</span> indicates an error of some kind. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l05207">5207</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 5213</span>{</div>
<div class="line"><span class="lineno"> 5214</span>    context_peak_altitude_t context;</div>
<div class="line"><span class="lineno"> 5215</span>    <span class="keywordtype">double</span> ha_before, ha_after;</div>
<div class="line"><span class="lineno"> 5216</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> time_start, time_before;</div>
<div class="line"><span class="lineno"> 5217</span>    <a class="code hl_struct" href="structastro__func__result__t.html">astro_func_result_t</a> alt_before, alt_after;</div>
<div class="line"><span class="lineno"> 5218</span>    <a class="code hl_struct" href="structastro__hour__angle__t.html">astro_hour_angle_t</a> evt_before, evt_after;</div>
<div class="line"><span class="lineno"> 5219</span> </div>
<div class="line"><span class="lineno"> 5220</span>    <span class="keywordflow">if</span> (body == <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a4a27b6cad82fb1e4113c95576aff8297">BODY_EARTH</a>)</div>
<div class="line"><span class="lineno"> 5221</span>        <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214a962adf748f88f95c0fd9d6ecdfed3505">ASTRO_EARTH_NOT_ALLOWED</a>);</div>
<div class="line"><span class="lineno"> 5222</span> </div>
<div class="line"><span class="lineno"> 5223</span>    <span class="keywordflow">switch</span> (direction)</div>
<div class="line"><span class="lineno"> 5224</span>    {</div>
<div class="line"><span class="lineno"> 5225</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a842102856a76a7f456f9fe3264bac94eae3a092326954b9747c124ced8122c4ea">DIRECTION_RISE</a>:</div>
<div class="line"><span class="lineno"> 5226</span>        ha_before = 12.0;   <span class="comment">/* minimum altitude (bottom) happens BEFORE the body rises. */</span></div>
<div class="line"><span class="lineno"> 5227</span>        ha_after = 0.0;     <span class="comment">/* maximum altitude (culmination) happens AFTER the body rises. */</span></div>
<div class="line"><span class="lineno"> 5228</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5229</span> </div>
<div class="line"><span class="lineno"> 5230</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a842102856a76a7f456f9fe3264bac94ead5e08c51ffaf866f6a03b6ef0094aae8">DIRECTION_SET</a>:</div>
<div class="line"><span class="lineno"> 5231</span>        ha_before = 0.0;    <span class="comment">/* culmination happens BEFORE the body sets. */</span></div>
<div class="line"><span class="lineno"> 5232</span>        ha_after = 12.0;    <span class="comment">/* bottom happens AFTER the body sets. */</span></div>
<div class="line"><span class="lineno"> 5233</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5234</span> </div>
<div class="line"><span class="lineno"> 5235</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 5236</span>        <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 5237</span>    }</div>
<div class="line"><span class="lineno"> 5238</span> </div>
<div class="line"><span class="lineno"> 5239</span>    <span class="comment">/* Set up the context structure for the search function &#39;peak_altitude&#39;. */</span></div>
<div class="line"><span class="lineno"> 5240</span>    context.body = body;</div>
<div class="line"><span class="lineno"> 5241</span>    context.direction = (int)direction;</div>
<div class="line"><span class="lineno"> 5242</span>    context.observer = observer;</div>
<div class="line"><span class="lineno"> 5243</span>    <span class="keywordflow">switch</span> (body)</div>
<div class="line"><span class="lineno"> 5244</span>    {</div>
<div class="line"><span class="lineno"> 5245</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0cb583a943b1d5b7b680cdfdb7f44ecf">BODY_SUN</a>:  context.body_radius_au = <a class="code hl_define" href="astronomy_8c.html#aa83aa3125ecf4fb67c3eff6f191ee958">SUN_RADIUS_AU</a>;                 <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5246</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928a0fb4aa25a3f22ae4816ce58a256012ae">BODY_MOON</a>: context.body_radius_au = <a class="code hl_define" href="astronomy_8c.html#ab89a9c35ef06d3fb08908f5b411b40f0">MOON_EQUATORIAL_RADIUS_AU</a>;     <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5247</span>    <span class="keywordflow">default</span>:        context.body_radius_au = 0.0;                           <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 5248</span>    }</div>
<div class="line"><span class="lineno"> 5249</span> </div>
<div class="line"><span class="lineno"> 5250</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 5251</span><span class="comment">        See if the body is currently above/below the horizon.</span></div>
<div class="line"><span class="lineno"> 5252</span><span class="comment">        If we are looking for next rise time and the body is below the horizon,</span></div>
<div class="line"><span class="lineno"> 5253</span><span class="comment">        we use the current time as the lower time bound and the next culmination</span></div>
<div class="line"><span class="lineno"> 5254</span><span class="comment">        as the upper bound.</span></div>
<div class="line"><span class="lineno"> 5255</span><span class="comment">        If the body is above the horizon, we search for the next bottom and use it</span></div>
<div class="line"><span class="lineno"> 5256</span><span class="comment">        as the lower bound and the next culmination after that bottom as the upper bound.</span></div>
<div class="line"><span class="lineno"> 5257</span><span class="comment">        The same logic applies for finding set times, only we swap the hour angles.</span></div>
<div class="line"><span class="lineno"> 5258</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno"> 5259</span> </div>
<div class="line"><span class="lineno"> 5260</span>    time_start = startTime;</div>
<div class="line"><span class="lineno"> 5261</span>    alt_before = peak_altitude(&amp;context, time_start);</div>
<div class="line"><span class="lineno"> 5262</span>    <span class="keywordflow">if</span> (alt_before.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5263</span>        <span class="keywordflow">return</span> SearchError(alt_before.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5264</span> </div>
<div class="line"><span class="lineno"> 5265</span>    <span class="keywordflow">if</span> (alt_before.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt; 0.0)</div>
<div class="line"><span class="lineno"> 5266</span>    {</div>
<div class="line"><span class="lineno"> 5267</span>        <span class="comment">/* We are past the sought event, so we have to wait for the next &quot;before&quot; event (culm/bottom). */</span></div>
<div class="line"><span class="lineno"> 5268</span>        evt_before = <a class="code hl_function" href="astronomy_8c.html#a94cf56d7d9a86137c4b78d12cde159de">Astronomy_SearchHourAngle</a>(body, observer, ha_before, time_start);</div>
<div class="line"><span class="lineno"> 5269</span>        <span class="keywordflow">if</span> (evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5270</span>            <span class="keywordflow">return</span> SearchError(evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a>);</div>
<div class="line"><span class="lineno"> 5271</span> </div>
<div class="line"><span class="lineno"> 5272</span>        time_before = evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>;</div>
<div class="line"><span class="lineno"> 5273</span> </div>
<div class="line"><span class="lineno"> 5274</span>        alt_before = peak_altitude(&amp;context, time_before);</div>
<div class="line"><span class="lineno"> 5275</span>        <span class="keywordflow">if</span> (alt_before.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5276</span>            <span class="keywordflow">return</span> SearchError(alt_before.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5277</span>    }</div>
<div class="line"><span class="lineno"> 5278</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 5279</span>    {</div>
<div class="line"><span class="lineno"> 5280</span>        <span class="comment">/* We are before or at the sought event, so we find the next &quot;after&quot; event (bottom/culm), */</span></div>
<div class="line"><span class="lineno"> 5281</span>        <span class="comment">/* and use the current time as the &quot;before&quot; event. */</span></div>
<div class="line"><span class="lineno"> 5282</span>        time_before = time_start;</div>
<div class="line"><span class="lineno"> 5283</span>    }</div>
<div class="line"><span class="lineno"> 5284</span> </div>
<div class="line"><span class="lineno"> 5285</span>    evt_after = <a class="code hl_function" href="astronomy_8c.html#a94cf56d7d9a86137c4b78d12cde159de">Astronomy_SearchHourAngle</a>(body, observer, ha_after, time_before);</div>
<div class="line"><span class="lineno"> 5286</span>    <span class="keywordflow">if</span> (evt_after.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5287</span>        <span class="keywordflow">return</span> SearchError(evt_after.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a>);</div>
<div class="line"><span class="lineno"> 5288</span> </div>
<div class="line"><span class="lineno"> 5289</span>    alt_after = peak_altitude(&amp;context, evt_after.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>);</div>
<div class="line"><span class="lineno"> 5290</span>    <span class="keywordflow">if</span> (alt_after.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5291</span>        <span class="keywordflow">return</span> SearchError(alt_after.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5292</span> </div>
<div class="line"><span class="lineno"> 5293</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno"> 5294</span>    {</div>
<div class="line"><span class="lineno"> 5295</span>        <span class="keywordflow">if</span> (alt_before.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &lt;= 0.0 &amp;&amp; alt_after.<a class="code hl_variable" href="structastro__func__result__t.html#abb36158e9c74ccc058a05d9e2440b888">value</a> &gt; 0.0)</div>
<div class="line"><span class="lineno"> 5296</span>        {</div>
<div class="line"><span class="lineno"> 5297</span>            <span class="comment">/* Search between evt_before and evt_after for the desired event. */</span></div>
<div class="line"><span class="lineno"> 5298</span>            <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> result = <a class="code hl_function" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a>(peak_altitude, &amp;context, time_before, evt_after.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>, 1.0);</div>
<div class="line"><span class="lineno"> 5299</span> </div>
<div class="line"><span class="lineno"> 5300</span>            <span class="comment">/* ASTRO_SEARCH_FAILURE is a special error that indicates a normal lack of finding a solution. */</span></div>
<div class="line"><span class="lineno"> 5301</span>            <span class="comment">/* If successful, or any other error, return immediately. */</span></div>
<div class="line"><span class="lineno"> 5302</span>            <span class="keywordflow">if</span> (result.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>)</div>
<div class="line"><span class="lineno"> 5303</span>                <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 5304</span>        }</div>
<div class="line"><span class="lineno"> 5305</span> </div>
<div class="line"><span class="lineno"> 5306</span>        <span class="comment">/* If we didn&#39;t find the desired event, use evt_after.time to find the next before-event. */</span></div>
<div class="line"><span class="lineno"> 5307</span>        evt_before = <a class="code hl_function" href="astronomy_8c.html#a94cf56d7d9a86137c4b78d12cde159de">Astronomy_SearchHourAngle</a>(body, observer, ha_before, evt_after.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>);</div>
<div class="line"><span class="lineno"> 5308</span>        <span class="keywordflow">if</span> (evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5309</span>            <span class="keywordflow">return</span> SearchError(evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a>);</div>
<div class="line"><span class="lineno"> 5310</span> </div>
<div class="line"><span class="lineno"> 5311</span>        evt_after = <a class="code hl_function" href="astronomy_8c.html#a94cf56d7d9a86137c4b78d12cde159de">Astronomy_SearchHourAngle</a>(body, observer, ha_after, evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>);</div>
<div class="line"><span class="lineno"> 5312</span>        <span class="keywordflow">if</span> (evt_after.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5313</span>            <span class="keywordflow">return</span> SearchError(evt_after.<a class="code hl_variable" href="structastro__hour__angle__t.html#ac410b728be11fc8bb31c971b275309e4">status</a>);</div>
<div class="line"><span class="lineno"> 5314</span> </div>
<div class="line"><span class="lineno"> 5315</span>        <span class="keywordflow">if</span> (evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> &gt;= time_start.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> + limitDays)</div>
<div class="line"><span class="lineno"> 5316</span>            <span class="keywordflow">return</span> SearchError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ae74f48e0daf71f91301e2441f40277ea">ASTRO_SEARCH_FAILURE</a>);</div>
<div class="line"><span class="lineno"> 5317</span> </div>
<div class="line"><span class="lineno"> 5318</span>        time_before = evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>;</div>
<div class="line"><span class="lineno"> 5319</span> </div>
<div class="line"><span class="lineno"> 5320</span>        alt_before = peak_altitude(&amp;context, evt_before.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>);</div>
<div class="line"><span class="lineno"> 5321</span>        <span class="keywordflow">if</span> (alt_before.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5322</span>            <span class="keywordflow">return</span> SearchError(alt_before.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5323</span> </div>
<div class="line"><span class="lineno"> 5324</span>        alt_after = peak_altitude(&amp;context, evt_after.<a class="code hl_variable" href="structastro__hour__angle__t.html#aa7a75ac99b4133967ea4e62330535d34">time</a>);</div>
<div class="line"><span class="lineno"> 5325</span>        <span class="keywordflow">if</span> (alt_after.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 5326</span>            <span class="keywordflow">return</span> SearchError(alt_after.<a class="code hl_variable" href="structastro__func__result__t.html#a8e86a498accbd6c245ad737b9c775ef4">status</a>);</div>
<div class="line"><span class="lineno"> 5327</span>    }</div>
<div class="line"><span class="lineno"> 5328</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a94cf56d7d9a86137c4b78d12cde159de"><div class="ttname"><a href="astronomy_8c.html#a94cf56d7d9a86137c4b78d12cde159de">Astronomy_SearchHourAngle</a></div><div class="ttdeci">astro_hour_angle_t Astronomy_SearchHourAngle(astro_body_t body, astro_observer_t observer, double hourAngle, astro_time_t startTime)</div><div class="ttdoc">Searches for the time when a celestial body reaches a specified hour angle as seen by an observer on ...</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l05049">astronomy.c:5049</a></div></div>
<div class="ttc" id="aastronomy_8c_html_aa83aa3125ecf4fb67c3eff6f191ee958"><div class="ttname"><a href="astronomy_8c.html#aa83aa3125ecf4fb67c3eff6f191ee958">SUN_RADIUS_AU</a></div><div class="ttdeci">#define SUN_RADIUS_AU</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00157">astronomy.c:157</a></div></div>
<div class="ttc" id="aastronomy_8c_html_ab89a9c35ef06d3fb08908f5b411b40f0"><div class="ttname"><a href="astronomy_8c.html#ab89a9c35ef06d3fb08908f5b411b40f0">MOON_EQUATORIAL_RADIUS_AU</a></div><div class="ttdeci">#define MOON_EQUATORIAL_RADIUS_AU</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00170">astronomy.c:170</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00051">ASTRO_EARTH_NOT_ALLOWED</a>, <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00050">ASTRO_SEARCH_FAILURE</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>, <a class="el" href="astronomy_8c_source.html#l05049">Astronomy_SearchHourAngle()</a>, <a class="el" href="astronomy_8h_source.html#l00208">BODY_EARTH</a>, <a class="el" href="astronomy_8h_source.html#l00216">BODY_MOON</a>, <a class="el" href="astronomy_8h_source.html#l00215">BODY_SUN</a>, <a class="el" href="astronomy_8h_source.html#l00743">DIRECTION_RISE</a>, <a class="el" href="astronomy_8h_source.html#l00744">DIRECTION_SET</a>, <a class="el" href="astronomy_8c_source.html#l00170">MOON_EQUATORIAL_RADIUS_AU</a>, <a class="el" href="astronomy_8h_source.html#l00364">astro_func_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00444">astro_hour_angle_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8c_source.html#l00157">SUN_RADIUS_AU</a>, <a class="el" href="astronomy_8h_source.html#l00445">astro_hour_angle_t::time</a>, <a class="el" href="astronomy_8h_source.html#l00121">astro_time_t::ut</a> y <a class="el" href="astronomy_8h_source.html#l00365">astro_func_result_t::value</a>.</p>

</div>
</div>
<a id="a807a135aa2a8e27b6ea0f630215199c2" name="a807a135aa2a8e27b6ea0f630215199c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807a135aa2a8e27b6ea0f630215199c2">&#9670;&#160;</a></span>Astronomy_SearchSunLongitude()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__search__result__t.html">astro_search_result_t</a> Astronomy_SearchSunLongitude </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>targetLon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>limitDays</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the time when the Sun reaches an apparent ecliptic longitude as seen from the Earth. </p>
<p>This function finds the moment in time, if any exists in the given time window, that the center of the Sun reaches a specific ecliptic longitude as seen from the center of the Earth.</p>
<p>This function can be used to determine equinoxes and solstices. However, it is usually more convenient and efficient to call <a class="el" href="astronomy_8c.html#aeac16256031b618481fee2ef6aacee02" title="Finds both equinoxes and both solstices for a given calendar year.">Astronomy_Seasons</a> to calculate all equinoxes and solstices for a given calendar year.</p>
<p>The function searches the window of time specified by <span class="tt">startTime</span> and <span class="tt">startTime+limitDays</span>. The search will return an error if the Sun never reaches the longitude <span class="tt">targetLon</span> or if the window is so large that the longitude ranges more than 180 degrees within it. It is recommended to keep the window smaller than 10 days when possible.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">targetLon</td><td>The desired ecliptic longitude in degrees, relative to the true equinox of date. This may be any value in the range [0, 360), although certain values have conventional meanings: 0 = March equinox, 90 = June solstice, 180 = September equinox, 270 = December solstice.</td></tr>
    <tr><td class="paramname">startTime</td><td>The date and time for starting the search for the desired longitude event.</td></tr>
    <tr><td class="paramname">limitDays</td><td>The real-valued number of days, which when added to <span class="tt">startTime</span>, limits the range of time over which the search looks. It is recommended to keep this value between 1 and 10 days. See function remarks for more details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure will contain <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the <span class="tt">time</span> field will contain the date and time the Sun reaches the target longitude. Any other value indicates an error. See remarks in <a class="el" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596" title="Searches for a time at which a function&#39;s value increases through zero.">Astronomy_Search</a> (which this function calls) for more information about possible error codes. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04014">4014</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4018</span>{</div>
<div class="line"><span class="lineno"> 4019</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> t2 = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(startTime, limitDays);</div>
<div class="line"><span class="lineno"> 4020</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#acfc7b56d0aa2c81c6a10dc6af1748596">Astronomy_Search</a>(sun_offset, &amp;targetLon, startTime, t2, 1.0);</div>
<div class="line"><span class="lineno"> 4021</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a> y <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>.</p>

</div>
</div>
<a id="ace4b472e4915aa96929952091053473c" name="ace4b472e4915aa96929952091053473c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4b472e4915aa96929952091053473c">&#9670;&#160;</a></span>Astronomy_SearchTransit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__transit__t.html">astro_transit_t</a> Astronomy_SearchTransit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928">astro_body_t</a></td>          <td class="paramname"><span class="paramname"><em>body</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>startTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for the first transit of Mercury or Venus after a given date. </p>
<p>Finds the first transit of Mercury or Venus after a specified date. A transit is when an inferior planet passes between the Sun and the Earth so that the silhouette of the planet is visible against the Sun in the background. To continue the search, pass the <span class="tt">finish</span> time in the returned structure to <a class="el" href="astronomy_8c.html#ad11619cc853c67e3b5babba619a4c534" title="Searches for another transit of Mercury or Venus.">Astronomy_NextTransit</a>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">body</td><td>The planet whose transit is to be found. Must be <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a></span> or <span class="tt"><a class="el" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a></span>.</td></tr>
    <tr><td class="paramname">startTime</td><td>The date and time for starting the search for a transit.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>If successful, the <span class="tt">status</span> field in the returned structure hold <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span> and the other fields are as documented in <a class="el" href="structastro__transit__t.html" title="Information about a transit of Mercury or Venus, as seen from the Earth.">astro_transit_t</a>. Otherwise, <span class="tt">status</span> holds an error code and the other structure members are undefined. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l08688">8688</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 8689</span>{</div>
<div class="line"><span class="lineno"> 8690</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> search_time;</div>
<div class="line"><span class="lineno"> 8691</span>    <a class="code hl_struct" href="structastro__transit__t.html">astro_transit_t</a> transit;</div>
<div class="line"><span class="lineno"> 8692</span>    <a class="code hl_struct" href="structastro__search__result__t.html">astro_search_result_t</a> conj, search;</div>
<div class="line"><span class="lineno"> 8693</span>    <a class="code hl_struct" href="structastro__angle__result__t.html">astro_angle_result_t</a> conj_separation, min_separation;</div>
<div class="line"><span class="lineno"> 8694</span>    shadow_t shadow;</div>
<div class="line"><span class="lineno"> 8695</span>    <span class="keywordtype">double</span> planet_radius_km;</div>
<div class="line"><span class="lineno"> 8696</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> tx;</div>
<div class="line"><span class="lineno"> 8697</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> threshold_angle = 0.4;     <span class="comment">/* maximum angular separation to attempt transit calculation */</span></div>
<div class="line"><span class="lineno"> 8698</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> dt_days = 1.0;</div>
<div class="line"><span class="lineno"> 8699</span> </div>
<div class="line"><span class="lineno"> 8700</span>    <span class="comment">/* Validate the planet and find its mean radius. */</span></div>
<div class="line"><span class="lineno"> 8701</span>    <span class="keywordflow">switch</span> (body)</div>
<div class="line"><span class="lineno"> 8702</span>    {</div>
<div class="line"><span class="lineno"> 8703</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad2f418b485ea4b395093551536b58960">BODY_MERCURY</a>:  planet_radius_km = 2439.7;  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8704</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#abc11a4185b6fd5086da5ee9d3c7ce928ad842fbb891025119770b6b25e488e5b4">BODY_VENUS</a>:    planet_radius_km = 6051.8;  <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 8705</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 8706</span>        <span class="keywordflow">return</span> TransitErr(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214aca26a4c8a97204bdabcbbd011cd0a75c">ASTRO_INVALID_BODY</a>);</div>
<div class="line"><span class="lineno"> 8707</span>    }</div>
<div class="line"><span class="lineno"> 8708</span> </div>
<div class="line"><span class="lineno"> 8709</span>    search_time = startTime;</div>
<div class="line"><span class="lineno"> 8710</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno"> 8711</span>    {</div>
<div class="line"><span class="lineno"> 8712</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 8713</span><span class="comment">            Search for the next inferior conjunction of the given planet.</span></div>
<div class="line"><span class="lineno"> 8714</span><span class="comment">            This is the next time the Earth and the other planet have the same</span></div>
<div class="line"><span class="lineno"> 8715</span><span class="comment">            ecliptic longitude as seen from the Sun.</span></div>
<div class="line"><span class="lineno"> 8716</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno"> 8717</span>        conj = <a class="code hl_function" href="astronomy_8c.html#a00dac3feb188bfabf94e0b81cfa7aa84">Astronomy_SearchRelativeLongitude</a>(body, 0.0, search_time);</div>
<div class="line"><span class="lineno"> 8718</span>        <span class="keywordflow">if</span> (conj.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8719</span>            <span class="keywordflow">return</span> TransitErr(conj.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 8720</span> </div>
<div class="line"><span class="lineno"> 8721</span>        <span class="comment">/* Calculate the angular separation between the body and the Sun at this time. */</span></div>
<div class="line"><span class="lineno"> 8722</span>        conj_separation = <a class="code hl_function" href="astronomy_8c.html#a9c87f5a85b80e27ef80c91b7875c74f7">Astronomy_AngleFromSun</a>(body, conj.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 8723</span>        <span class="keywordflow">if</span> (conj_separation.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8724</span>            <span class="keywordflow">return</span> TransitErr(conj_separation.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 8725</span> </div>
<div class="line"><span class="lineno"> 8726</span>        <span class="keywordflow">if</span> (conj_separation.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a> &lt; threshold_angle)</div>
<div class="line"><span class="lineno"> 8727</span>        {</div>
<div class="line"><span class="lineno"> 8728</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 8729</span><span class="comment">                The planet&#39;s angular separation from the Sun is small enough</span></div>
<div class="line"><span class="lineno"> 8730</span><span class="comment">                to consider it a transit candidate.</span></div>
<div class="line"><span class="lineno"> 8731</span><span class="comment">                Search for the moment when the line passing through the Sun</span></div>
<div class="line"><span class="lineno"> 8732</span><span class="comment">                and planet are closest to the Earth&#39;s center.</span></div>
<div class="line"><span class="lineno"> 8733</span><span class="comment">            */</span></div>
<div class="line"><span class="lineno"> 8734</span>            shadow = PeakPlanetShadow(body, planet_radius_km, conj.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>);</div>
<div class="line"><span class="lineno"> 8735</span>            <span class="keywordflow">if</span> (shadow.status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8736</span>                <span class="keywordflow">return</span> TransitErr(shadow.status);</div>
<div class="line"><span class="lineno"> 8737</span> </div>
<div class="line"><span class="lineno"> 8738</span>            <span class="keywordflow">if</span> (shadow.r &lt; shadow.p)        <span class="comment">/* does the planet&#39;s penumbra touch the Earth&#39;s center? */</span></div>
<div class="line"><span class="lineno"> 8739</span>            {</div>
<div class="line"><span class="lineno"> 8740</span>                <span class="comment">/* Find the beginning and end of the penumbral contact. */</span></div>
<div class="line"><span class="lineno"> 8741</span>                tx = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(shadow.time, -dt_days);</div>
<div class="line"><span class="lineno"> 8742</span>                search = PlanetTransitBoundary(body, planet_radius_km, tx, shadow.time, -1.0);</div>
<div class="line"><span class="lineno"> 8743</span>                <span class="keywordflow">if</span> (search.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8744</span>                    <span class="keywordflow">return</span> TransitErr(search.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 8745</span>                transit.<a class="code hl_variable" href="structastro__transit__t.html#a5434fbd0ee87b31feca65fba8563c003">start</a> = search.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>;</div>
<div class="line"><span class="lineno"> 8746</span> </div>
<div class="line"><span class="lineno"> 8747</span>                tx = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(shadow.time, +dt_days);</div>
<div class="line"><span class="lineno"> 8748</span>                search = PlanetTransitBoundary(body, planet_radius_km, shadow.time, tx, +1.0);</div>
<div class="line"><span class="lineno"> 8749</span>                <span class="keywordflow">if</span> (search.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8750</span>                    <span class="keywordflow">return</span> TransitErr(search.<a class="code hl_variable" href="structastro__search__result__t.html#aafdec98ea6e300d1b5b5ce996d6cda0a">status</a>);</div>
<div class="line"><span class="lineno"> 8751</span>                transit.<a class="code hl_variable" href="structastro__transit__t.html#a9aa43e0d82251de881b8a878cf413165">finish</a> = search.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>;</div>
<div class="line"><span class="lineno"> 8752</span>                transit.<a class="code hl_variable" href="structastro__transit__t.html#a97c506a2872e5100f69a14fc2d7a630c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 8753</span>                transit.<a class="code hl_variable" href="structastro__transit__t.html#a5856723e05e7782cadff4ec46437eb2e">peak</a> = shadow.time;</div>
<div class="line"><span class="lineno"> 8754</span> </div>
<div class="line"><span class="lineno"> 8755</span>                min_separation = <a class="code hl_function" href="astronomy_8c.html#a9c87f5a85b80e27ef80c91b7875c74f7">Astronomy_AngleFromSun</a>(body, shadow.time);</div>
<div class="line"><span class="lineno"> 8756</span>                <span class="keywordflow">if</span> (min_separation.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 8757</span>                    <span class="keywordflow">return</span> TransitErr(min_separation.<a class="code hl_variable" href="structastro__angle__result__t.html#aab07512f9f53b26cc2c863147f774e36">status</a>);</div>
<div class="line"><span class="lineno"> 8758</span> </div>
<div class="line"><span class="lineno"> 8759</span>                transit.<a class="code hl_variable" href="structastro__transit__t.html#a32da98eb820ff0523b0b22e0cd32f8d7">separation</a> = 60.0 * min_separation.<a class="code hl_variable" href="structastro__angle__result__t.html#af8536a6c9f69f165c2900bef800d7069">angle</a>;   <span class="comment">/* convert degrees to arcminutes */</span></div>
<div class="line"><span class="lineno"> 8760</span>                <span class="keywordflow">return</span> transit;</div>
<div class="line"><span class="lineno"> 8761</span>            }</div>
<div class="line"><span class="lineno"> 8762</span>        }</div>
<div class="line"><span class="lineno"> 8763</span> </div>
<div class="line"><span class="lineno"> 8764</span>        <span class="comment">/* This inferior conjunction was not a transit. Try the next inferior conjunction. */</span></div>
<div class="line"><span class="lineno"> 8765</span>        search_time = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(conj.<a class="code hl_variable" href="structastro__search__result__t.html#afa7bbea2c648a30a5d1c3dd575f62b89">time</a>, 10.0);</div>
<div class="line"><span class="lineno"> 8766</span>    }</div>
<div class="line"><span class="lineno"> 8767</span>}</div>
<div class="ttc" id="astructastro__transit__t_html"><div class="ttname"><a href="structastro__transit__t.html">astro_transit_t</a></div><div class="ttdoc">Information about a transit of Mercury or Venus, as seen from the Earth.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00675">astronomy.h:676</a></div></div>
<div class="ttc" id="astructastro__transit__t_html_a32da98eb820ff0523b0b22e0cd32f8d7"><div class="ttname"><a href="structastro__transit__t.html#a32da98eb820ff0523b0b22e0cd32f8d7">astro_transit_t::separation</a></div><div class="ttdeci">double separation</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00681">astronomy.h:681</a></div></div>
<div class="ttc" id="astructastro__transit__t_html_a5434fbd0ee87b31feca65fba8563c003"><div class="ttname"><a href="structastro__transit__t.html#a5434fbd0ee87b31feca65fba8563c003">astro_transit_t::start</a></div><div class="ttdeci">astro_time_t start</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00678">astronomy.h:678</a></div></div>
<div class="ttc" id="astructastro__transit__t_html_a5856723e05e7782cadff4ec46437eb2e"><div class="ttname"><a href="structastro__transit__t.html#a5856723e05e7782cadff4ec46437eb2e">astro_transit_t::peak</a></div><div class="ttdeci">astro_time_t peak</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00679">astronomy.h:679</a></div></div>
<div class="ttc" id="astructastro__transit__t_html_a97c506a2872e5100f69a14fc2d7a630c"><div class="ttname"><a href="structastro__transit__t.html#a97c506a2872e5100f69a14fc2d7a630c">astro_transit_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00677">astronomy.h:677</a></div></div>
<div class="ttc" id="astructastro__transit__t_html_a9aa43e0d82251de881b8a878cf413165"><div class="ttname"><a href="structastro__transit__t.html#a9aa43e0d82251de881b8a878cf413165">astro_transit_t::finish</a></div><div class="ttdeci">astro_time_t finish</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00680">astronomy.h:680</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00196">astro_angle_result_t::angle</a>, <a class="el" href="astronomy_8h_source.html#l00046">ASTRO_INVALID_BODY</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8c_source.html#l04356">Astronomy_AngleFromSun()</a>, <a class="el" href="astronomy_8c_source.html#l04940">Astronomy_SearchRelativeLongitude()</a>, <a class="el" href="astronomy_8h_source.html#l00206">BODY_MERCURY</a>, <a class="el" href="astronomy_8h_source.html#l00207">BODY_VENUS</a>, <a class="el" href="astronomy_8h_source.html#l00680">astro_transit_t::finish</a>, <a class="el" href="astronomy_8h_source.html#l00679">astro_transit_t::peak</a>, <a class="el" href="astronomy_8h_source.html#l00681">astro_transit_t::separation</a>, <a class="el" href="astronomy_8h_source.html#l00678">astro_transit_t::start</a>, <a class="el" href="astronomy_8h_source.html#l00195">astro_angle_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00319">astro_search_result_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00677">astro_transit_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00320">astro_search_result_t::time</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l08788">Astronomy_NextTransit()</a>.</p>

</div>
</div>
<a id="aeac16256031b618481fee2ef6aacee02" name="aeac16256031b618481fee2ef6aacee02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac16256031b618481fee2ef6aacee02">&#9670;&#160;</a></span>Astronomy_Seasons()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__seasons__t.html">astro_seasons_t</a> Astronomy_Seasons </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>year</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds both equinoxes and both solstices for a given calendar year. </p>
<p>The changes of seasons are defined by solstices and equinoxes. Given a calendar year number, this function calculates the March and September equinoxes and the June and December solstices.</p>
<p>The equinoxes are the moments twice each year when the plane of the Earth's equator passes through the center of the Sun. In other words, the Sun's declination is zero at both equinoxes. The March equinox defines the beginning of spring in the northern hemisphere and the beginning of autumn in the southern hemisphere. The September equinox defines the beginning of autumn in the northern hemisphere and the beginning of spring in the southern hemisphere.</p>
<p>The solstices are the moments twice each year when one of the Earth's poles is most tilted toward the Sun. More precisely, the Sun's declination reaches its minimum value at the December solstice, which defines the beginning of winter in the northern hemisphere and the beginning of summer in the southern hemisphere. The Sun's declination reaches its maximum value at the June solstice, which defines the beginning of summer in the northern hemisphere and the beginning of winter in the southern hemisphere.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">year</td><td>The calendar year number for which to calculate equinoxes and solstices. The value may be any integer, but only the years 1800 through 2100 have been validated for accuracy: unit testing against data from the United States Naval Observatory confirms that all equinoxes and solstices for that range of years are within 2 minutes of the correct time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The times of the four seasonal changes in the given calendar year. This function should always succeed. However, to be safe, callers should check the <span class="tt">status</span> field of the returned structure to make sure it contains <span class="tt"><a class="el" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a></span>. Any failures indicate a bug in the algorithm and should be <a href="https://github.com/cosinekitty/astronomy/issues">reported as an issue</a>. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l04313">4313</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 4314</span>{</div>
<div class="line"><span class="lineno"> 4315</span>    <a class="code hl_struct" href="structastro__seasons__t.html">astro_seasons_t</a> seasons;</div>
<div class="line"><span class="lineno"> 4316</span>    <a class="code hl_enumeration" href="#a3605f063314f858dec26db307c4e8214">astro_status_t</a>  status;</div>
<div class="line"><span class="lineno"> 4317</span> </div>
<div class="line"><span class="lineno"> 4318</span>    seasons.<a class="code hl_variable" href="structastro__seasons__t.html#a1e597ee698867cde851e6c8b0d43695c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 4319</span> </div>
<div class="line"><span class="lineno"> 4320</span>    status = FindSeasonChange(  0, year,  3, 19, &amp;seasons.<a class="code hl_variable" href="structastro__seasons__t.html#ab986e420149ee6217090ec28d8d44721">mar_equinox</a>);</div>
<div class="line"><span class="lineno"> 4321</span>    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>) seasons.<a class="code hl_variable" href="structastro__seasons__t.html#a1e597ee698867cde851e6c8b0d43695c">status</a> = status;</div>
<div class="line"><span class="lineno"> 4322</span> </div>
<div class="line"><span class="lineno"> 4323</span>    status = FindSeasonChange( 90, year,  6, 19, &amp;seasons.<a class="code hl_variable" href="structastro__seasons__t.html#aa70d91b741af06f465c1ce697c85259f">jun_solstice</a>);</div>
<div class="line"><span class="lineno"> 4324</span>    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>) seasons.<a class="code hl_variable" href="structastro__seasons__t.html#a1e597ee698867cde851e6c8b0d43695c">status</a> = status;</div>
<div class="line"><span class="lineno"> 4325</span> </div>
<div class="line"><span class="lineno"> 4326</span>    status = FindSeasonChange(180, year,  9, 21, &amp;seasons.<a class="code hl_variable" href="structastro__seasons__t.html#acb83b7271927a79e4eccce7d86d4a322">sep_equinox</a>);</div>
<div class="line"><span class="lineno"> 4327</span>    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>) seasons.<a class="code hl_variable" href="structastro__seasons__t.html#a1e597ee698867cde851e6c8b0d43695c">status</a> = status;</div>
<div class="line"><span class="lineno"> 4328</span> </div>
<div class="line"><span class="lineno"> 4329</span>    status = FindSeasonChange(270, year, 12, 20, &amp;seasons.<a class="code hl_variable" href="structastro__seasons__t.html#a05f1ac67ae8180267ac6140dc0643d3b">dec_solstice</a>);</div>
<div class="line"><span class="lineno"> 4330</span>    <span class="keywordflow">if</span> (status != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>) seasons.<a class="code hl_variable" href="structastro__seasons__t.html#a1e597ee698867cde851e6c8b0d43695c">status</a> = status;</div>
<div class="line"><span class="lineno"> 4331</span> </div>
<div class="line"><span class="lineno"> 4332</span>    <span class="keywordflow">return</span> seasons;</div>
<div class="line"><span class="lineno"> 4333</span>}</div>
<div class="ttc" id="astructastro__seasons__t_html"><div class="ttname"><a href="structastro__seasons__t.html">astro_seasons_t</a></div><div class="ttdoc">The dates and times of changes of season for a given calendar year. Call Astronomy_Seasons to calcula...</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00329">astronomy.h:330</a></div></div>
<div class="ttc" id="astructastro__seasons__t_html_a05f1ac67ae8180267ac6140dc0643d3b"><div class="ttname"><a href="structastro__seasons__t.html#a05f1ac67ae8180267ac6140dc0643d3b">astro_seasons_t::dec_solstice</a></div><div class="ttdeci">astro_time_t dec_solstice</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00335">astronomy.h:335</a></div></div>
<div class="ttc" id="astructastro__seasons__t_html_a1e597ee698867cde851e6c8b0d43695c"><div class="ttname"><a href="structastro__seasons__t.html#a1e597ee698867cde851e6c8b0d43695c">astro_seasons_t::status</a></div><div class="ttdeci">astro_status_t status</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00331">astronomy.h:331</a></div></div>
<div class="ttc" id="astructastro__seasons__t_html_aa70d91b741af06f465c1ce697c85259f"><div class="ttname"><a href="structastro__seasons__t.html#aa70d91b741af06f465c1ce697c85259f">astro_seasons_t::jun_solstice</a></div><div class="ttdeci">astro_time_t jun_solstice</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00333">astronomy.h:333</a></div></div>
<div class="ttc" id="astructastro__seasons__t_html_ab986e420149ee6217090ec28d8d44721"><div class="ttname"><a href="structastro__seasons__t.html#ab986e420149ee6217090ec28d8d44721">astro_seasons_t::mar_equinox</a></div><div class="ttdeci">astro_time_t mar_equinox</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00332">astronomy.h:332</a></div></div>
<div class="ttc" id="astructastro__seasons__t_html_acb83b7271927a79e4eccce7d86d4a322"><div class="ttname"><a href="structastro__seasons__t.html#acb83b7271927a79e4eccce7d86d4a322">astro_seasons_t::sep_equinox</a></div><div class="ttdeci">astro_time_t sep_equinox</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8h_source.html#l00334">astronomy.h:334</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00335">astro_seasons_t::dec_solstice</a>, <a class="el" href="astronomy_8h_source.html#l00333">astro_seasons_t::jun_solstice</a>, <a class="el" href="astronomy_8h_source.html#l00332">astro_seasons_t::mar_equinox</a>, <a class="el" href="astronomy_8h_source.html#l00334">astro_seasons_t::sep_equinox</a> y <a class="el" href="astronomy_8h_source.html#l00331">astro_seasons_t::status</a>.</p>

</div>
</div>
<a id="a4c9f93bd4cab3763b736c4af4f998c51" name="a4c9f93bd4cab3763b736c4af4f998c51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c9f93bd4cab3763b736c4af4f998c51">&#9670;&#160;</a></span>Astronomy_SetDeltaTFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Astronomy_SetDeltaTFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#af3069d908ec926afb25fdcb72ba779fc">astro_deltat_func</a></td>          <td class="paramname"><span class="paramname"><em>func</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the function Astronomy Engine uses to calculate Delta T. </p>
<p>Most programs should not call this function. It is for advanced use cases only. By default, Astronomy Engine uses the function <a class="el" href="astronomy_8c.html#a49d6510da542fa4ce77c898fefedfb6f" title="The default Delta T function used by Astronomy Engine.">Astronomy_DeltaT_EspenakMeeus</a> to estimate changes in the Earth's rotation rate over time. However, for the sake of unit tests that compare calculations against external data sources that use alternative models for Delta T, it is sometimes useful to replace the Delta T model to match. This function allows replacing the Delta T model with any other desired model.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">func</td><td>A pointer to a function to convert UT values to DeltaT values. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00701">701</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  702</span>{</div>
<div class="line"><span class="lineno">  703</span>    DeltaTFunc = func;</div>
<div class="line"><span class="lineno">  704</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ab761ac6b4efbf5ac97c99a8a13ceca" name="a8ab761ac6b4efbf5ac97c99a8a13ceca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ab761ac6b4efbf5ac97c99a8a13ceca">&#9670;&#160;</a></span>Astronomy_SphereFromVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__spherical__t.html">astro_spherical_t</a> Astronomy_SphereFromVector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__vector__t.html">astro_vector_t</a></td>          <td class="paramname"><span class="paramname"><em>vector</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts Cartesian coordinates to spherical coordinates. </p>
<p>Given a Cartesian vector, returns latitude, longitude, and distance.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>Cartesian vector to be converted to spherical coordinates.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Spherical coordinates that are equivalent to the given vector. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06371">6371</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6372</span>{</div>
<div class="line"><span class="lineno"> 6373</span>    <span class="keywordtype">double</span> xyproj;</div>
<div class="line"><span class="lineno"> 6374</span>    <a class="code hl_struct" href="structastro__spherical__t.html">astro_spherical_t</a> sphere;</div>
<div class="line"><span class="lineno"> 6375</span> </div>
<div class="line"><span class="lineno"> 6376</span>    xyproj = vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> + vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>;</div>
<div class="line"><span class="lineno"> 6377</span>    sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a41521dc6c95b9616034e14f8082f57a9">dist</a> = sqrt(xyproj + vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>*vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>);</div>
<div class="line"><span class="lineno"> 6378</span>    <span class="keywordflow">if</span> (xyproj == 0.0)</div>
<div class="line"><span class="lineno"> 6379</span>    {</div>
<div class="line"><span class="lineno"> 6380</span>        <span class="keywordflow">if</span> (vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> == 0.0)</div>
<div class="line"><span class="lineno"> 6381</span>        {</div>
<div class="line"><span class="lineno"> 6382</span>            <span class="comment">/* Indeterminate coordinates; pos vector has zero length. */</span></div>
<div class="line"><span class="lineno"> 6383</span>            <span class="keywordflow">return</span> SphereError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>);</div>
<div class="line"><span class="lineno"> 6384</span>        }</div>
<div class="line"><span class="lineno"> 6385</span> </div>
<div class="line"><span class="lineno"> 6386</span>        sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> = 0.0;</div>
<div class="line"><span class="lineno"> 6387</span>        sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a> = (vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> &lt; 0.0) ? -90.0 : +90.0;</div>
<div class="line"><span class="lineno"> 6388</span>    }</div>
<div class="line"><span class="lineno"> 6389</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 6390</span>    {</div>
<div class="line"><span class="lineno"> 6391</span>        sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> = RAD2DEG * atan2(vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>, vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>);</div>
<div class="line"><span class="lineno"> 6392</span>        <span class="keywordflow">if</span> (sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> &lt; 0.0)</div>
<div class="line"><span class="lineno"> 6393</span>            sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> += 360.0;</div>
<div class="line"><span class="lineno"> 6394</span> </div>
<div class="line"><span class="lineno"> 6395</span>        sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a> = RAD2DEG * atan2(vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>, sqrt(xyproj));</div>
<div class="line"><span class="lineno"> 6396</span>    }</div>
<div class="line"><span class="lineno"> 6397</span> </div>
<div class="line"><span class="lineno"> 6398</span>    sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a774e31cea2de2675b071afb066b07919">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6399</span>    <span class="keywordflow">return</span> sphere;</div>
<div class="line"><span class="lineno"> 6400</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00186">astro_spherical_t::dist</a>, <a class="el" href="astronomy_8h_source.html#l00184">astro_spherical_t::lat</a>, <a class="el" href="astronomy_8h_source.html#l00185">astro_spherical_t::lon</a>, <a class="el" href="astronomy_8h_source.html#l00183">astro_spherical_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06443">Astronomy_EquatorFromVector()</a> y <a class="el" href="astronomy_8c_source.html#l06506">Astronomy_HorizonFromVector()</a>.</p>

</div>
</div>
<a id="a7faf7b5f5022eac77258e6802cf74a6e" name="a7faf7b5f5022eac77258e6802cf74a6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7faf7b5f5022eac77258e6802cf74a6e">&#9670;&#160;</a></span>Astronomy_SunPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__ecliptic__t.html">astro_ecliptic_t</a> Astronomy_SunPosition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates geocentric ecliptic coordinates for the Sun. </p>
<p>This function calculates the position of the Sun as seen from the Earth. The returned value includes both Cartesian and spherical coordinates. The x-coordinate and longitude values in the returned structure are based on the <em>true equinox of date</em>: one of two points in the sky where the instantaneous plane of the Earth's equator at the given date and time (the <em>equatorial plane</em>) intersects with the plane of the Earth's orbit around the Sun (the <em>ecliptic plane</em>). By convention, the apparent location of the Sun at the March equinox is chosen as the longitude origin and x-axis direction, instead of the one for September.</p>
<p><span class="tt"><a class="el" href="astronomy_8c.html#a7faf7b5f5022eac77258e6802cf74a6e" title="Calculates geocentric ecliptic coordinates for the Sun.">Astronomy_SunPosition</a></span> corrects for precession and nutation of the Earth's axis in order to obtain the exact equatorial plane at the given time.</p>
<p>This function can be used for calculating changes of seasons: equinoxes and solstices. In fact, the function <a class="el" href="astronomy_8c.html#aeac16256031b618481fee2ef6aacee02" title="Finds both equinoxes and both solstices for a given calendar year.">Astronomy_Seasons</a> does use this function for that purpose.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The date and time for which to calculate the Sun's position.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The ecliptic coordinates of the Sun using the Earth's true equator of date. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l03838">3838</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 3839</span>{</div>
<div class="line"><span class="lineno"> 3840</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a> adjusted_time;</div>
<div class="line"><span class="lineno"> 3841</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> earth2000;</div>
<div class="line"><span class="lineno"> 3842</span>    <span class="keywordtype">double</span> sun2000[3];</div>
<div class="line"><span class="lineno"> 3843</span>    <span class="keywordtype">double</span> stemp[3];</div>
<div class="line"><span class="lineno"> 3844</span>    <span class="keywordtype">double</span> sun_ofdate[3];</div>
<div class="line"><span class="lineno"> 3845</span>    <span class="keywordtype">double</span> true_obliq;</div>
<div class="line"><span class="lineno"> 3846</span> </div>
<div class="line"><span class="lineno"> 3847</span>    <span class="comment">/* Correct for light travel time from the Sun. */</span></div>
<div class="line"><span class="lineno"> 3848</span>    <span class="comment">/* Otherwise season calculations (equinox, solstice) will all be early by about 8 minutes! */</span></div>
<div class="line"><span class="lineno"> 3849</span>    adjusted_time = <a class="code hl_function" href="astronomy_8c.html#a5f265f92cb2aa607ed9f3d883a31728a">Astronomy_AddDays</a>(time, -1.0 / C_AUDAY);</div>
<div class="line"><span class="lineno"> 3850</span> </div>
<div class="line"><span class="lineno"> 3851</span>    earth2000 = CalcEarth(adjusted_time);</div>
<div class="line"><span class="lineno"> 3852</span>    <span class="keywordflow">if</span> (earth2000.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 3853</span>        <span class="keywordflow">return</span> EclError(earth2000.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a>);</div>
<div class="line"><span class="lineno"> 3854</span> </div>
<div class="line"><span class="lineno"> 3855</span>    <span class="comment">/* Convert heliocentric location of Earth to geocentric location of Sun. */</span></div>
<div class="line"><span class="lineno"> 3856</span>    sun2000[0] = -earth2000.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>;</div>
<div class="line"><span class="lineno"> 3857</span>    sun2000[1] = -earth2000.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>;</div>
<div class="line"><span class="lineno"> 3858</span>    sun2000[2] = -earth2000.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>;</div>
<div class="line"><span class="lineno"> 3859</span> </div>
<div class="line"><span class="lineno"> 3860</span>    <span class="comment">/* Convert to equatorial Cartesian coordinates of date. */</span></div>
<div class="line"><span class="lineno"> 3861</span>    precession(0.0, sun2000, adjusted_time.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a>, stemp);</div>
<div class="line"><span class="lineno"> 3862</span>    nutation(&amp;adjusted_time, 0, stemp, sun_ofdate);</div>
<div class="line"><span class="lineno"> 3863</span> </div>
<div class="line"><span class="lineno"> 3864</span>    <span class="comment">/* Convert equatorial coordinates to ecliptic coordinates. */</span></div>
<div class="line"><span class="lineno"> 3865</span>    true_obliq = DEG2RAD * e_tilt(&amp;adjusted_time).tobl;</div>
<div class="line"><span class="lineno"> 3866</span>    <span class="keywordflow">return</span> RotateEquatorialToEcliptic(sun_ofdate, true_obliq);</div>
<div class="line"><span class="lineno"> 3867</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l00814">Astronomy_AddDays()</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

</div>
</div>
<a id="a6604474b568bbd210622c62912782cbf" name="a6604474b568bbd210622c62912782cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6604474b568bbd210622c62912782cbf">&#9670;&#160;</a></span>Astronomy_TimeFromDays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__time__t.html">astro_time_t</a> Astronomy_TimeFromDays </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>ut</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a J2000 day value to an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value. </p>
<p>This function can be useful for reproducing an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> structure from its <span class="tt">ut</span> field only.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">ut</td><td>The floating point number of days since noon UTC on January 1, 2000.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>An <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value for the given <span class="tt">ut</span> value. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00724">724</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  725</span>{</div>
<div class="line"><span class="lineno">  726</span>    <a class="code hl_struct" href="structastro__time__t.html">astro_time_t</a>  time;</div>
<div class="line"><span class="lineno">  727</span>    time.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> = ut;</div>
<div class="line"><span class="lineno">  728</span>    time.<a class="code hl_variable" href="structastro__time__t.html#a7efe42a250b382ca1052fd4ae5da4d8d">tt</a> = TerrestrialTime(ut);</div>
<div class="line"><span class="lineno">  729</span>    time.<a class="code hl_variable" href="structastro__time__t.html#a1daf4ea6e4bc7991cc9a204645eac5e8">psi</a> = time.<a class="code hl_variable" href="structastro__time__t.html#a5143fb2fa0c35eef45a919e8709684d5">eps</a> = NAN;</div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordflow">return</span> time;</div>
<div class="line"><span class="lineno">  731</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00147">astro_time_t::eps</a>, <a class="el" href="astronomy_8h_source.html#l00142">astro_time_t::psi</a>, <a class="el" href="astronomy_8h_source.html#l00137">astro_time_t::tt</a> y <a class="el" href="astronomy_8h_source.html#l00121">astro_time_t::ut</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07535">Astronomy_Constellation()</a> y <a class="el" href="astronomy_8c_source.html#l04110">Astronomy_Search()</a>.</p>

</div>
</div>
<a id="aba93625eb29cc56a024979ce51fe054b" name="aba93625eb29cc56a024979ce51fe054b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba93625eb29cc56a024979ce51fe054b">&#9670;&#160;</a></span>Astronomy_TimeFromUtc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__time__t.html">astro_time_t</a> Astronomy_TimeFromUtc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__utc__t.html">astro_utc_t</a></td>          <td class="paramname"><span class="paramname"><em>utc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value from a given calendar date and time. </p>
<p>This function is similar to <a class="el" href="astronomy_8c.html#a7a11e32bba1bcfd2970a7aebc1672a17" title="Creates an astro_time_t value from a given calendar date and time.">Astronomy_MakeTime</a>, only it receives a UTC calendar date and time in the form of an <a class="el" href="structastro__utc__t.html" title="A calendar date and time expressed in UTC.">astro_utc_t</a> structure instead of as separate numeric parameters. Astronomy_TimeFromUtc is the inverse of <a class="el" href="astronomy_8c.html#a6eb50592d9ecf9175c335d23b451a0fe" title="Determines the calendar year, month, day, and time from an astro_time_t value.">Astronomy_UtcFromTime</a>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">utc</td><td>The UTC calendar date and time to be converted to <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A value that can be used for astronomical calculations for the given date and time. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00846">846</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  847</span>{</div>
<div class="line"><span class="lineno">  848</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a7a11e32bba1bcfd2970a7aebc1672a17">Astronomy_MakeTime</a>(<a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.year, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.day, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.hour, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.minute, <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.second);</div>
<div class="line"><span class="lineno">  849</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a7a11e32bba1bcfd2970a7aebc1672a17"><div class="ttname"><a href="astronomy_8c.html#a7a11e32bba1bcfd2970a7aebc1672a17">Astronomy_MakeTime</a></div><div class="ttdeci">astro_time_t Astronomy_MakeTime(int year, int month, int day, int hour, int minute, double second)</div><div class="ttdoc">Creates an astro_time_t value from a given calendar date and time.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l00775">astronomy.c:775</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8c_source.html#l00775">Astronomy_MakeTime()</a> y <a class="el" href="NTP__Time_8h_source.html#l00102">utc</a>.</p>

</div>
</div>
<a id="a6eb50592d9ecf9175c335d23b451a0fe" name="a6eb50592d9ecf9175c335d23b451a0fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eb50592d9ecf9175c335d23b451a0fe">&#9670;&#160;</a></span>Astronomy_UtcFromTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__utc__t.html">astro_utc_t</a> Astronomy_UtcFromTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines the calendar year, month, day, and time from an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value. </p>
<p>After calculating the date and time of an astronomical event in the form of an <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> value, it is often useful to display the result in a human-readable form. This function converts the linear time scales in the <span class="tt">ut</span> field of <a class="el" href="structastro__time__t.html" title="A date and time used for astronomical calculations.">astro_time_t</a> into a calendar date and time: year, month, day, hours, minutes, and seconds, expressed in UTC.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>The astronomical time value to be converted to calendar date and time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A date and time broken out into conventional year, month, day, hour, minute, and second. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00863">863</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  864</span>{</div>
<div class="line"><span class="lineno">  865</span>    <span class="comment">/* Adapted from the NOVAS C 3.1 function cal_date() */</span></div>
<div class="line"><span class="lineno">  866</span>    <a class="code hl_struct" href="structastro__utc__t.html">astro_utc_t</a> <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>;</div>
<div class="line"><span class="lineno">  867</span>    <span class="keywordtype">long</span> jd, k, m, n;</div>
<div class="line"><span class="lineno">  868</span>    <span class="keywordtype">double</span> djd, x;</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    djd = time.<a class="code hl_variable" href="structastro__time__t.html#a0874edc886a134a3a09ed3c1e4c41d24">ut</a> + 2451545.5;</div>
<div class="line"><span class="lineno">  871</span>    jd = (long)djd;</div>
<div class="line"><span class="lineno">  872</span> </div>
<div class="line"><span class="lineno">  873</span>    x = 24.0 * fmod(djd, 1.0);</div>
<div class="line"><span class="lineno">  874</span>    <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.hour = (int)x;</div>
<div class="line"><span class="lineno">  875</span>    x = 60.0 * fmod(x, 1.0);</div>
<div class="line"><span class="lineno">  876</span>    <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.minute = (int)x;</div>
<div class="line"><span class="lineno">  877</span>    <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.second = 60.0 * fmod(x, 1.0);</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>    k = jd + 68569L;</div>
<div class="line"><span class="lineno">  880</span>    n = 4L * k / 146097L;</div>
<div class="line"><span class="lineno">  881</span>    k = k - (146097L * n + 3L) / 4L;</div>
<div class="line"><span class="lineno">  882</span>    m = 4000L * (k + 1L) / 1461001L;</div>
<div class="line"><span class="lineno">  883</span>    k = k - 1461L * m / 4L + 31L;</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month = (int) (80L * k / 2447L);</div>
<div class="line"><span class="lineno">  886</span>    <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.day = (int) (k - 2447L * (<span class="keywordtype">long</span>)<a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month / 80L);</div>
<div class="line"><span class="lineno">  887</span>    k = (long) <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month / 11L;</div>
<div class="line"><span class="lineno">  888</span> </div>
<div class="line"><span class="lineno">  889</span>    <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month = (int) ((<span class="keywordtype">long</span>)<a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.month + 2L - 12L * k);</div>
<div class="line"><span class="lineno">  890</span>    <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>.year = (int) (100L * (n - 49L) + m + k);</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="NTP__Time_8h.html#a4c3dff1cb700be9fddeecf59990b1c6c">utc</a>;</div>
<div class="line"><span class="lineno">  893</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00121">astro_time_t::ut</a> y <a class="el" href="NTP__Time_8h_source.html#l00102">utc</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l00933">Astronomy_FormatTime()</a>.</p>

</div>
</div>
<a id="a0041e26b315bf28f71bc67622d39bdaa" name="a0041e26b315bf28f71bc67622d39bdaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0041e26b315bf28f71bc67622d39bdaa">&#9670;&#160;</a></span>Astronomy_VectorFromEquator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__vector__t.html">astro_vector_t</a> Astronomy_VectorFromEquator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__equatorial__t.html">astro_equatorial_t</a></td>          <td class="paramname"><span class="paramname"><em>equ</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given angular equatorial coordinates in <span class="tt">equ</span>, calculates equatorial vector. </p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">equ</td><td>Angular equatorial coordinates to be converted to a vector.</td></tr>
    <tr><td class="paramname">time</td><td>The date and time of the observation. This is needed because the returned vector requires a valid time value when passed to certain other functions.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A vector in the equatorial system. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06417">6417</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6418</span>{</div>
<div class="line"><span class="lineno"> 6419</span>    <a class="code hl_struct" href="structastro__spherical__t.html">astro_spherical_t</a> sphere;</div>
<div class="line"><span class="lineno"> 6420</span> </div>
<div class="line"><span class="lineno"> 6421</span>    <span class="keywordflow">if</span> (equ.<a class="code hl_variable" href="structastro__equatorial__t.html#afab33097965cc037477a3cceefdedf17">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6422</span>        <span class="keywordflow">return</span> VecError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>, time);</div>
<div class="line"><span class="lineno"> 6423</span> </div>
<div class="line"><span class="lineno"> 6424</span>    sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a774e31cea2de2675b071afb066b07919">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6425</span>    sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a> = equ.<a class="code hl_variable" href="structastro__equatorial__t.html#af313e351ebecda5b3d4c00dccff26278">dec</a>;</div>
<div class="line"><span class="lineno"> 6426</span>    sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> = 15.0 * equ.<a class="code hl_variable" href="structastro__equatorial__t.html#a3f0d378983c16e181bae1787fc22fc9c">ra</a>;     <span class="comment">/* convert sidereal hours to degrees */</span></div>
<div class="line"><span class="lineno"> 6427</span>    sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a41521dc6c95b9616034e14f8082f57a9">dist</a> = equ.<a class="code hl_variable" href="structastro__equatorial__t.html#ae436ef560df6767e82a5e5f87af13a9a">dist</a>;</div>
<div class="line"><span class="lineno"> 6428</span> </div>
<div class="line"><span class="lineno"> 6429</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a3b6e808d49c15ebd0601941d170cc628">Astronomy_VectorFromSphere</a>(sphere, time);</div>
<div class="line"><span class="lineno"> 6430</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a3b6e808d49c15ebd0601941d170cc628"><div class="ttname"><a href="astronomy_8c.html#a3b6e808d49c15ebd0601941d170cc628">Astronomy_VectorFromSphere</a></div><div class="ttdeci">astro_vector_t Astronomy_VectorFromSphere(astro_spherical_t sphere, astro_time_t time)</div><div class="ttdoc">Converts spherical coordinates to Cartesian coordinates.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06338">astronomy.c:6338</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l06338">Astronomy_VectorFromSphere()</a>, <a class="el" href="astronomy_8h_source.html#l00255">astro_equatorial_t::dec</a>, <a class="el" href="astronomy_8h_source.html#l00256">astro_equatorial_t::dist</a>, <a class="el" href="astronomy_8h_source.html#l00186">astro_spherical_t::dist</a>, <a class="el" href="astronomy_8h_source.html#l00184">astro_spherical_t::lat</a>, <a class="el" href="astronomy_8h_source.html#l00185">astro_spherical_t::lon</a>, <a class="el" href="astronomy_8h_source.html#l00254">astro_equatorial_t::ra</a>, <a class="el" href="astronomy_8h_source.html#l00253">astro_equatorial_t::status</a> y <a class="el" href="astronomy_8h_source.html#l00183">astro_spherical_t::status</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l07535">Astronomy_Constellation()</a>.</p>

</div>
</div>
<a id="a247b0adb5b52ba78730ccf75e167db38" name="a247b0adb5b52ba78730ccf75e167db38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a247b0adb5b52ba78730ccf75e167db38">&#9670;&#160;</a></span>Astronomy_VectorFromHorizon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__vector__t.html">astro_vector_t</a> Astronomy_VectorFromHorizon </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__spherical__t.html">astro_spherical_t</a></td>          <td class="paramname"><span class="paramname"><em>sphere</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#affbe5c88a5c372b8585d62414b6d03d3">astro_refraction_t</a></td>          <td class="paramname"><span class="paramname"><em>refraction</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given apparent angular horizontal coordinates in <span class="tt">sphere</span>, calculate horizontal vector. </p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">sphere</td><td>A structure that contains apparent horizontal coordinates: <span class="tt">lat</span> holds the refracted azimuth angle, <span class="tt">lon</span> holds the azimuth in degrees clockwise from north, and <span class="tt">dist</span> holds the distance from the observer to the object in AU.</td></tr>
    <tr><td class="paramname">time</td><td>The date and time of the observation. This is needed because the returned <a class="el" href="structastro__vector__t.html" title="A 3D Cartesian vector whose components are expressed in Astronomical Units (AU).">astro_vector_t</a> structure requires a valid time value when passed to certain other functions.</td></tr>
    <tr><td class="paramname">refraction</td><td>The refraction option used to model atmospheric lensing. See <a class="el" href="astronomy_8c.html#a3d5bc08ddb39c401a00a4d731f42c378" title="Calculates the amount of &quot;lift&quot; to an altitude angle caused by atmospheric refraction.">Astronomy_Refraction</a>. This specifies how refraction is to be removed from the altitude stored in <span class="tt">sphere.lat</span>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>A vector in the horizontal system: <span class="tt">x</span> = north, <span class="tt">y</span> = west, and <span class="tt">z</span> = zenith (up). </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06543">6543</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6544</span>{</div>
<div class="line"><span class="lineno"> 6545</span>    <span class="keywordflow">if</span> (sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a774e31cea2de2675b071afb066b07919">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6546</span>        <span class="keywordflow">return</span> VecError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>, time);</div>
<div class="line"><span class="lineno"> 6547</span> </div>
<div class="line"><span class="lineno"> 6548</span>    <span class="comment">/* Convert azimuth from clockwise-from-north to counterclockwise-from-north. */</span></div>
<div class="line"><span class="lineno"> 6549</span>    sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> = ToggleAzimuthDirection(sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a>);</div>
<div class="line"><span class="lineno"> 6550</span> </div>
<div class="line"><span class="lineno"> 6551</span>    <span class="comment">/* Reverse any applied refraction. */</span></div>
<div class="line"><span class="lineno"> 6552</span>    sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a> += <a class="code hl_function" href="astronomy_8c.html#a67d9869912511c38214ee5a46a346205">Astronomy_InverseRefraction</a>(refraction, sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a>);</div>
<div class="line"><span class="lineno"> 6553</span> </div>
<div class="line"><span class="lineno"> 6554</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="astronomy_8c.html#a3b6e808d49c15ebd0601941d170cc628">Astronomy_VectorFromSphere</a>(sphere, time);</div>
<div class="line"><span class="lineno"> 6555</span>}</div>
<div class="ttc" id="aastronomy_8c_html_a67d9869912511c38214ee5a46a346205"><div class="ttname"><a href="astronomy_8c.html#a67d9869912511c38214ee5a46a346205">Astronomy_InverseRefraction</a></div><div class="ttdeci">double Astronomy_InverseRefraction(astro_refraction_t refraction, double bent_altitude)</div><div class="ttdoc">Calculates the inverse of an atmospheric refraction angle.</div><div class="ttdef"><b>Definition</b> <a href="astronomy_8c_source.html#l06644">astronomy.c:6644</a></div></div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8c_source.html#l06644">Astronomy_InverseRefraction()</a>, <a class="el" href="astronomy_8c_source.html#l06338">Astronomy_VectorFromSphere()</a>, <a class="el" href="astronomy_8h_source.html#l00184">astro_spherical_t::lat</a>, <a class="el" href="astronomy_8h_source.html#l00185">astro_spherical_t::lon</a> y <a class="el" href="astronomy_8h_source.html#l00183">astro_spherical_t::status</a>.</p>

</div>
</div>
<a id="a3b6e808d49c15ebd0601941d170cc628" name="a3b6e808d49c15ebd0601941d170cc628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b6e808d49c15ebd0601941d170cc628">&#9670;&#160;</a></span>Astronomy_VectorFromSphere()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structastro__vector__t.html">astro_vector_t</a> Astronomy_VectorFromSphere </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__spherical__t.html">astro_spherical_t</a></td>          <td class="paramname"><span class="paramname"><em>sphere</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structastro__time__t.html">astro_time_t</a></td>          <td class="paramname"><span class="paramname"><em>time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts spherical coordinates to Cartesian coordinates. </p>
<p>Given spherical coordinates and a time at which they are valid, returns a vector of Cartesian coordinates. The returned value includes the time, as required by the type <a class="el" href="structastro__vector__t.html" title="A 3D Cartesian vector whose components are expressed in Astronomical Units (AU).">astro_vector_t</a>.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">sphere</td><td>Spherical coordinates to be converted.</td></tr>
    <tr><td class="paramname">time</td><td>The time that should be included in the return value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The vector form of the supplied spherical coordinates. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l06338">6338</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 6339</span>{</div>
<div class="line"><span class="lineno"> 6340</span>    <a class="code hl_struct" href="structastro__vector__t.html">astro_vector_t</a> vector;</div>
<div class="line"><span class="lineno"> 6341</span>    <span class="keywordtype">double</span> radlat, radlon, rcoslat;</div>
<div class="line"><span class="lineno"> 6342</span> </div>
<div class="line"><span class="lineno"> 6343</span>    <span class="keywordflow">if</span> (sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a774e31cea2de2675b071afb066b07919">status</a> != <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>)</div>
<div class="line"><span class="lineno"> 6344</span>        <span class="keywordflow">return</span> VecError(<a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214abf01c292b98fcb6a534c5c1dfa9f05d7">ASTRO_INVALID_PARAMETER</a>, time);</div>
<div class="line"><span class="lineno"> 6345</span> </div>
<div class="line"><span class="lineno"> 6346</span>    radlat = sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a15d1f504c387ae368b18b5b48f8ab20d">lat</a> * DEG2RAD;</div>
<div class="line"><span class="lineno"> 6347</span>    radlon = sphere.<a class="code hl_variable" href="structastro__spherical__t.html#afb6c95790984dae79317d133afd075a0">lon</a> * DEG2RAD;</div>
<div class="line"><span class="lineno"> 6348</span>    rcoslat = sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a41521dc6c95b9616034e14f8082f57a9">dist</a> * cos(radlat);</div>
<div class="line"><span class="lineno"> 6349</span> </div>
<div class="line"><span class="lineno"> 6350</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#a56282eb2bcf0dce0170952f9d1aa8b3c">status</a> = <a class="code hl_enumvalue" href="#a3605f063314f858dec26db307c4e8214ad17c563c7c89f68ffdc88b6b40d20939">ASTRO_SUCCESS</a>;</div>
<div class="line"><span class="lineno"> 6351</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#ad90a34927631a1940ae0378574d42103">t</a> = time;</div>
<div class="line"><span class="lineno"> 6352</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> = rcoslat * cos(radlon);</div>
<div class="line"><span class="lineno"> 6353</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> = rcoslat * sin(radlon);</div>
<div class="line"><span class="lineno"> 6354</span>    vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a> = sphere.<a class="code hl_variable" href="structastro__spherical__t.html#a41521dc6c95b9616034e14f8082f57a9">dist</a> * sin(radlat);</div>
<div class="line"><span class="lineno"> 6355</span> </div>
<div class="line"><span class="lineno"> 6356</span>    <span class="keywordflow">return</span> vector;</div>
<div class="line"><span class="lineno"> 6357</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00055">ASTRO_INVALID_PARAMETER</a>, <a class="el" href="astronomy_8h_source.html#l00044">ASTRO_SUCCESS</a>, <a class="el" href="astronomy_8h_source.html#l00186">astro_spherical_t::dist</a>, <a class="el" href="astronomy_8h_source.html#l00184">astro_spherical_t::lat</a>, <a class="el" href="astronomy_8h_source.html#l00185">astro_spherical_t::lon</a>, <a class="el" href="astronomy_8h_source.html#l00183">astro_spherical_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00170">astro_vector_t::status</a>, <a class="el" href="astronomy_8h_source.html#l00174">astro_vector_t::t</a>, <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l06417">Astronomy_VectorFromEquator()</a> y <a class="el" href="astronomy_8c_source.html#l06543">Astronomy_VectorFromHorizon()</a>.</p>

</div>
</div>
<a id="aee2ee032e87ca30739a4381ea67958c2" name="aee2ee032e87ca30739a4381ea67958c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2ee032e87ca30739a4381ea67958c2">&#9670;&#160;</a></span>Astronomy_VectorLength()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Astronomy_VectorLength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structastro__vector__t.html">astro_vector_t</a></td>          <td class="paramname"><span class="paramname"><em>vector</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the length of the given vector. </p>
<p>Calculates the non-negative length of the given vector. The length is expressed in the same units as the vector's components, usually astronomical units (AU).</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>The vector whose length is to be calculated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>The length of the vector. </dd></dl>

<p class="definition">Definición en la línea <a class="el" href="astronomy_8c_source.html#l00238">238</a> del archivo <a class="el" href="astronomy_8c_source.html">astronomy.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  239</span>{</div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">return</span> sqrt(vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a>*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9519f6730bb6e466b810c9b5b053d7a5">x</a> + vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a>*vector.<a class="code hl_variable" href="structastro__vector__t.html#a9f78a5f7f0320b6f5194e1006488baa5">y</a> + vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>*vector.<a class="code hl_variable" href="structastro__vector__t.html#aa96463d4940475e13e1df0fdaabbb955">z</a>);</div>
<div class="line"><span class="lineno">  241</span>}</div>
</div><!-- fragment -->
<p class="reference">Hace referencia a <a class="el" href="astronomy_8h_source.html#l00171">astro_vector_t::x</a>, <a class="el" href="astronomy_8h_source.html#l00172">astro_vector_t::y</a> y <a class="el" href="astronomy_8h_source.html#l00173">astro_vector_t::z</a>.</p>

<p class="reference">Referenciado por <a class="el" href="astronomy_8c_source.html#l03520">Astronomy_GeoVector()</a>, <a class="el" href="astronomy_8c_source.html#l03458">Astronomy_HelioDistance()</a> y <a class="el" href="astronomy_8c_source.html#l05450">Astronomy_Illumination()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a href="dir_a00e1292026ae2b011a01279c6fea683.html">TFT_eSPI</a></li><li class="navelem"><a href="dir_d834161b10c57611f417f859026dded1.html">examples</a></li><li class="navelem"><a href="dir_f2bf512a83492f5a8bd26b1857381b72.html">Sprite</a></li><li class="navelem"><a href="dir_ebfcfde4ed14ec6067c71c74dae34900.html">Orrery</a></li><li class="navelem"><a href="astronomy_8h.html">astronomy.h</a></li>
    <li class="footer">Generado por <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
